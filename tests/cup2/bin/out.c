#include "stdint.h"
#include "stdlib.h"
#include "string.h"
#include "stdio.h"
#include "stdarg.h"
#include "dirent.h"
#include "ctype.h"
#include "time.h"
typedef struct _S2 _S2;typedef struct _V2 _V2;typedef struct _Z2 _Z2;typedef struct _i2 _i2;typedef struct _l2 _l2;typedef struct _o2 _o2;typedef struct _q2 _q2;typedef struct _u2 _u2;typedef struct _y2 _y2;typedef struct _03 _03;typedef struct _z2 _z2;typedef struct _33 _33;typedef struct _43 _43;typedef struct _63 _63;typedef struct _73 _73;typedef struct _83 _83;typedef struct _93 _93;typedef struct _A3 _A3;typedef struct _B3 _B3;typedef struct _C3 _C3;typedef struct _D3 _D3;typedef struct _E3 _E3;typedef struct _F3 _F3;typedef struct _G3 _G3;typedef struct _H3 _H3;typedef struct _53 _53;typedef struct _I3 _I3;typedef struct _u3 _u3;typedef struct _v3 _v3;typedef struct _w3 _w3;typedef struct _x3 _x3;typedef struct _y3 _y3;typedef struct _44 _44;typedef struct _Q4 _Q4;typedef struct _S4 _S4;typedef struct _Z4 _Z4;typedef struct _Y4 _Y4;double _R2();void _T2(_S2 __1);void _U2();_V2 _W2(int __1);_V2 _X2(uint8_t* __1);_Z2 _Y2(_V2* this);_Z2 _a2(int __1);_Z2 _b2(uint8_t* __1);void _c2(_Z2* this,uint8_t __1);void _d2(_Z2* this,uint8_t __1);void _e2(_Z2* this,_V2 __1);void _f2(_Z2* this,_V2 __1);_V2 _g2(_Z2* this);void _h2(uint8_t* __1,...);void _j2(_i2* this,int __1,uint8_t* __2,...);void _k2(_V2 __1,int __2,int __3);int _m2(_l2 __1);uint8_t* _n2(_l2 __1);void _p2(_i2 __1,int __2,_Z2* __3,uint8_t __4,_q2 __5);_l2 _r2(uint8_t* __1);uint8_t _s2(_l2 __1);_u2 _t2(_i2 __1);_u2 _v2(int __3);void _w2(_u2* this,_o2 __B);void _x2(_u2 __1);_y2 _13(_y2* this);_03 _23(int __2);_63 _J3(_i2 __1,_u2 __2);_63 _K3(int __5);void _L3(_63* this,_53 __5);_63 _N3(_i2 __1,_u2 __2,int* __3,uint8_t __4);_o2 _P3(_i2 __1,_u2 __2,int* __3,_l2 __4,uint8_t* __5);uint8_t _Q3(_u2 __1,int* __2,_l2 __3);_53 _O3(_i2 __1,_u2 __2,int* __3,int __4,uint8_t __5);_53* _U3(_53 __B);_D3 _V3(int __A);void _W3(_D3* this,_73 __B);_E3 _X3(int __C);void _Y3(_E3* this,_83 __C);_G3 _Z3(int __9);void _a3(_G3* this,_V2 __9);_53 _M3(_i2 __1,_u2 __2,int* __3);_H3 _R3(_i2 __1,_u2 __2,int* __3,uint8_t __4);_I3 _S3(_i2 __1,_u2 __2,int* __3);_I3 _d3(int __5);void _e3(_I3* this,_43 __9);_y2 _T3(_i2 __1,_u2 __2,int* __3);_y2 _f3(_i2 __1,_u2 __2,int* __3);_33 _g3(int __9);void _h3(_33* this,_y2 __B);void _i3(_03* this,_z2 __9);_63 _b3(_i2 __1,_u2 __2,int* __3);_63 _c3(_i2 __1,_u2 __2,int* __3);void _j3(_63 __1);void _k3(_63 __1,int __2);void _n3(_63 __1,int __2,uint8_t* __3,uint8_t __4);void _m3(_53 __1,int __2);void _q3(_y2 __1,int __2);void _p3(_I3 __1,int __2);void _r3(_83 __1,int __2);void _s3(_E3 __1,int __2);void _t3(_93 __1,int __2);uint8_t* _o3(_A3 __1);void _l3(int __1);void _z3();_x3 _04(int __1);_y3 _14(int __1);void _24(_i2 __1,_63 __2);void _34(_i2 __1,_53* __2);void _74(_03* this,_03 __9);void _84(_03* this,_03 __A);void _94(_y3* this,_v3 __A);void _E4(_i2 __1,_63 __2);void _F4(_i2 __1,_53* __2);uint8_t _B4(_y2 __1);uint8_t _A4(_y2 __1);void _64(_44 __1,_y2 __2);void _G4(_y2* __1);_V2 _I4(_y2 __1,uint8_t __2,uint8_t __3);void _J4(_x3* this,_w3 __4);_w3 _K4(int __4);_V2 _D4(int __1,uint8_t __2,int __3);uint8_t _54(_y2 __1,uint8_t* __2);uint8_t _H4(_y2 __1,_y2 __2);void _C4(_53 __1,_y2 __2,_V2 __3);void _L4(_w3* this,_u3 __4);void _M4(_V2 __1,_63 __2);void _N4(_Z2* __1,_63 __2,uint8_t __3,uint8_t __4,uint8_t __5);void _O4(_Z2* __1,_53 __2,uint8_t __3,uint8_t __4,int __5);void _P4(uint8_t* __1,uint8_t* __2,uint8_t* __3);_Q4 _R4(_S4 __1);int main(int __1,uint8_t** __2);_S4 _T4(int __4);_V2 _W4(_H3* this);void _U4(_H3* __1,_S4 __2,int __3);void _V4(_V2 __1,_63* __2);_Z4 _a4(int __6);void _b4(_Z4* this,_Y4 __C);void _c4(_63* this,_63 __C);_V2 _X4(_V2 __1,_V2 __2);int _i1;_x3 _j1;_y3 _k1;_63 _l1;_03 _m1;uint8_t* _n1="\n    No options are available for this command";uint8_t* _o1="\n    -i, --input     Specify the input file name\n    -o, --output    Specify the output file name\n    -cg, --gcc     Use GCC as a compiler\n    -cm, --msvc    Use MSVC as a compiler\n    -cc, --clang   use Clang as a compiler\n    -ct, --tcc     Use TinyCC as a compiler";typedef struct _S2{int t;union{}u;}_S2;typedef struct _V2{uint8_t* buf;int len;}_V2;typedef struct _Z2{uint8_t* buf;int len;int cap;}_Z2;typedef struct _i2{_V2 name;_V2 data;}_i2;typedef struct _l2{int t;union{}u;}_l2;typedef struct _o2{_l2 kind;int index;_V2 value;}_o2;typedef struct _q2{int t;union{}u;}_q2;typedef struct _u2{_o2* buf;int len;int cap;}_u2;typedef struct _03{_z2* buf;int len;int cap;}_03;typedef struct _y2{_03 parts;int index;}_y2;typedef struct _33{_y2* buf;int len;int cap;}_33;typedef struct _z2{uint8_t pub;_V2 name;_33 gens;}_z2;typedef struct _63{_53* buf;int len;int cap;}_63;typedef struct _43{_y2 path;_63 args;int index;}_43;typedef struct _73{_V2 name;_53* value;}_73;typedef struct _83{_53* cond;_63 body;}_83;typedef struct _93{_63 body;}_93;typedef struct _B3{int t;union{struct{_y2 thing;}Some;}u;}_B3;typedef struct _C3{int t;union{struct{_53* thing;}Some;}u;}_C3;typedef struct _D3{_73* buf;int len;int cap;}_D3;typedef struct _E3{_83* buf;int len;int cap;}_E3;typedef struct _F3{int t;union{struct{_93 thing;}Some;}u;}_F3;typedef struct _G3{_V2* buf;int len;int cap;}_G3;typedef struct _H3{int t;union{struct{_V2 thing;}Some;}u;}_H3;typedef struct _A3{int t;union{struct{_y2 path;_63 args;_63 body;}TagDef;struct{_63 body;}Block;struct{_y2 path;_63 body;}Mod;struct{_y2 path;}Use;struct{_y2 _type;_V2 name;}Field;struct{_y2 path;_63 fields;_63 body;}Comp;struct{_y2 path;_63 opts;_63 body;}Enum;struct{_V2 name;_63 fields;}Option;struct{_y2 path;_63 body;}Prop;struct{_y2 _prop;_B3 target;_63 body;}Def;struct{_B3 ret_type;_y2 path;_63 args;_63 body;}SubDef;struct{_B3 _type;_y2 path;_C3 value;}VarDef;struct{_B3 _type;_V2 name;_C3 value;}LocalVarDef;struct{_y2 path;_63 args;}SubCall;struct{_y2 path;}VarUse;struct{_y2 _type;_D3 field_vals;}CompInst;struct{_y2 _type;_y2 path;int opt_index;_63 args;}EnumInst;struct{_V2 value;}StringLit;struct{_V2 value;}CharLit;struct{_V2 value;}IntLit;struct{_V2 value;}FloatLit;struct{uint8_t value;}BoolLit;struct{_63 body;}LocalBlock;struct{_83 _if;_E3 _elif;_F3 _else;}If;struct{_63 body;}Loop;struct{_53* cond;_63 body;}While;struct{_V2 iter;_C3 iter_value;_53* cond;_53* _next;_63 body;}For;struct{_G3 vars;_53* iter;_63 body;}Each;struct{_53* value;_63 cases;}Match;struct{_63 values;_63 body;}Case;struct{_53* value;}Echo;struct{_H3 label;_C3 value;}Ret;struct{_H3 label;}Next;struct{_H3 label;}Jump;struct{_H3 label;_53* value;}Try;struct{_53* value;_l2 kind;}UnaryOp;struct{_53* lhs;_53* rhs;_l2 kind;}BinaryOp;struct{_53* cond;_53* valueA;_53* valueB;}TernaryOp;}u;}_A3;typedef struct _I3{_43* buf;int len;int cap;}_I3;typedef struct _53{_A3 kind;_I3 tags;_H3 label;}_53;typedef struct _u3{_53 expr;_y2 path;_V2 name;}_u3;typedef struct _v3{_y2 path;_y2 alias;}_v3;typedef struct _w3{_u3* buf;int len;int cap;}_w3;typedef struct _x3{_w3* buf;int len;int cap;}_x3;typedef struct _y3{_v3* buf;int len;int cap;}_y3;typedef struct _44{int t;union{struct{_43 thing;}Some;}u;}_44;typedef struct _Q4{int t;union{}u;}_Q4;typedef struct _S4{_V2* buf;int len;}_S4;typedef struct _Z4{_Y4* buf;int len;int cap;}_Z4;typedef struct _Y4{_i2 file;_63 exprs;}_Y4;double _R2(){return ((double)clock())/CLOCKS_PER_SEC;};void _T2(_S2 __1){if(__1.t==0){printf("\033[35m");}else if(__1.t==1){printf("\033[32m");}else if(__1.t==2){printf("\033[0;31m");}};void _U2(){printf("\033[0m");};_V2 _W2(int __1){return (_V2){.buf=malloc(sizeof(uint8_t)*__1),.len=__1,};};_V2 _X2(uint8_t* __1){int __2=strlen(__1)+1;uint8_t* __3=malloc(sizeof(uint8_t)*__2);memcpy(__3,__1,sizeof(uint8_t)*__2);return (_V2){.buf=__3,.len=__2-1,};};_Z2 _Y2(_V2* this){return (_Z2){.buf=(*this).buf,.len=(*this).len,.cap=(*this).len,};};_Z2 _a2(int __1){return (_Z2){.buf=malloc(sizeof(uint8_t)*__1),.len=0,.cap=__1,};};_Z2 _b2(uint8_t* __1){int __2=strlen(__1)+1;uint8_t* __3=malloc((sizeof(uint8_t)*__2)*2);memcpy(__3,__1,sizeof(uint8_t)*__2);return (_Z2){.buf=__3,.len=__2-1,.cap=__2*2,};};void _c2(_Z2* this,uint8_t __1){(((*this).buf)[((*this).len)])=__1;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}(((*this).buf)[((*this).len)])='\0';};void _d2(_Z2* this,uint8_t __1){((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memcpy(((*this).buf)+1,(*this).buf,sizeof(uint8_t)*((*this).len));(((*this).buf)[0])=__1;};void _e2(_Z2* this,_V2 __1){if((__1.len)==0){return;}int __2=(*this).len;((*this).len)+=(__1.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memcpy(((*this).buf)+__2,__1.buf,sizeof(uint8_t)*((__1.len)+1));};void _f2(_Z2* this,_V2 __1){if((__1.len)==0){return;}int __2=(*this).len;((*this).len)+=(__1.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memcpy(((*this).buf)+(__1.len),(*this).buf,sizeof(uint8_t)*(__2+1));memcpy((*this).buf,__1.buf,sizeof(uint8_t)*(__1.len));};_V2 _g2(_Z2* this){return (_V2){.buf=(*this).buf,.len=(*this).len,};};void _h2(uint8_t* __1,...){va_list __2;va_start(__2,__1);_T2((_S2){.t=2});printf("error:");_U2();printf(" ");vprintf(__1,__2);printf("\n");exit(1);va_end(__2);};void _j2(_i2* this,int __1,uint8_t* __2,...){va_list __3;va_start(__3,__2);int __4=1;int __5=1;for(int __6=0;__6<__1;__6+=1){if(((((*this).data).buf)[__6])=='\n'){__4+=1;__5=1;}else{__5+=1;}}printf("%s:%i:%i: ",((*this).name).buf,__4,__5);_T2((_S2){.t=2});printf("error:");_U2();printf(" ");vprintf(__2,__3);printf("\n");_k2((*this).data,__4,__5);exit(1);va_end(__3);};void _k2(_V2 __1,int __2,int __3){printf(" %i | ",__2);int __4=2;int __5=__2;while(__5!=0){__4+=1;__5/=10;}int __6=1;for(int __7=0;__7<(__1.len);__7+=1){uint8_t __8=(__1.buf)[__7];if(__8=='\n'){__6+=1;if(__6>__2){goto ret_l;}}else if(__6==__2){putchar(__8);}l:}ret_l:putchar('\n');for(int __7=0;__7<__4;__7+=1){putchar(' ');}putchar('|');for(int __7=0;__7<__3;__7+=1){putchar(' ');}_T2((_S2){.t=2});putchar('^');_U2();putchar('\n');};int _m2(_l2 __1){if(__1.t==8||__1.t==25||__1.t==29){return 5;}else if(__1.t==7||__1.t==9||__1.t==10||__1.t==14||__1.t==15||__1.t==16||__1.t==22||__1.t==23||__1.t==24||__1.t==27||__1.t==30||__1.t==32||__1.t==33){return 4;}else if(__1.t==11||__1.t==12||__1.t==13||__1.t==17||__1.t==18||__1.t==19||__1.t==20||__1.t==26||__1.t==31||__1.t==34||__1.t==36){return 3;}else if(__1.t==21||__1.t==28||__1.t==35||__1.t==53||__1.t==55||__1.t==59||__1.t==61||__1.t==63||__1.t==65||__1.t==67||__1.t==69||__1.t==71){return 2;}else if(__1.t==37||__1.t==38||__1.t==39||__1.t==40||__1.t==41||__1.t==42||__1.t==43||__1.t==44||__1.t==45||__1.t==46||__1.t==47||__1.t==48||__1.t==49||__1.t==50||__1.t==51||__1.t==52||__1.t==54||__1.t==56||__1.t==57||__1.t==58||__1.t==60||__1.t==62||__1.t==64||__1.t==66||__1.t==68||__1.t==70){return 1;}};uint8_t* _n2(_l2 __1){if(__1.t==1){return "EMPTY";}else if(__1.t==2){return "IDENT";}else if(__1.t==3){return "STRING_LIT";}else if(__1.t==4){return "CHAR_LIT";}else if(__1.t==5){return "INT_LIT";}else if(__1.t==6){return "FLOAT_LIT";}else if(__1.t==7){return "TRUE";}else if(__1.t==8){return "FALSE";}else if(__1.t==9){return "THIS";}else if(__1.t==10){return "TYPE";}else if(__1.t==11){return "TAG";}else if(__1.t==12){return "MOD";}else if(__1.t==13){return "USE";}else if(__1.t==14){return "COMP";}else if(__1.t==15){return "ENUM";}else if(__1.t==16){return "PROP";}else if(__1.t==17){return "DEF";}else if(__1.t==18){return "SUB";}else if(__1.t==19){return "VAR";}else if(__1.t==20){return "NEW";}else if(__1.t==21){return "IF";}else if(__1.t==22){return "ELIF";}else if(__1.t==23){return "ELSE";}else if(__1.t==24){return "LOOP";}else if(__1.t==25){return "WHILE";}else if(__1.t==26){return "FOR";}else if(__1.t==27){return "EACH";}else if(__1.t==28){return "IN";}else if(__1.t==29){return "MATCH";}else if(__1.t==30){return "ECHO";}else if(__1.t==31){return "RET";}else if(__1.t==32){return "NEXT";}else if(__1.t==33){return "JUMP";}else if(__1.t==34){return "TRY";}else if(__1.t==35){return "AS";}else if(__1.t==36){return "HAS";}else if(__1.t==37){return "SEMICOLON";}else if(__1.t==38){return "COLON";}else if(__1.t==39){return "COMMA";}else if(__1.t==40){return "DOT";}else if(__1.t==41){return "QUESTION_MARK";}else if(__1.t==42){return "TILDE";}else if(__1.t==43){return "HASH";}else if(__1.t==44){return "LEFT_PAREN";}else if(__1.t==45){return "RIGHT_PAREN";}else if(__1.t==46){return "LEFT_BRACE";}else if(__1.t==47){return "RIGHT_BRACE";}else if(__1.t==48){return "LEFT_BRACKET";}else if(__1.t==49){return "RIGHT_BRACKET";}else if(__1.t==50){return "DEREF";}else if(__1.t==51){return "ADDRESS";}else if(__1.t==52){return "ASSIGN";}else if(__1.t==53){return "EQUAL";}else if(__1.t==54){return "NOT";}else if(__1.t==55){return "NOT_EQUAL";}else if(__1.t==56){return "AND";}else if(__1.t==57){return "OR";}else if(__1.t==58){return "LESS";}else if(__1.t==59){return "LESS_EQUAL";}else if(__1.t==60){return "GREATER";}else if(__1.t==61){return "GREATER_EQUAL";}else if(__1.t==62){return "ADD";}else if(__1.t==63){return "ADD_ASSIGN";}else if(__1.t==64){return "SUBTRACT";}else if(__1.t==65){return "SUBTRACT_ASSIGN";}else if(__1.t==66){return "MULTIPLY";}else if(__1.t==67){return "MULTIPLY_ASSIGN";}else if(__1.t==68){return "DIVIDE";}else if(__1.t==69){return "DIVIDE_ASSIGN";}else if(__1.t==70){return "MODULO";}else if(__1.t==71){return "MODULO_ASSIGN";}};void _p2(_i2 __1,int __2,_Z2* __3,uint8_t __4,_q2 __5){if(((__5.t)==1)&&(((*__3).len)==4)){_j2((&__1),__2,"too many characters in character literal");}_c2(__3,__4);(((*__3).buf)[((*__3).len)])='\0';};_l2 _r2(uint8_t* __1){if(strcmp(__1,"tag")==0){return (_l2){.t=11};}else if(strcmp(__1,"mod")==0){return (_l2){.t=12};}else if(strcmp(__1,"use")==0){return (_l2){.t=13};}else if(strcmp(__1,"comp")==0){return (_l2){.t=14};}else if(strcmp(__1,"enum")==0){return (_l2){.t=15};}else if(strcmp(__1,"prop")==0){return (_l2){.t=16};}else if(strcmp(__1,"def")==0){return (_l2){.t=17};}else if(strcmp(__1,"sub")==0){return (_l2){.t=18};}else if(strcmp(__1,"var")==0){return (_l2){.t=19};}else if(strcmp(__1,"this")==0){return (_l2){.t=9};}else if(strcmp(__1,"type")==0){return (_l2){.t=10};}else if(strcmp(__1,"new")==0){return (_l2){.t=20};}else if(strcmp(__1,"true")==0){return (_l2){.t=7};}else if(strcmp(__1,"false")==0){return (_l2){.t=8};}else if(strcmp(__1,"if")==0){return (_l2){.t=21};}else if(strcmp(__1,"elif")==0){return (_l2){.t=22};}else if(strcmp(__1,"else")==0){return (_l2){.t=23};}else if(strcmp(__1,"loop")==0){return (_l2){.t=24};}else if(strcmp(__1,"while")==0){return (_l2){.t=25};}else if(strcmp(__1,"for")==0){return (_l2){.t=26};}else if(strcmp(__1,"each")==0){return (_l2){.t=27};}else if(strcmp(__1,"in")==0){return (_l2){.t=28};}else if(strcmp(__1,"match")==0){return (_l2){.t=29};}else if(strcmp(__1,"echo")==0){return (_l2){.t=30};}else if(strcmp(__1,"ret")==0){return (_l2){.t=31};}else if(strcmp(__1,"next")==0){return (_l2){.t=32};}else if(strcmp(__1,"jump")==0){return (_l2){.t=33};}else if(strcmp(__1,"try")==0){return (_l2){.t=34};}else if(strcmp(__1,"as")==0){return (_l2){.t=35};}else if(strcmp(__1,"has")==0){return (_l2){.t=36};}return (_l2){.t=1};};uint8_t _s2(_l2 __1){if(__1.t==44||__1.t==52||__1.t==53||__1.t==55||__1.t==56||__1.t==57||__1.t==58||__1.t==59||__1.t==60||__1.t==61||__1.t==62||__1.t==63||__1.t==64||__1.t==65||__1.t==66||__1.t==67||__1.t==68||__1.t==69||__1.t==70||__1.t==71||__1.t==35||__1.t==36){return 1;}else if(1){return 0;}};_u2 _v2(int __3){return (_u2){.buf=malloc(sizeof(_o2)*__3),.len=0,.cap=__3,};};void _w2(_u2* this,_o2 __B){(((*this).buf)[((*this).len)])=__B;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_o2)*((*this).cap));}};_u2 _t2(_i2 __1){_u2 __2=_v2(32);uint8_t __3=0;_q2 __4=(_q2){.t=0};_Z2 __5=_a2(8);((__5.buf)[(__5.len)])='\0';for(int __6=0;__6<=((__1.data).len);__6+=1){uint8_t __7=((__1.data).buf)[__6];if(((((__7=='`')&&((__4.t)!=1))&&((__4.t)!=2))&&((__4.t)!=3))&&((__4.t)!=4)){__3=1;goto l;}if(__3){if(__7=='\n'){__3=0;}goto l;}_l2 __8=(_l2){.t=0};if((__4.t)==3){__4=(_q2){.t=1};}else if((__4.t)==4){__4=(_q2){.t=2};}if(((__4.t)==1)||((__4.t)==2)){if(__7==0){if((__4.t)==1){_j2((&__1),__6-1,"expected end of char literal");}else{_j2((&__1),__6-1,"expected end of string literal");}}else if(((__4.t)==1)&&(__7==39)){}else if(((__4.t)==2)&&(__7=='"')){}else{if(__7==92){__7=(((__1.data).buf)[(__6+=1)]);if(__7=='b'){__7=8;}else if(__7=='f'){__7=12;}else if(__7=='n'){__7=10;}else if(__7=='r'){__7=13;}else if(__7=='t'){__7=9;}else if(__7=='v'){__7=11;}else if(__7==92){__7=92;}else if(__7==39){__7=39;}else if(__7=='"'){__7='"';}else{_j2((&__1),__6-1,"unrecognized character escape sequence");}}_p2(__1,__6,(&__5),__7,__4);goto l;}}if((__7==0)||isspace(__7)){__8=(_l2){.t=1};}else{if(__7==39){if((__4.t)==1){__8=(_l2){.t=4};__4=(_q2){.t=0};}else{__8=(_l2){.t=1};__4=(_q2){.t=3};}}else if(__7=='"'){if((__4.t)==2){__8=(_l2){.t=3};__4=(_q2){.t=0};}else{__8=(_l2){.t=1};__4=(_q2){.t=4};}}else if(__7==';'){__8=(_l2){.t=37};}else if(__7==':'){__8=(_l2){.t=38};}else if(__7==','){__8=(_l2){.t=39};}else if(__7=='.'){uint8_t __9=((__1.data).buf)[(__6+1)];if((((__4.t)!=7)||(__9=='_'))||isalpha(__9)){__8=(_l2){.t=40};}}else if(__7=='?'){__8=(_l2){.t=41};}else if(__7=='~'){__8=(_l2){.t=42};}else if(__7=='#'){__8=(_l2){.t=43};}else if(__7=='('){__8=(_l2){.t=44};}else if(__7==')'){__8=(_l2){.t=45};}else if(__7=='{'){__8=(_l2){.t=46};}else if(__7=='}'){__8=(_l2){.t=47};}else if(__7=='['){__8=(_l2){.t=48};}else if(__7==']'){__8=(_l2){.t=49};}else if(__7=='@'){__8=(_l2){.t=50};}else if(__7=='$'){__8=(_l2){.t=51};}else if(__7=='&'){__8=(_l2){.t=56};}else if(__7=='|'){__8=(_l2){.t=57};}else if(__7=='='){if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=53};__6+=1;}else{__8=(_l2){.t=52};}}else if(__7=='!'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=55};__6+=1;}else{__8=(_l2){.t=54};}}else if(__7=='<'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=59};__6+=1;}else{__8=(_l2){.t=58};}}else if(__7=='>'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=61};__6+=1;}else{__8=(_l2){.t=60};}}else if(__7=='+'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=63};__6+=1;}else{__8=(_l2){.t=62};}}else if(__7=='-'){if(_s2(((__2.buf)[((__2.len)-1)]).kind)&&isdigit(((__1.data).buf)[(__6+1)])){goto ret_ll;}if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=65};__6+=1;}else{__8=(_l2){.t=64};}}else if(__7=='*'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=67};__6+=1;}else{__8=(_l2){.t=66};}}else if(__7=='/'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=69};__6+=1;}else{__8=(_l2){.t=68};}}else if(__7=='%'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_l2){.t=71};__6+=1;}else{__8=(_l2){.t=70};}}}ret_ll:if(__8.t==0){if(((((__7=='-')||(__7=='_'))||(__7=='.'))||(__7==':'))||isalnum(__7)){if((((__5.len)==0)&&isdigit(__7))||(__7=='-')){__4=(_q2){.t=7};}else if(((__4.t)==7)||((__4.t)==8)){if((__7=='.')&&((__4.t)==7)){__4=(_q2){.t=8};}else if((__7=='_')||isdigit(__7)){}else{_j2((&__1),__6-(__5.len),"invalid identifier name starting with a digit");}}if((((__4.t)!=7)&&((__4.t)!=8))||(__7!='_')){_p2(__1,__6,(&__5),__7,__4);}}else{_j2((&__1),__6,"unexpected symbol %c",__7);}}else if(1){if((__5.len)>0){if(__8.t==3||__8.t==4){}else if(1){_l2 __9=_r2(__5.buf);if(__9.t==1){_o2 __A;if((__4.t)==7){(__A.kind)=(_l2){.t=5};}else if((__4.t)==8){(__A.kind)=(_l2){.t=6};if(((__5.buf)[((__5.len)-1)])=='.'){_j2((&__1),__6-1,"expected a value after the decimal point");}}else{(__A.kind)=(_l2){.t=2};}(__A.index)=(__6-(__5.len));(__A.value)=_g2((&__5));_w2((&__2),__A);}else if(1){_o2 __A=(_o2){.kind=__9,.index=__6-_m2(__9),};_w2((&__2),__A);}__5=_a2(8);((__5.buf)[(__5.len)])='\0';__4=(_q2){.t=0};}}if(__8.t==1){}else if(1){_o2 __9=(_o2){.kind=__8,};if(__8.t==3||__8.t==4){(__9.value)=_g2((&__5));(__9.index)=(__6-(__5.len));__5=_a2(8);((__5.buf)[(__5.len)])='\0';}else if(1){(__9.index)=((__6-_m2(__8))+1);}_w2((&__2),__9);}}l:}ret_l:_o2 __6;if((__2.len)>0){__6=((__2.buf)[((__2.len)-1)]);if(__6.kind.t==2){(__6.index)=((__6.index)+((__6.value).len));}else if(1){(__6.index)=((__6.index)+_m2(__6.kind));}}else{(__6.index)=0;}(__6.kind)=(_l2){.t=1};_w2((&__2),__6);return __2;};void _x2(_u2 __1){printf("Tokens:\n");for(int __2=0;__2<(__1.len);__2+=1){_l2 __3=((__1.buf)[__2]).kind;printf("  ");_T2((_S2){.t=0});printf("%s",_n2(__3));_U2();if(__3.t==2||__3.t==3||__3.t==4||__3.t==5||__3.t==6){printf("(%s)",((__1.buf)[__2]).value);}printf("\n");}printf("\n");};_03 _23(int __2){return (_03){.buf=malloc(sizeof(_z2)*__2),.len=0,.cap=__2,};};_y2 _13(_y2* this){_03 __1=_23(((*this).parts).len);(__1.len)=(((*this).parts).len);for(int __2=0;__2<(__1.len);__2+=1){((__1.buf)[__2])=((((*this).parts).buf)[__2]);}return (_y2){.parts=__1,.index=(*this).index,};};_63 _K3(int __5){return (_63){.buf=malloc(sizeof(_53)*__5),.len=0,.cap=__5,};};void _L3(_63* this,_53 __5){(((*this).buf)[((*this).len)])=__5;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_53)*((*this).cap));}};_63 _J3(_i2 __1,_u2 __2){int __3=0;_63 __4=_K3(16);for(;;){if(((__2.buf)[__3]).kind.t==1){return __4;}_L3((&__4),_M3(__1,__2,(&__3)));if(((__2.buf)[__3]).kind.t==37){}else if(((__2.buf)[__3]).kind.t==1){return __4;}else if(1){_j2((&__1),((__2.buf)[__3]).index,"unexpected token after last expr");}__3+=1;}};_63 _N3(_i2 __1,_u2 __2,int* __3,uint8_t __4){_63 __5=_K3(4);for(;;){if(((((__2.buf)[(*__3)]).kind).t)==47){(*__3)+=1;return __5;}_53 __6;if(__4){__6=_O3(__1,__2,__3,0,0);}else{__6=_M3(__1,__2,__3);}_L3((&__5),__6);if(((__2.buf)[(*__3)]).kind.t==37){}else if(((__2.buf)[(*__3)]).kind.t==47){(*__3)+=1;return __5;}else if(1){_j2((&__1),((__2.buf)[(*__3)]).index,"unexpected token after last expr");}(*__3)+=1;}};_o2 _P3(_i2 __1,_u2 __2,int* __3,_l2 __4,uint8_t* __5){_o2 __6=(__2.buf)[(*__3)];if(__6.kind.t==__4.t){}else if(1){_j2((&__1),__6.index,__5);}(*__3)+=1;return __6;};uint8_t _Q3(_u2 __1,int* __2,_l2 __3){if(((__1.buf)[(*__2)]).kind.t==__3.t){(*__2)+=1;return 1;}else if(1){return 0;}};_53* _U3(_53 __B){_53* __C=malloc(sizeof(_53));(*__C)=__B;return __C;};_D3 _V3(int __A){return (_D3){.buf=malloc(sizeof(_73)*__A),.len=0,.cap=__A,};};void _W3(_D3* this,_73 __B){(((*this).buf)[((*this).len)])=__B;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_73)*((*this).cap));}};_E3 _X3(int __C){return (_E3){.buf=malloc(sizeof(_83)*__C),.len=0,.cap=__C,};};void _Y3(_E3* this,_83 __C){(((*this).buf)[((*this).len)])=__C;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_83)*((*this).cap));}};_G3 _Z3(int __9){return (_G3){.buf=malloc(sizeof(_V2)*__9),.len=0,.cap=__9,};};void _a3(_G3* this,_V2 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_V2)*((*this).cap));}};_53 _O3(_i2 __1,_u2 __2,int* __3,int __4,uint8_t __5){_53 __6;(__6.label)=_R3(__1,__2,__3,1);(__6.tags)=_S3(__1,__2,__3);_o2 __7=(__2.buf)[(*__3)];if(__7.kind.t==44){(*__3)+=1;__6=_O3(__1,__2,__3,0,0);_P3(__1,__2,__3,(_l2){.t=45},"expected ')' after '('");}else if(__7.kind.t==2){_y2 __8=_T3(__1,__2,__3);if(_Q3(__2,__3,(_l2){.t=44})){_63 __9=_K3(4);for(;;){if(_Q3(__2,__3,(_l2){.t=45})){goto ret_ll;}_L3((&__9),_O3(__1,__2,__3,0,0));if(_Q3(__2,__3,(_l2){.t=39})==0){_P3(__1,__2,__3,(_l2){.t=45},"expected ')' after last argument");goto ret_ll;}ll:}ret_ll:(__6.kind)=(_A3){.t=14,.u={.SubCall={.path=__8,.args=__9,}}};goto ret_l;}if(_Q3(__2,__3,(_l2){.t=2})){_V2 __9=((__2.buf)[((*__3)-1)]).value;_C3 __A=(_C3){.t=1};if(_Q3(__2,__3,(_l2){.t=52})){__A=(_C3){.t=0,.u={.Some={.thing=_U3(_O3(__1,__2,__3,0,0)),}}};}(__6.kind)=(_A3){.t=13,.u={.LocalVarDef={._type=(_B3){.t=0,.u={.Some={.thing=__8,}}},.name=__9,.value=__A,}}};goto ret_l;}(__6.kind)=(_A3){.t=15,.u={.VarUse={.path=__8,}}};}else if(__7.kind.t==19){(*__3)+=1;_V2 __8=_P3(__1,__2,__3,(_l2){.t=2},"expected identifier after 'var' keyword").value;_C3 __9=(_C3){.t=1};if(_Q3(__2,__3,(_l2){.t=52})){__9=(_C3){.t=0,.u={.Some={.thing=_U3(_O3(__1,__2,__3,0,0)),}}};}(__6.kind)=(_A3){.t=13,.u={.LocalVarDef={._type=(_B3){.t=1},.name=__8,.value=__9,}}};}else if(__7.kind.t==20){(*__3)+=1;_y2 __8=_T3(__1,__2,__3);_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'new' path");_D3 __9=_V3(4);for(;;){if(_Q3(__2,__3,(_l2){.t=47})){goto ret_f;}_V2 __A=_P3(__1,__2,__3,(_l2){.t=2},"expected field name").value;_P3(__1,__2,__3,(_l2){.t=52},"expected '=' after field name");_W3((&__9),(_73){.name=__A,.value=_U3(_O3(__1,__2,__3,0,0)),});if(_Q3(__2,__3,(_l2){.t=39})==0){_P3(__1,__2,__3,(_l2){.t=47},"expected '}' after last field");goto ret_f;}f:}ret_f:(__6.kind)=(_A3){.t=16,.u={.CompInst={._type=__8,.field_vals=__9,}}};}else if(__7.kind.t==3){(__6.kind)=(_A3){.t=18,.u={.StringLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==4){(__6.kind)=(_A3){.t=19,.u={.CharLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==5){(__6.kind)=(_A3){.t=20,.u={.IntLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==6){(__6.kind)=(_A3){.t=21,.u={.FloatLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==7){(__6.kind)=(_A3){.t=22,.u={.BoolLit={.value=1,}}};(*__3)+=1;}else if(__7.kind.t==8){(__6.kind)=(_A3){.t=22,.u={.BoolLit={.value=0,}}};(*__3)+=1;}else if(__7.kind.t==9){(__6.kind)=(_A3){.t=23};(*__3)+=1;}else if(__7.kind.t==10){(__6.kind)=(_A3){.t=24};(*__3)+=1;}else if(__7.kind.t==46){(*__3)+=1;_63 __8=_N3(__1,__2,__3,1);(__6.kind)=(_A3){.t=25,.u={.LocalBlock={.body=__8,}}};}else if(__7.kind.t==21){(*__3)+=1;_53* __8=_U3(_O3(__1,__2,__3,0,0));_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'if' condition");_63 __9=_N3(__1,__2,__3,1);_83 __A=(_83){.cond=__8,.body=__9,};_E3 __B=_X3(1);while(_Q3(__2,__3,(_l2){.t=22})){__8=_U3(_O3(__1,__2,__3,0,0));_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'elif' condition");__9=_N3(__1,__2,__3,1);_Y3((&__B),(_83){.cond=__8,.body=__9,});}_F3 __C=(_F3){.t=1};if(_Q3(__2,__3,(_l2){.t=23})){_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'else' keyword");_63 __D=_N3(__1,__2,__3,1);__C=(_F3){.t=0,.u={.Some={.thing=(_93){.body=__9,},}}};}(__6.kind)=(_A3){.t=26,.u={.If={._if=__A,._elif=__B,._else=__C,}}};}else if(__7.kind.t==24){(*__3)+=1;_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'loop' keyword");_63 __8=_N3(__1,__2,__3,1);(__6.kind)=(_A3){.t=27,.u={.Loop={.body=__8,}}};}else if(__7.kind.t==25){(*__3)+=1;_53* __8=_U3(_O3(__1,__2,__3,0,0));_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'while' condition");_63 __9=_N3(__1,__2,__3,1);(__6.kind)=(_A3){.t=28,.u={.While={.cond=__8,.body=__9,}}};}else if(__7.kind.t==26){(*__3)+=1;_V2 __8=_P3(__1,__2,__3,(_l2){.t=2},"expected 'for' iterator name").value;_C3 __9=(_C3){.t=1};if(_Q3(__2,__3,(_l2){.t=52})){__9=(_C3){.t=0,.u={.Some={.thing=_U3(_O3(__1,__2,__3,0,0)),}}};}_P3(__1,__2,__3,(_l2){.t=39},"expected a ',' after 'for' iterator name");_53* __A=_U3(_O3(__1,__2,__3,0,0));_P3(__1,__2,__3,(_l2){.t=39},"expected a ',' after 'for' condition");_53* __B=_U3(_O3(__1,__2,__3,0,0));_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'for' next");_63 __C=_N3(__1,__2,__3,1);(__6.kind)=(_A3){.t=29,.u={.For={.iter=__8,.iter_value=__9,.cond=__A,._next=__B,.body=__C,}}};}else if(__7.kind.t==27){(*__3)+=1;_G3 __8=_Z3(2);while(_Q3(__2,__3,(_l2){.t=2})){_a3((&__8),((__2.buf)[((*__3)-1)]).value);_Q3(__2,__3,(_l2){.t=39});}if((__8.len)==0){_j2((&__1),((__2.buf)[((*__3)-1)]).index,"expected sex");}_P3(__1,__2,__3,(_l2){.t=28},"expected 'in' keyword after 'each' variables");_53* __9=_U3(_O3(__1,__2,__3,0,0));_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'each' iterator");_63 __A=_N3(__1,__2,__3,1);(__6.kind)=(_A3){.t=30,.u={.Each={.vars=__8,.iter=__9,.body=__A,}}};}else if(__7.kind.t==29){(*__3)+=1;_53* __8=_U3(_O3(__1,__2,__3,0,0));_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'match' value");_63 __9=_K3(4);for(;;){if(_Q3(__2,__3,(_l2){.t=47})){(__6.kind)=(_A3){.t=31,.u={.Match={.value=__8,.cases=__9,}}};goto ret_l;}_63 __A=_K3(2);for(;;){if(_Q3(__2,__3,(_l2){.t=46})){goto b;}_L3((&__A),_O3(__1,__2,__3,0,0));if(_Q3(__2,__3,(_l2){.t=39})==0){goto ret_llll;}llll:}ret_llll:_P3(__1,__2,__3,(_l2){.t=46},"expected '{' after 'match' case value");while(0){b:}ret_b:_63 __B=_N3(__1,__2,__3,1);_L3((&__9),(_53){.kind=(_A3){.t=32,.u={.Case={.values=__A,.body=__B,}}},.tags=(_I3){.len=0,},.label=(_H3){.t=1},});if(_Q3(__2,__3,(_l2){.t=39})==0){goto ret_lll;}lll:}ret_lll:_P3(__1,__2,__3,(_l2){.t=47},"expected '}' after 'match' body");(__6.kind)=(_A3){.t=31,.u={.Match={.value=__8,.cases=__9,}}};}else if(__7.kind.t==30){(*__3)+=1;_53* __8=_U3(_O3(__1,__2,__3,0,0));(__6.kind)=(_A3){.t=33,.u={.Echo={.value=__8,}}};}else if(__7.kind.t==31){(*__3)+=1;_H3 __8=_R3(__1,__2,__3,1);_53 __9=_O3(__1,__2,__3,0,1);if(__9.kind.t==0){(__6.kind)=(_A3){.t=34,.u={.Ret={.label=__8,.value=(_C3){.t=1},}}};}else if(1){(__6.kind)=(_A3){.t=34,.u={.Ret={.label=__8,.value=(_C3){.t=0,.u={.Some={.thing=_U3(__9),}}},}}};}}else if(__7.kind.t==32){(*__3)+=1;(__6.kind)=(_A3){.t=35,.u={.Next={.label=_R3(__1,__2,__3,0),}}};}else if(__7.kind.t==33){(*__3)+=1;(__6.kind)=(_A3){.t=36,.u={.Jump={.label=_R3(__1,__2,__3,0),}}};}else if(__7.kind.t==34){(*__3)+=1;_H3 __8=_R3(__1,__2,__3,1);_53* __9=_U3(_O3(__1,__2,__3,0,0));(__6.kind)=(_A3){.t=37,.u={.Try={.label=__8,.value=__9,}}};}else if(1){if(__5){(__6.kind)=(_A3){.t=0};return __6;}else{_j2((&__1),__7.index,"expected a local expression");}}ret_l:for(;;){int __8=0;__7=((__2.buf)[(*__3)]);if(__7.kind.t==41){(*__3)+=1;_53 __9=_O3(__1,__2,__3,0,0);_P3(__1,__2,__3,(_l2){.t=39},"expected ',' after smth");_53 __A=_O3(__1,__2,__3,0,0);__6=(_53){.kind=(_A3){.t=40,.u={.TernaryOp={.cond=_U3(__6),.valueA=_U3(__9),.valueB=_U3(__A),}}},.tags=(_I3){.len=0,},.label=(_H3){.t=1},};goto ret_o;}else if(__7.kind.t==52||__7.kind.t==63||__7.kind.t==65||__7.kind.t==67||__7.kind.t==69||__7.kind.t==71){__8=7;}else if(__7.kind.t==35){__8=6;}else if(__7.kind.t==58||__7.kind.t==56||__7.kind.t==57||__7.kind.t==59||__7.kind.t==60||__7.kind.t==61||__7.kind.t==53||__7.kind.t==55){__8=5;}else if(__7.kind.t==62||__7.kind.t==64){__8=4;}else if(__7.kind.t==66||__7.kind.t==68||__7.kind.t==70){__8=3;}else if(__7.kind.t==54||__7.kind.t==50||__7.kind.t==51){__8=2;}else if(__7.kind.t==48){if(__4==1){goto ret_o;}(*__3)+=1;goto e;}else if(__7.kind.t==40){__8=1;}if(__8==2){if((__4==0)||(__8<__4)){(*__3)+=1;__6=(_53){.kind=(_A3){.t=38,.u={.UnaryOp={.value=_U3(__6),.kind=__7.kind,}}},.tags=(_I3){.len=0,},.label=(_H3){.t=1},};goto o;}goto ret_o;}if((__8==0)||(((__4!=0)&&(__4!=6))&&(__8>=__4))){goto ret_o;}(*__3)+=1;while(0){e:}ret_e:(__6.kind)=(_A3){.t=39,.u={.BinaryOp={.lhs=_U3(__6),.rhs=_U3(_O3(__1,__2,__3,__8,0)),.kind=__7.kind,}}};if(__7.kind.t==48){_P3(__1,__2,__3,(_l2){.t=49},"expected ']' after '['");}else if(__7.kind.t==62){if(__6.kind.t==39){_53* __9=__6.kind.u.BinaryOp.lhs;_53* __A=__6.kind.u.BinaryOp.rhs;if((*__9).kind.t==18){_V2 __B=(*__9).kind.u.StringLit.value;if((*__A).kind.t==18){_V2 __C=(*__A).kind.u.StringLit.value;_Z2 __D=_Y2((&__B));_e2((&__D),__C);free(__C.buf);(__6.kind)=(_A3){.t=18,.u={.StringLit={.value=_g2((&__D)),}}};}}}}o:}ret_o:return __6;};_53 _M3(_i2 __1,_u2 __2,int* __3){_53 __4;(__4.label)=_R3(__1,__2,__3,1);(__4.tags)=_S3(__1,__2,__3);_o2 __5=(__2.buf)[(*__3)];if(__5.kind.t==11){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);_P3(__1,__2,__3,(_l2){.t=44},"expected '(' after 'tag' path");_63 __7=_b3(__1,__2,__3);_63 __8;if(_Q3(__2,__3,(_l2){.t=46})){__8=_N3(__1,__2,__3,1);}else{(__8.len)=0;}(__4.kind)=(_A3){.t=1,.u={.TagDef={.path=__6,.args=__7,.body=__8,}}};}else if(__5.kind.t==46){(*__3)+=1;(__4.kind)=(_A3){.t=2,.u={.Block={.body=_N3(__1,__2,__3,0),}}};}else if(__5.kind.t==12){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);_63 __7;if(_Q3(__2,__3,(_l2){.t=46})){__7=_N3(__1,__2,__3,0);}else{(__7.len)=0;}(__4.kind)=(_A3){.t=3,.u={.Mod={.path=__6,.body=__7,}}};}else if(__5.kind.t==13){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);(__4.kind)=(_A3){.t=4,.u={.Use={.path=__6,}}};}else if(__5.kind.t==14){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);_P3(__1,__2,__3,(_l2){.t=44},"expected '(' after 'comp' path");_63 __7=_b3(__1,__2,__3);_63 __8;if(_Q3(__2,__3,(_l2){.t=46})){__8=_N3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_A3){.t=6,.u={.Comp={.path=__6,.fields=__7,.body=__8,}}};}else if(__5.kind.t==15){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);_P3(__1,__2,__3,(_l2){.t=44},"expected '(' after 'enum' path");_63 __7=_c3(__1,__2,__3);_63 __8;if(_Q3(__2,__3,(_l2){.t=46})){__8=_N3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_A3){.t=7,.u={.Enum={.path=__6,.opts=__7,.body=__8,}}};}else if(__5.kind.t==16){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);_63 __7;if(_Q3(__2,__3,(_l2){.t=46})){__7=_N3(__1,__2,__3,0);}else{(__7.len)=0;}(__4.kind)=(_A3){.t=9,.u={.Prop={.path=__6,.body=__7,}}};}else if(__5.kind.t==17){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);_B3 __7=(_B3){.t=1};if(_Q3(__2,__3,(_l2){.t=39})){__7=(_B3){.t=0,.u={.Some={.thing=_T3(__1,__2,__3),}}};}_63 __8;if(_Q3(__2,__3,(_l2){.t=46})){__8=_N3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_A3){.t=10,.u={.Def={._prop=__6,.target=__7,.body=__8,}}};}else if(__5.kind.t==18){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);_P3(__1,__2,__3,(_l2){.t=44},"expected '(' after 'sub' path");_63 __7=_b3(__1,__2,__3);_63 __8;if(_Q3(__2,__3,(_l2){.t=46})){__8=_N3(__1,__2,__3,1);}else{(__8.len)=0;}(__4.kind)=(_A3){.t=11,.u={.SubDef={.ret_type=(_B3){.t=1},.path=__6,.args=__7,.body=__8,}}};}else if(__5.kind.t==19){(*__3)+=1;_y2 __6=_T3(__1,__2,__3);_C3 __7=(_C3){.t=1};if(_Q3(__2,__3,(_l2){.t=52})){__7=(_C3){.t=0,.u={.Some={.thing=_U3(_O3(__1,__2,__3,0,0)),}}};}(__4.kind)=(_A3){.t=12,.u={.VarDef={._type=(_B3){.t=1},.path=__6,.value=__7,}}};}else if(__5.kind.t==2){_y2 __6=_T3(__1,__2,__3);_y2 __7=_T3(__1,__2,__3);__5=((__2.buf)[(*__3)]);if(__5.kind.t==44){(*__3)+=1;_63 __8=_b3(__1,__2,__3);_63 __9;if(_Q3(__2,__3,(_l2){.t=46})){__9=_N3(__1,__2,__3,1);}else{(__9.len)=0;}(__4.kind)=(_A3){.t=11,.u={.SubDef={.ret_type=(_B3){.t=0,.u={.Some={.thing=__6,}}},.path=__7,.args=__8,.body=__9,}}};}else if(1){_C3 __8=(_C3){.t=1};if(_Q3(__2,__3,(_l2){.t=52})){__8=(_C3){.t=0,.u={.Some={.thing=_U3(_O3(__1,__2,__3,0,0)),}}};}(__4.kind)=(_A3){.t=12,.u={.VarDef={._type=(_B3){.t=0,.u={.Some={.thing=__6,}}},.path=__7,.value=__8,}}};}}else if(1){__4=_O3(__1,__2,__3,0,1);if(((__4.kind).t)==0){_j2((&__1),__5.index,"expected a expression");}}return __4;};_H3 _R3(_i2 __1,_u2 __2,int* __3,uint8_t __4){if(__4&&(_Q3(__2,__3,(_l2){.t=42})==0)){return (_H3){.t=1};}else if(__4==0){_P3(__1,__2,__3,(_l2){.t=42},"expected a label");}return (_H3){.t=0,.u={.Some={.thing=_P3(__1,__2,__3,(_l2){.t=2},"expected identifier after label declaration").value,}}};};_I3 _d3(int __5){return (_I3){.buf=malloc(sizeof(_43)*__5),.len=0,.cap=__5,};};void _e3(_I3* this,_43 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_43)*((*this).cap));}};_I3 _S3(_i2 __1,_u2 __2,int* __3){_I3 __4=_d3(2);for(;;){if(((__2.buf)[(*__3)]).kind.t==43){int __5=((__2.buf)[(*__3)]).index;_o2 __6=(__2.buf)[((*__3)+=1)];if(__6.kind.t==2){_y2 __7=_T3(__1,__2,__3);_63 __8=_K3(2);__6=((__2.buf)[(*__3)]);if(__6.kind.t==44){(*__3)+=1;for(;;){__6=((__2.buf)[(*__3)]);if(_Q3(__2,__3,(_l2){.t=45})){goto ret_ll;}_L3((&__8),_O3(__1,__2,__3,0,0));if(_Q3(__2,__3,(_l2){.t=39})){goto ll;}else{_P3(__1,__2,__3,(_l2){.t=45},"expected ')' after last tag arg");goto ret_ll;}ll:}ret_ll:}_e3((&__4),(_43){.path=__7,.args=__8,.index=__5,});goto l;}else if(1){_j2((&__1),__6.index,"expected a path after tag declaration");}}else if(1){goto ret_l;}l:}ret_l:return __4;};_y2 _T3(_i2 __1,_u2 __2,int* __3){if(((__2.buf)[(*__3)]).kind.t==2){return _f3(__1,__2,__3);}else if(1){_j2((&__1),((__2.buf)[(*__3)]).index,"expected a path");}};_33 _g3(int __9){return (_33){.buf=malloc(sizeof(_y2)*__9),.len=0,.cap=__9,};};void _h3(_33* this,_y2 __B){(((*this).buf)[((*this).len)])=__B;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_y2)*((*this).cap));}};void _i3(_03* this,_z2 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_z2)*((*this).cap));}};_y2 _f3(_i2 __1,_u2 __2,int* __3){int __4=(*__3);_03 __5=_23(2);uint8_t __6=0;for(;;){_o2 __7=(__2.buf)[(*__3)];if(__6){if(__7.kind.t==38){__6=0;}else if(1){goto ret_l;}}else{if(__7.kind.t==2){_z2 __8=(_z2){.name=__7.value,.gens=_g3(2),};if(((__2.buf)[((*__3)+1)]).kind.t==58){int __9=(*__3);(*__3)+=2;for(;;){__7=((__2.buf)[(*__3)]);if(__7.kind.t==60){goto ret_ll;}_y2 __A=_f3(__1,__2,__3);if(((__A.parts).len)==0){(*__3)=__9;((__8.gens).len)=0;goto ret_ll;}_h3((&(__8.gens)),__A);_Q3(__2,__3,(_l2){.t=39});ll:}ret_ll:}_i3((&__5),__8);__6=1;}else if(1){if((__5.len)>0){_j2((&__1),__7.index,"expected identifier after ':'");}else{goto ret_l;}}}(*__3)+=1;l:}ret_l:return (_y2){.parts=__5,.index=((__2.buf)[__4]).index,};};_63 _b3(_i2 __1,_u2 __2,int* __3){_63 __4=_K3(2);for(;;){if(_Q3(__2,__3,(_l2){.t=45})){return __4;}_53 __5=(_53){.kind=(_A3){.t=5,.u={.Field={._type=_T3(__1,__2,__3),.name=_P3(__1,__2,__3,(_l2){.t=2},"expected field name in 'comp' definition").value,}}},.tags=(_I3){.len=0,},.label=(_H3){.t=1},};_L3((&__4),__5);if(_Q3(__2,__3,(_l2){.t=39})==0){goto ret_l;}l:}ret_l:_P3(__1,__2,__3,(_l2){.t=45},"expected ')' after last field");return __4;};_63 _c3(_i2 __1,_u2 __2,int* __3){_63 __4=_K3(2);for(;;){if(_Q3(__2,__3,(_l2){.t=45})){return __4;}_V2 __5=_P3(__1,__2,__3,(_l2){.t=2},"expected option name in 'enum' definition").value;_63 __6;if(_Q3(__2,__3,(_l2){.t=44})){__6=_b3(__1,__2,__3);}else{(__6.len)=0;}_L3((&__4),(_53){.kind=(_A3){.t=8,.u={.Option={.name=__5,.fields=__6,}}},.tags=(_I3){.len=0,},.label=(_H3){.t=1},});if(_Q3(__2,__3,(_l2){.t=39})==0){goto ret_l;}l:}ret_l:_P3(__1,__2,__3,(_l2){.t=45},"expected ')' after last option");return __4;};void _j3(_63 __1){printf("Exprs:");_k3(__1,0);putchar('\n');};void _k3(_63 __1,int __2){for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_l3(__2);_m3((__1.buf)[__3],__2);}putchar('\n');};void _n3(_63 __1,int __2,uint8_t* __3,uint8_t __4){if((__1.len)>0){if(__4){printf(", ");}printf("%s = [",__3);_k3(__1,__2+1);_l3(__2);putchar(']');}};void _m3(_53 __1,int __2){_T2((_S2){.t=1});printf("%s",_o3(__1.kind));_U2();putchar('(');if(__1.label.t==0){_V2 __3=__1.label.u.Some.thing;printf("label = %s, ",__3.buf);}_p3(__1.tags,__2);if(((__1.tags).len)!=0){printf(", ");}if(__1.kind.t==1){_y2 __3=__1.kind.u.TagDef.path;_63 __4=__1.kind.u.TagDef.args;_63 __5=__1.kind.u.TagDef.body;printf("path = ");_q3(__3,__2);_n3(__4,__2,"args",1);_n3(__5,__2,"body",1);}else if(__1.kind.t==2){_63 __3=__1.kind.u.Block.body;_n3(__3,__2,"body",0);}else if(__1.kind.t==3){_y2 __3=__1.kind.u.Mod.path;_63 __4=__1.kind.u.Mod.body;printf("path = ");_q3(__3,__2);_n3(__4,__2,"body",0);}else if(__1.kind.t==4){_y2 __3=__1.kind.u.Use.path;printf("path = ");_q3(__3,__2);}else if(__1.kind.t==5){_y2 __3=__1.kind.u.Field._type;_V2 __4=__1.kind.u.Field.name;printf("type = ");_q3(__3,__2);printf(", name = %s",__4.buf);}else if(__1.kind.t==6){_y2 __3=__1.kind.u.Comp.path;_63 __4=__1.kind.u.Comp.fields;_63 __5=__1.kind.u.Comp.body;printf("path = ");_q3(__3,__2);_n3(__4,__2,"fields",1);_n3(__5,__2,"body",1);}else if(__1.kind.t==7){_y2 __3=__1.kind.u.Enum.path;_63 __4=__1.kind.u.Enum.opts;_63 __5=__1.kind.u.Enum.body;printf("path = ");_q3(__3,__2);_n3(__4,__2,"opts",1);_n3(__5,__2,"body",1);}else if(__1.kind.t==8){_V2 __3=__1.kind.u.Option.name;_63 __4=__1.kind.u.Option.fields;printf("name = %s",__3.buf);_n3(__4,__2,"fields",1);}else if(__1.kind.t==9){_y2 __3=__1.kind.u.Prop.path;_63 __4=__1.kind.u.Prop.body;printf("path = ");_q3(__3,__2);_n3(__4,__2,"body",1);}else if(__1.kind.t==10){_y2 __3=__1.kind.u.Def._prop;_B3 __4=__1.kind.u.Def.target;_63 __5=__1.kind.u.Def.body;printf("prop = ");_q3(__3,__2);if(__4.t==0){_y2 __6=__4.u.Some.thing;printf(", target = ");_q3(__6,__2);}_n3(__5,__2,"body",1);}else if(__1.kind.t==11){_B3 __3=__1.kind.u.SubDef.ret_type;_y2 __4=__1.kind.u.SubDef.path;_63 __5=__1.kind.u.SubDef.args;_63 __6=__1.kind.u.SubDef.body;if(__3.t==0){_y2 __7=__3.u.Some.thing;printf("ret_type = ");_q3(__7,__2);printf(", ");}printf("path = ");_q3(__4,__2);_n3(__5,__2,"args",1);_n3(__6,__2,"body",1);}else if(__1.kind.t==12){_B3 __3=__1.kind.u.VarDef._type;_y2 __4=__1.kind.u.VarDef.path;_C3 __5=__1.kind.u.VarDef.value;if(__3.t==0){_y2 __6=__3.u.Some.thing;printf("type = ");_q3(__6,__2);printf(", ");}printf("path = ");_q3(__4,__2);if(__5.t==0){_53* __6=__5.u.Some.thing;printf(", value = ");_m3((*__6),__2);}}else if(__1.kind.t==13){_B3 __3=__1.kind.u.LocalVarDef._type;_V2 __4=__1.kind.u.LocalVarDef.name;_C3 __5=__1.kind.u.LocalVarDef.value;if(__3.t==0){_y2 __6=__3.u.Some.thing;printf("type = ");_q3(__6,__2);printf(", ");}printf("name = %s",__4);if(__5.t==0){_53* __6=__5.u.Some.thing;printf(", value = ");_m3((*__6),__2);}}else if(__1.kind.t==14){_y2 __3=__1.kind.u.SubCall.path;_63 __4=__1.kind.u.SubCall.args;printf("path = ");_q3(__3,__2);_n3(__4,__2,"args",1);}else if(__1.kind.t==15){_y2 __3=__1.kind.u.VarUse.path;printf("path = ");_q3(__3,__2);}else if(__1.kind.t==16){_y2 __3=__1.kind.u.CompInst._type;_D3 __4=__1.kind.u.CompInst.field_vals;printf("type = ");_q3(__3,__2);printf(", field_vals = [");for(int __5=0;__5<(__4.len);__5+=1){if(__5!=0){printf(", ");}printf("%s = ",(((__4.buf)[__5]).name).buf);_m3((*(((__4.buf)[__5]).value)),__2);}printf("]");}else if(__1.kind.t==18){_V2 __3=__1.kind.u.StringLit.value;printf("%s",__3);}else if(__1.kind.t==19){_V2 __3=__1.kind.u.CharLit.value;printf("%s",__3);}else if(__1.kind.t==20){_V2 __3=__1.kind.u.IntLit.value;printf("%s",__3);}else if(__1.kind.t==21){_V2 __3=__1.kind.u.FloatLit.value;printf("%s",__3);}else if(__1.kind.t==22){uint8_t __3=__1.kind.u.BoolLit.value;if(__3){printf("true");}else{printf("false");}}else if(__1.kind.t==23){}else if(__1.kind.t==24){}else if(__1.kind.t==25){_63 __3=__1.kind.u.LocalBlock.body;_n3(__3,__2,"body",0);}else if(__1.kind.t==26){_83 __3=__1.kind.u.If._if;_E3 __4=__1.kind.u.If._elif;_F3 __5=__1.kind.u.If._else;printf("if = ");_r3(__3,__2);_s3(__4,__2);if(__5.t==0){_93 __6=__5.u.Some.thing;printf(", else = ");_t3(__6,__2);}}else if(__1.kind.t==27){_63 __3=__1.kind.u.Loop.body;_n3(__3,__2,"body",0);}else if(__1.kind.t==28){_53* __3=__1.kind.u.While.cond;_63 __4=__1.kind.u.While.body;_m3((*__3),__2);_n3(__4,__2,"body",1);}else if(__1.kind.t==29){_V2 __3=__1.kind.u.For.iter;_C3 __4=__1.kind.u.For.iter_value;_53* __5=__1.kind.u.For.cond;_53* __6=__1.kind.u.For._next;_63 __7=__1.kind.u.For.body;printf("iter = %s",__3);if(__4.t==0){_53* __8=__4.u.Some.thing;printf(", iter_value = ");_m3((*__8),__2);}printf(", cond = ");_m3((*__5),__2);printf(", next = ");_m3((*__6),__2);_n3(__7,__2,"body",1);}else if(__1.kind.t==30){_G3 __3=__1.kind.u.Each.vars;_53* __4=__1.kind.u.Each.iter;_63 __5=__1.kind.u.Each.body;printf("vars = [");for(int __6=0;__6<(__3.len);__6+=1){if(__6!=0){printf(", ");}printf("%s",(__3.buf)[__6]);}printf("], iter = ");_m3((*__4),__2);_n3(__5,__2,"body",1);}else if(__1.kind.t==31){_53* __3=__1.kind.u.Match.value;_63 __4=__1.kind.u.Match.cases;printf("value = ");_m3((*__3),__2);_n3(__4,__2,"cases",1);}else if(__1.kind.t==32){_63 __3=__1.kind.u.Case.values;_63 __4=__1.kind.u.Case.body;_n3(__3,__2,"values",0);_n3(__4,__2,"body",1);}else if(__1.kind.t==33){_53* __3=__1.kind.u.Echo.value;printf("value = ");_m3((*__3),__2);}else if(__1.kind.t==34){_H3 __3=__1.kind.u.Ret.label;_C3 __4=__1.kind.u.Ret.value;if(__3.t==0){_V2 __5=__3.u.Some.thing;printf("label = %s",__5.buf);}if(__4.t==0){_53* __5=__4.u.Some.thing;printf(", value = ");_m3((*__5),__2);}}else if(__1.kind.t==35){_H3 __3=__1.kind.u.Next.label;if(__3.t==0){_V2 __4=__3.u.Some.thing;printf("label = %s, ",__4.buf);}}else if(__1.kind.t==36){_H3 __3=__1.kind.u.Jump.label;if(__3.t==0){_V2 __4=__3.u.Some.thing;printf("label = %s, ",__4.buf);}}else if(__1.kind.t==37){_H3 __3=__1.kind.u.Try.label;_53* __4=__1.kind.u.Try.value;if(__3.t==0){_V2 __5=__3.u.Some.thing;printf("label = %s, ",__5.buf);}printf("value = ");_m3((*__4),__2);}else if(__1.kind.t==38){_53* __3=__1.kind.u.UnaryOp.value;_l2 __4=__1.kind.u.UnaryOp.kind;_m3((*__3),__2);}else if(__1.kind.t==39){_53* __3=__1.kind.u.BinaryOp.lhs;_53* __4=__1.kind.u.BinaryOp.rhs;_l2 __5=__1.kind.u.BinaryOp.kind;printf("lhs = ");_m3((*__3),__2);printf(", rhs = ");_m3((*__4),__2);}else if(__1.kind.t==40){_53* __3=__1.kind.u.TernaryOp.cond;_53* __4=__1.kind.u.TernaryOp.valueA;_53* __5=__1.kind.u.TernaryOp.valueB;printf("cond = ");_m3((*__3),__2);printf(", valueA = ");_m3((*__4),__2);printf(", valueB = ");_m3((*__5),__2);}putchar(')');};void _q3(_y2 __1,int __2){_T2((_S2){.t=1});printf("PATH");_U2();putchar('(');for(int __3=0;__3<((__1.parts).len);__3+=1){_z2 __4=((__1.parts).buf)[__3];if(__3!=0){printf(", ");}printf("name = %s",(__4.name).buf);if(((__4.gens).len)>0){printf(", gens = [");for(int __5=0;__5<((__4.gens).len);__5+=1){putchar('\n');_l3(__2+1);_q3(((__4.gens).buf)[__5],__2+1);}putchar('\n');_l3(__2);putchar(']');}}putchar(')');};void _p3(_I3 __1,int __2){if((__1.len)>0){printf("tags = [");for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_l3(__2+1);_T2((_S2){.t=1});printf("TAG");_U2();printf("(path = ");_q3(((__1.buf)[__3]).path,__2+1);_n3(((__1.buf)[__3]).args,__2+1,"args",1);putchar(')');}putchar('\n');_l3(__2);putchar(']');}};void _r3(_83 __1,int __2){_T2((_S2){.t=1});printf("IF_BRANCH");_U2();printf("(cond = ");_m3((*(__1.cond)),__2);_n3(__1.body,__2,"body",1);};void _s3(_E3 __1,int __2){if((__1.len)>0){printf(", elif = [");for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_l3(__2+1);_r3((__1.buf)[__3],__2+1);}putchar('\n');_l3(__2);putchar(']');}};void _t3(_93 __1,int __2){_T2((_S2){.t=1});printf("ELSE_BRANCH");_U2();putchar('(');_n3(__1.body,__2,"body",0);putchar(')');};uint8_t* _o3(_A3 __1){if(__1.t==1){return "TAG_DEF";}else if(__1.t==2){return "BLOCK";}else if(__1.t==3){return "MOD";}else if(__1.t==4){return "USE";}else if(__1.t==5){return "FIELD";}else if(__1.t==6){return "COMP";}else if(__1.t==7){return "ENUM";}else if(__1.t==8){return "OPTION";}else if(__1.t==9){return "PROP";}else if(__1.t==10){return "DEF";}else if(__1.t==11){return "SUB_DEF";}else if(__1.t==12){return "VAR_DEF";}else if(__1.t==13){return "LOCAL_VAR_DEF";}else if(__1.t==14){return "SUB_CALL";}else if(__1.t==15){return "VAR_USE";}else if(__1.t==16){return "COMP_INST";}else if(__1.t==17){return "ENUM_INST";}else if(__1.t==18){return "STRING_LIT";}else if(__1.t==19){return "CHAR_LIT";}else if(__1.t==20){return "INT_LIT";}else if(__1.t==21){return "FLOAT_LIT";}else if(__1.t==22){return "BOOL_LIT";}else if(__1.t==23){return "THIS_LIT";}else if(__1.t==24){return "TYPE_LIT";}else if(__1.t==25){return "LOCAL_BLOCK";}else if(__1.t==26){return "IF";}else if(__1.t==27){return "LOOP";}else if(__1.t==28){return "WHILE";}else if(__1.t==29){return "FOR";}else if(__1.t==30){return "EACH";}else if(__1.t==31){return "MATCH";}else if(__1.t==32){return "CASE";}else if(__1.t==33){return "ECHO";}else if(__1.t==34){return "RET";}else if(__1.t==35){return "NEXT";}else if(__1.t==36){return "JUMP";}else if(__1.t==37){return "TRY";}else if(__1.t==38){return "UNARY_OP";}else if(__1.t==39){return "BINARY_OP";}else if(__1.t==40){return "TERNARY_OP";}};void _l3(int __1){for(int __2=0;__2<=__1;__2+=1){printf("  ");}};_x3 _04(int __1){return (_x3){.buf=malloc(sizeof(_w3)*__1),.len=0,.cap=__1,};};_y3 _14(int __1){return (_y3){.buf=malloc(sizeof(_v3)*__1),.len=0,.cap=__1,};};void _z3(){_i1=0;_j1=_04(4);_k1=_14(4);_l1=_K3(4);_m1=_23(4);};void _24(_i2 __1,_63 __2){for(int __3=0;__3<(__2.len);__3+=1){_34(__1,(&((__2.buf)[__3])));}};void _74(_03* this,_03 __9){if((__9.len)==0){return;}int __A=(*this).len;((*this).len)+=(__9.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_z2)*((*this).cap));}memcpy(((*this).buf)+__A,__9.buf,sizeof(_z2)*(__9.len));};void _84(_03* this,_03 __A){if((__A.len)==0){return;}int __B=(*this).len;((*this).len)+=(__A.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_z2)*((*this).cap));}memcpy(((*this).buf)+(__A.len),(*this).buf,sizeof(_z2)*__B);memcpy((*this).buf,__A.buf,sizeof(_z2)*(__A.len));};void _94(_y3* this,_v3 __A){(((*this).buf)[((*this).len)])=__A;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_v3)*((*this).cap));}};void _34(_i2 __1,_53* __2){_44 __3=(_44){.t=1};_44 __4=(_44){.t=1};for(int __5=0;__5<(((*__2).tags).len);__5+=1){_43 __6=(((*__2).tags).buf)[__5];if(_54(__6.path,"pub")){if((__3.t)!=1){_j2((&__1),__6.index,"only one #pub is allowed per path");}__3=(_44){.t=0,.u={.Some={.thing=__6,}}};}else if(_54(__6.path,"bind")){if((__4.t)!=1){_j2((&__1),__6.index,"only one #bind is allowed per path");}__4=(_44){.t=0,.u={.Some={.thing=__6,}}};}}_y2* __5;if((*__2).kind.t==2){_63 __6=(*__2).kind.u.Block.body;_24(__1,__6);return;}else if((*__2).kind.t==3){_y2* __6=&((*__2).kind.u.Mod.path);_63 __7=(*__2).kind.u.Mod.body;_64(__3,(*__6));_03 __8=_m1;_74((&_m1),(*__6).parts);_y2 __9=_13(__6);_84((&((*__6).parts)),__8);_24(__1,__7);(_m1.len)=(__8.len);_94((&_k1),(_v3){.path=(*__6),.alias=__9,});}else if((*__2).kind.t==4){_y2 __6=(*__2).kind.u.Use.path;_y2 __7=(_y2){.parts=_23(1),.index=__6.index,};_i3((&(__7.parts)),((__6.parts).buf)[(((__6.parts).len)-1)]);_94((&_k1),(_v3){.path=__6,.alias=__7,});return;}else if((*__2).kind.t==6){_y2* __6=&((*__2).kind.u.Comp.path);_64(__3,(*__6));_y2 __7=_13(__6);_84((&((*__6).parts)),_m1);_94((&_k1),(_v3){.path=(*__6),.alias=__7,});__5=__6;}else if((*__2).kind.t==7){_y2* __6=&((*__2).kind.u.Enum.path);_64(__3,(*__6));_y2 __7=_13(__6);_84((&((*__6).parts)),_m1);_94((&_k1),(_v3){.path=(*__6),.alias=__7,});__5=__6;}else if((*__2).kind.t==10){_y2 __6=(*__2).kind.u.Def._prop;_63 __7=(*__2).kind.u.Def.body;_64(__3,__6);int __8=_m1.len;_74((&_m1),__6.parts);_24(__1,__7);(_m1.len)=__8;}else if((*__2).kind.t==11){_y2* __6=&((*__2).kind.u.SubDef.path);_64(__3,(*__6));_y2 __7=_13(__6);_84((&((*__6).parts)),_m1);_94((&_k1),(_v3){.path=(*__6),.alias=__7,});__5=__6;}else if((*__2).kind.t==12){_B3 __6=(*__2).kind.u.VarDef._type;_y2* __7=&((*__2).kind.u.VarDef.path);_64(__3,(*__7));_y2 __8=_13(__7);_84((&((*__7).parts)),_m1);_94((&_k1),(_v3){.path=(*__7),.alias=__8,});__5=__7;}if(__3.t==0){_43 __6=__3.u.Some.thing;if((*__2).kind.t==3||(*__2).kind.t==6||(*__2).kind.t==7||(*__2).kind.t==10||(*__2).kind.t==11||(*__2).kind.t==12){}else if(1){_j2((&__1),__6.index,"#pub cannot be applied to this expr");}}uint8_t __6=_A4((*__5));if(__4.t==0){_43 __7=__4.u.Some.thing;if((*__2).kind.t==6||(*__2).kind.t==7||(*__2).kind.t==11||(*__2).kind.t==12){if(__6){_j2((&__1),__7.index,"#bind cannot be applied to generic expressions");}}else if(1){_j2((&__1),__7.index,"#bind cannot be applied to this expression");}}if((*__2).kind.t==6||(*__2).kind.t==7||(*__2).kind.t==11||(*__2).kind.t==12){if((((*__5).parts).len)<=(_j1.len)){if(_B4((*__5))){_j2((&__1),(*__5).index,"path already defined");}}if(__4.t==0){_43 __7=__4.u.Some.thing;if((*__2).kind.t==6||(*__2).kind.t==7||(*__2).kind.t==11||(*__2).kind.t==12){if(((__7.args).len)!=1){_j2((&__1),__7.index,"#bind requires one argument of type string");}if((((__7.args).buf)[0]).kind.t==18){_V2 __8=(((__7.args).buf)[0]).kind.u.StringLit.value;_C4((*__2),(*__5),__8);}else if(1){_j2((&__1),__7.index,"#bind requires one argument of type string");}}}else if(__4.t==1){_C4((*__2),(*__5),_D4(_i1+=1,0,0));}}};void _E4(_i2 __1,_63 __2){for(int __3=0;__3<(__2.len);__3+=1){_F4(__1,(&((__2.buf)[__3])));}};void _F4(_i2 __1,_53* __2){if((*__2).kind.t==2){_63 __3=(*__2).kind.u.Block.body;_E4(__1,__3);}else if((*__2).kind.t==3){_y2 __3=(*__2).kind.u.Mod.path;_63 __4=(*__2).kind.u.Mod.body;_E4(__1,__4);}else if((*__2).kind.t==4){_y2* __3=&((*__2).kind.u.Use.path);_G4(__3);if(_B4((*__3))==0){_j2((&__1),(*__3).index,"path not defined");}}else if((*__2).kind.t==5){_y2* __3=&((*__2).kind.u.Field._type);_V2 __4=(*__2).kind.u.Field.name;_G4(__3);if(_B4((*__3))==0){_j2((&__1),(*__3).index,"path not defined");}}else if((*__2).kind.t==6){_y2 __3=(*__2).kind.u.Comp.path;_63 __4=(*__2).kind.u.Comp.fields;_63 __5=(*__2).kind.u.Comp.body;_E4(__1,__4);_E4(__1,__5);}else if((*__2).kind.t==7){_y2 __3=(*__2).kind.u.Enum.path;_63 __4=(*__2).kind.u.Enum.opts;_63 __5=(*__2).kind.u.Enum.body;_E4(__1,__4);_E4(__1,__5);}else if((*__2).kind.t==8){_V2 __3=(*__2).kind.u.Option.name;_63 __4=(*__2).kind.u.Option.fields;_E4(__1,__4);}else if((*__2).kind.t==9){_y2 __3=(*__2).kind.u.Prop.path;_63 __4=(*__2).kind.u.Prop.body;_E4(__1,__4);}else if((*__2).kind.t==10){_y2 __3=(*__2).kind.u.Def._prop;_B3 __4=(*__2).kind.u.Def.target;_63 __5=(*__2).kind.u.Def.body;}else if((*__2).kind.t==11){_B3 __3=(*__2).kind.u.SubDef.ret_type;_y2 __4=(*__2).kind.u.SubDef.path;_63 __5=(*__2).kind.u.SubDef.args;_63 __6=(*__2).kind.u.SubDef.body;}else if((*__2).kind.t==12){_B3 __3=(*__2).kind.u.VarDef._type;_y2 __4=(*__2).kind.u.VarDef.path;_C3 __5=(*__2).kind.u.VarDef.value;}else if((*__2).kind.t==13){_B3 __3=(*__2).kind.u.LocalVarDef._type;_V2 __4=(*__2).kind.u.LocalVarDef.name;_C3 __5=(*__2).kind.u.LocalVarDef.value;}else if((*__2).kind.t==14){_y2 __3=(*__2).kind.u.SubCall.path;_63 __4=(*__2).kind.u.SubCall.args;}else if((*__2).kind.t==15){_y2 __3=(*__2).kind.u.VarUse.path;}else if((*__2).kind.t==16){_y2 __3=(*__2).kind.u.CompInst._type;_D3 __4=(*__2).kind.u.CompInst.field_vals;}else if((*__2).kind.t==17){_y2 __3=(*__2).kind.u.EnumInst._type;_y2 __4=(*__2).kind.u.EnumInst.path;int __5=(*__2).kind.u.EnumInst.opt_index;_63 __6=(*__2).kind.u.EnumInst.args;}else if((*__2).kind.t==25){_63 __3=(*__2).kind.u.LocalBlock.body;}else if((*__2).kind.t==26){_83 __3=(*__2).kind.u.If._if;_E3 __4=(*__2).kind.u.If._elif;_F3 __5=(*__2).kind.u.If._else;}else if((*__2).kind.t==27){_63 __3=(*__2).kind.u.Loop.body;}else if((*__2).kind.t==28){_53* __3=(*__2).kind.u.While.cond;_63 __4=(*__2).kind.u.While.body;}else if((*__2).kind.t==29){_V2 __3=(*__2).kind.u.For.iter;_C3 __4=(*__2).kind.u.For.iter_value;_53* __5=(*__2).kind.u.For.cond;_53* __6=(*__2).kind.u.For._next;_63 __7=(*__2).kind.u.For.body;}else if((*__2).kind.t==30){_G3 __3=(*__2).kind.u.Each.vars;_53* __4=(*__2).kind.u.Each.iter;_63 __5=(*__2).kind.u.Each.body;}else if((*__2).kind.t==31){_53* __3=(*__2).kind.u.Match.value;_63 __4=(*__2).kind.u.Match.cases;}else if((*__2).kind.t==32){_63 __3=(*__2).kind.u.Case.values;_63 __4=(*__2).kind.u.Case.body;}else if((*__2).kind.t==33){_53* __3=(*__2).kind.u.Echo.value;}else if((*__2).kind.t==34){_H3 __3=(*__2).kind.u.Ret.label;_C3 __4=(*__2).kind.u.Ret.value;}else if((*__2).kind.t==37){_H3 __3=(*__2).kind.u.Try.label;_53* __4=(*__2).kind.u.Try.value;}else if((*__2).kind.t==38){_53* __3=(*__2).kind.u.UnaryOp.value;_l2 __4=(*__2).kind.u.UnaryOp.kind;}else if((*__2).kind.t==39){_53* __3=(*__2).kind.u.BinaryOp.lhs;_53* __4=(*__2).kind.u.BinaryOp.rhs;_l2 __5=(*__2).kind.u.BinaryOp.kind;}else if((*__2).kind.t==40){_53* __3=(*__2).kind.u.TernaryOp.cond;_53* __4=(*__2).kind.u.TernaryOp.valueA;_53* __5=(*__2).kind.u.TernaryOp.valueB;}};uint8_t _B4(_y2 __1){_w3 __2=(_j1.buf)[(((__1.parts).len)-1)];for(int __3=0;__3<(__2.len);__3+=1){if(_H4(__1,((__2.buf)[__3]).path)){return 1;}}return 0;};uint8_t _A4(_y2 __1){for(int __2=0;__2<((__1.parts).len);__2+=1){if((((((__1.parts).buf)[__2]).gens).len)>0){return 1;}}return 0;};void _64(_44 __1,_y2 __2){if((__1.t)!=1){for(int __3=0;__3<((__2.parts).len);__3+=1){((((__2.parts).buf)[__3]).pub)=1;}}};void _G4(_y2* __1){for(;;){for(int __2=0;__2<(_k1.len);__2+=1){if(_H4((*__1),((_k1.buf)[__2]).alias)){(*__1)=(((_k1.buf)[__2]).path);goto l;}}return;l:}ret_l:};void _J4(_x3* this,_w3 __4){(((*this).buf)[((*this).len)])=__4;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_w3)*((*this).cap));}};_w3 _K4(int __4){return (_w3){.buf=malloc(sizeof(_u3)*__4),.len=0,.cap=__4,};};_V2 _I4(_y2 __1,uint8_t __2,uint8_t __3){if(((__1.parts).len)<=(_j1.len)){_w3 __4=(_j1.buf)[(((__1.parts).len)-1)];for(int __5=0;__5<(__4.len);__5+=1){l:}ret_l:}else{while(((__1.parts).len)>(_j1.len)){_J4((&_j1),_K4(16));}}int __4=0;_y2 __5=__1;};_V2 _D4(int __1,uint8_t __2,int __3){_Z2 __4=_a2(4);_c2((&__4),'_');if(__2){_c2((&__4),'_');}while(__1>0){int __5=__1%62;if(__5<10){__5+=48;}else if(__5<36){__5+=55;}else{__5+=61;}_c2((&__4),__5);__1/=62;}for(int __5=0;__5<__3;__5+=1){_c2((&__4),'*');}return _g2((&__4));};uint8_t _54(_y2 __1,uint8_t* __2){return (((__1.parts).len)==1)&&(strcmp(((((__1.parts).buf)[0]).name).buf,__2)==0);};uint8_t _H4(_y2 __1,_y2 __2){if(((__1.parts).len)!=((__2.parts).len)){return 0;}for(int __3=0;__3<((__1.parts).len);__3+=1){_z2 __4=((__1.parts).buf)[__3];_z2 __5=((__2.parts).buf)[__3];if(strcmp((__4.name).buf,(__5.name).buf)==0){goto l;}return 0;l:}ret_l:return 1;};void _L4(_w3* this,_u3 __4){(((*this).buf)[((*this).len)])=__4;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_u3)*((*this).cap));}};void _C4(_53 __1,_y2 __2,_V2 __3){while(((__2.parts).len)>(_j1.len)){_J4((&_j1),_K4(16));}_L4((&((_j1.buf)[(((__2.parts).len)-1)])),(_u3){.expr=__1,.path=__2,.name=__3,});};void _M4(_V2 __1,_63 __2){FILE* __3=fopen(__1.buf,"w");fclose(__3);};void _N4(_Z2* __1,_63 __2,uint8_t __3,uint8_t __4,uint8_t __5){};void _O4(_Z2* __1,_53 __2,uint8_t __3,uint8_t __4,int __5){};void _P4(uint8_t* __1,uint8_t* __2,uint8_t* __3){printf(__2);printf("\n\nUSAGE:\n    cup ");printf(__1);printf(" [OPTIONS]\n\nOPTIONS:");printf(__3);printf("\n");};_Q4 _R4(_S4 __1){if((__1.len)==1){return (_Q4){.t=1};}uint8_t __2=0;_Z2 __3=_a2(16);for(int __4=1;__4<(__1.len);__4+=1){if(__4==4){goto ret_l;}if(((((__1.buf)[__4]).buf)[0])=='-'){if(__2){goto ret_l;}goto l;}__2=1;for(int __5=0;__5<(((__1.buf)[__4]).len);__5+=1){_c2((&__3),(((__1.buf)[__4]).buf)[__5]);}l:}ret_l:uint8_t* __4=__3.buf;if(strcmp(__4,"help")==0){return (_Q4){.t=1};}else if(strcmp(__4,"helprun")==0){return (_Q4){.t=2};}else if(strcmp(__4,"helpbuild")==0){return (_Q4){.t=3};}else if(strcmp(__4,"helpcheck")==0){return (_Q4){.t=4};}else if(strcmp(__4,"helpupdate")==0){return (_Q4){.t=6};}else if(strcmp(__4,"helpadd")==0){return (_Q4){.t=7};}else if(strcmp(__4,"helpremove")==0){return (_Q4){.t=8};}else if(strcmp(__4,"helpgendocs")==0){return (_Q4){.t=9};}else if(strcmp(__4,"helpgenbinds")==0){return (_Q4){.t=10};}else if(strcmp(__4,"helpselfupdate")==0){return (_Q4){.t=11};}else if(strcmp(__4,"helpselfinstall")==0){return (_Q4){.t=12};}else if(strcmp(__4,"helpselfuninstall")==0){return (_Q4){.t=13};}else if(strcmp(__4,"run")==0){return (_Q4){.t=14};}else if(strcmp(__4,"build")==0){return (_Q4){.t=15};}else if(strcmp(__4,"check")==0){return (_Q4){.t=16};}else if(strcmp(__4,"update")==0){return (_Q4){.t=18};}else if(strcmp(__4,"add")==0){return (_Q4){.t=19};}else if(strcmp(__4,"remove")==0){return (_Q4){.t=20};}else if(strcmp(__4,"gendocs")==0){return (_Q4){.t=21};}else if(strcmp(__4,"genbinds")==0){return (_Q4){.t=22};}else if(strcmp(__4,"selfupdate")==0){return (_Q4){.t=23};}else if(strcmp(__4,"selfinstall")==0){return (_Q4){.t=24};}else if(strcmp(__4,"selfuninstall")==0){return (_Q4){.t=25};}return (_Q4){.t=0};};_S4 _T4(int __4){return (_S4){.buf=malloc(sizeof(_V2)*__4),.len=__4,};};_V2 _W4(_H3* this){if((*this).t==0){_V2 __8=(*this).u.Some.thing;return __8;}else if((*this).t==1){_h2("unwrap failed");}};int main(int __1,uint8_t** __2){_S4 __3=_T4(__1);for(int __4=0;__4<(__3.len);__4+=1){((__3.buf)[__4])=_X2((*(__2+__4)));}_Q4 __4=_R4(__3);if(__4.t==0){_T2((_S2){.t=2});printf("error: ");_U2();printf("no such command: '%s",(__3.buf)[1]);for(int __5=2;__5<__1;__5+=1){printf(" %s",(__3.buf)[__5]);}printf("'\n\nSee 'cup help' for the list of available commands.\n");return 1;}else if(__4.t==14||__4.t==15){goto ret_m;}else if(__4.t==16||__4.t==17||__4.t==18||__4.t==19||__4.t==20||__4.t==21||__4.t==22||__4.t==23||__4.t==24||__4.t==25){return 1;}else if(__4.t==1){printf("Cup Toolkit v0.0.1\n\n");printf("USAGE:\n    cup [COMMAND] [OPTIONS]");printf("\n\nCOMMANDS:");printf("\n    run                  Compile and run the current package");printf("\n    build                Compile the current package");printf("\n    check                Analyze the current package");printf("\n    new [PACKAGE]        Create a new package");printf("\n    update [PACKAGE]     Update given dependency");printf("\n    add [PACKAGE]        Adds given dependency");printf("\n    remove [PACKAGE]     Removes given dependency");printf("\n    gen docs             Generate documentation for the current package");printf("\n    gen binds [HEADER]   Generate bindings for a given C header file");printf("\n    self update          Update the Cup Toolkit");printf("\n    self install         Install the Cup Toolkit");printf("\n    self uninstall       Uninstall the Cup Toolkit");printf("\n\nSee 'cup help [COMMAND]' for more info about a specific command and it's available options.\n");return 0;}else if(__4.t==2){_P4("run","Compile and run the current package",_o1);return 0;}else if(__4.t==3){_P4("build","Compile the current package",_o1);return 0;}else if(__4.t==4){_P4("check","Analyze the current package",_n1);return 0;}else if(__4.t==5){_P4("new","Create a new package",_n1);return 0;}else if(__4.t==6){_P4("update","Update given dependency",_n1);return 0;}else if(__4.t==7){_P4("add","Adds given dependency",_n1);return 0;}else if(__4.t==8){_P4("remove","Removes given dependency",_n1);return 0;}else if(__4.t==9){_P4("gen docs","Generate documentation for the current package",_n1);return 0;}else if(__4.t==10){_P4("gen binds","Generate bindings for a given C header file",_n1);return 0;}else if(__4.t==11){_P4("self update","Update the Cup Toolkit",_n1);return 0;}else if(__4.t==12){_P4("self install","Install the Cup Toolkit",_n1);return 0;}else if(__4.t==13){_P4("self uninstall","Uninstall the Cup Toolkite",_n1);return 0;}ret_m:_H3 __5=(_H3){.t=1};_H3 __6=(_H3){.t=1};for(int __7=2;__7<(__3.len);__7+=1){if((strcmp(((__3.buf)[__7]).buf,"-i")==0)||(strcmp(((__3.buf)[__7]).buf,"--input")==0)){_U4((&__5),__3,__7+=1);}else if(((strcmp(((__3.buf)[__7]).buf,"-o")==0)||strcmp(((__3.buf)[__7]).buf,"--output"))==0){_U4((&__6),__3,__7+=1);}else{_T2((_S2){.t=2});printf("error: ");_U2();printf("invalid option '%s'\n",((__3.buf)[__7]).buf);return 1;}}if((__5.t)==1){__5=(_H3){.t=0,.u={.Some={.thing=_X2("."),}}};}if((__6.t)==1){__6=(_H3){.t=0,.u={.Some={.thing=_X2("out.c"),}}};}_63 __7=_K3(8);_z3();_V4(_W4((&__5)),(&__7));_M4(_W4((&__6)),__7);printf("Compilation ");_T2((_S2){.t=1});printf("successful");_U2();printf(" (%.2lfs elapsed)\n",_R2());return 0;};void _U4(_H3* __1,_S4 __2,int __3){if((__2.len)>__3){(*__1)=(_H3){.t=0,.u={.Some={.thing=(__2.buf)[__3],}}};}else{_h2("missing value after '%s' option",((__2.buf)[(__3-1)]).buf);}};_Z4 _a4(int __6){return (_Z4){.buf=malloc(sizeof(_Y4)*__6),.len=0,.cap=__6,};};void _b4(_Z4* this,_Y4 __C){(((*this).buf)[((*this).len)])=__C;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_Y4)*((*this).cap));}};void _c4(_63* this,_63 __C){if((__C.len)==0){return;}int __D=(*this).len;((*this).len)+=(__C.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_53)*((*this).cap));}memcpy(((*this).buf)+__D,__C.buf,sizeof(_53)*(__C.len));};void _V4(_V2 __1,_63* __2){DIR* __3=opendir(__1.buf);if(__3==0){_h2("no such file or directory: '%s'\n",__1.buf);}struct dirent* __4;for(;;){__4=readdir(__3);if(__4==0){goto ret_d;}if(((*__4).d_type)==DT_DIR){if((strcmp((*__4).d_name,".")==0)||(strcmp((*__4).d_name,"..")==0)){goto d;}_V2 __5=_X4(__1,_X2((*__4).d_name));_V4(__5,__2);free(__5.buf);}d:}ret_d:rewinddir(__3);_Z4 __5=_a4(4);for(;;){__4=readdir(__3);if(__4==0){goto ret_f;}if(((*__4).d_type)==DT_REG){_V2 __6=_X4(__1,_X2((*__4).d_name));FILE* __7=fopen(__6.buf,"r");fseek(__7,0,SEEK_END);_V2 __8=_W2(ftell(__7));rewind(__7);fread(__8.buf,(__8.len)+1,1,__7);fclose(__7);printf("Compiling %s:\n",__6);_i2 __9=(_i2){.name=__6,.data=__8,};_u2 __A=_t2(__9);_x2(__A);_63 __B=_J3(__9,__A);free(__A.buf);_j3(__B);_24(__9,__B);_b4((&__5),(_Y4){.file=__9,.exprs=__B,});_c4(__2,__B);}f:}ret_f:closedir(__3);for(int __6=0;__6<(__5.len);__6+=1){_Y4 __7=(__5.buf)[__6];_E4(__7.file,__7.exprs);free(((__7.file).name).buf);free(((__7.file).data).buf);}free(__5.buf);};_V2 _X4(_V2 __1,_V2 __2){_V2 __3=_W2(((__1.len)+1)+(__2.len));memcpy(__3.buf,__1.buf,sizeof(uint8_t)*(__1.len));((__3.buf)[(__1.len)])='/';memcpy(((__3.buf)+(__1.len))+1,__2.buf,sizeof(uint8_t)*(__2.len));((__3.buf)[(__3.len)])='\0';return __3;};