#include "stdint.h"
#include "stdlib.h"
#include "string.h"
#include "stdio.h"
#include "stdarg.h"
#include "dirent.h"
#include "ctype.h"
#include "time.h"
typedef struct _23 _23;typedef struct _53 _53;typedef struct _93 _93;typedef struct _J3 _J3;typedef struct _M3 _M3;typedef struct _P3 _P3;typedef struct _R3 _R3;typedef struct _U3 _U3;typedef struct _Y3 _Y3;typedef struct _a3 _a3;typedef struct _Z3 _Z3;typedef struct _e3 _e3;typedef struct _f3 _f3;typedef struct _g3 _g3;typedef struct _h3 _h3;typedef struct _i3 _i3;typedef struct _j3 _j3;typedef struct _k3 _k3;typedef struct _l3 _l3;typedef struct _m3 _m3;typedef struct _n3 _n3;typedef struct _o3 _o3;typedef struct _p3 _p3;typedef struct _d3 _d3;typedef struct _q3 _q3;typedef struct _P4 _P4;typedef struct _Q4 _Q4;typedef struct _R4 _R4;typedef struct _S4 _S4;typedef struct _T4 _T4;typedef struct _U4 _U4;typedef struct _a4 _a4;typedef struct _w4 _w4;typedef struct _x4 _x4;typedef struct _A5 _A5;typedef struct _C5 _C5;typedef struct _E5 _E5;typedef struct _D5 _D5;double _13();void _33(_23 __1);void _43();_53 _63(int __1);_53 _73(uint8_t* __1);_93 _83(_53* this);_93 _A3(int __1);_93 _B3(uint8_t* __1);void _C3(_93* this,uint8_t __1);void _D3(_93* this,uint8_t __1);void _E3(_93* this,_53 __1);void _F3(_93* this,uint8_t* __1);void _G3(_93* this,_53 __1);_53 _H3(_93* this);void _I3(uint8_t* __1,...);void _K3(_J3* this,int __1,uint8_t* __2,...);void _L3(_53 __1,int __2,int __3);int _N3(_M3 __1);uint8_t* _O3(_M3 __1);void _Q3(_J3 __1,int __2,_93* __3,uint8_t __4,_R3 __5);_M3 _S3(uint8_t* __1);_U3 _T3(_J3 __1);_U3 _V3(int __3);void _W3(_U3* this,_P3 __B);void _X3(_U3 __1);_Y3 _b3(_Y3* this);_a3 _c3(int __2);_e3 _r3(_J3 __1,_U3 __2);_e3 _s3(int __5);void _t3(_e3* this,_d3 __5);_e3 _v3(_J3 __1,_U3 __2,int* __3,uint8_t __4);_e3 _x3(_J3 __1,_U3 __2,int* __3,uint8_t __4);_P3 _y3(_J3 __1,_U3 __2,int* __3,_M3 __4,uint8_t* __5);uint8_t _z3(_U3 __1,int* __2,_M3 __3);_d3 _w3(_J3 __1,_U3 __2,int* __3,int __4,uint8_t __5);_d3* _34(_d3 __B);_m3 _44(int __C);void _54(_m3* this,_h3 __C);_o3 _64(int __9);void _74(_o3* this,_53 __9);_53 _84(_p3* this);_d3 _u3(_J3 __1,_U3 __2,int* __3);_p3 _04(_J3 __1,_U3 __2,int* __3,uint8_t __4);_q3 _14(_J3 __1,_U3 __2,int* __3);_q3 _A4(int __5);void _B4(_q3* this,_f3 __9);_Y3 _24(_J3 __1,_U3 __2,int* __3);_Y3 _C4(_J3 __1,_U3 __2,int* __3);void _D4(_a3* this,_Z3 __9);_e3 _94(_J3 __1,_U3 __2,int* __3);void _E4(_e3 __1);void _F4(_e3 __1,int __2);void _I4(_e3 __1,int __2,uint8_t* __3,uint8_t __4);void _H4(_d3 __1,int __2);void _L4(_Y3 __1,int __2);void _K4(_q3 __1,int __2);void _M4(_h3 __1,int __2);void _N4(_m3 __1,int __2);void _O4(_i3 __1,int __2);uint8_t* _J4(_j3 __1);void _G4(int __1);void _V4();_T4 _W4(int __1);_U4 _X4(int __1);void _Y4(_J3 __1,_e3 __2);void _Z4(_J3 __1,_d3* __2);void _d4(_a3* this,_a3 __9);void _e4(_a3* this,_a3 __A);void _f4(_U4* this,_Q4 __A);void _l4(_J3 __1,_e3 __2,uint8_t __3);void _m4(_J3 __1,_d3* __2);uint8_t _i4(_Y3 __1);uint8_t _h4(_Y3 __1);void _p4(_Y3 __1,int __2);void _c4(_a4 __1,_Y3 __2,int __3);void _n4(_Y3* __1);_Z3 _q4(_a3* this);void _o4(_J3 __1,_Y3 __2,_R4 __3);_53 _k4(_d3 __1,_Y3 __2,uint8_t __3);void _r4(_T4* this,_S4 __4);_S4 _s4(int __4);void _u4(_S4* this,_P4 __6);_93 _t4(int __1,uint8_t __2);uint8_t _b4(_Y3 __1,uint8_t* __2);uint8_t _g4(_Y3 __1,_Y3 __2,uint8_t __3);uint8_t _v4(_e3 __1,_e3 __2);void _j4(_d3 __1,_Y3 __2,_53 __3);void _y4(_53 __1,_e3 __2);_x4 _z4(int __3);void _05(_93* __1,_e3 __2,uint8_t __3,uint8_t __4,uint8_t __5);void _15(_93* __1,_d3 __2,uint8_t __3,uint8_t __4,int __5);_Y3 _55(_k3* this);void _25(_53 __1);_Y3 _65(_Y3 __1);_p3 _35(_Y3 __1,uint8_t __2);void _75(_x4* this,_w4 __C);_53 _85(_53 __1,int __2);_53 _45(_53 __1);void _95(uint8_t* __1,uint8_t* __2,uint8_t* __3);_A5 _B5(_C5 __1);int main(int __1,uint8_t** __2);_C5 _F5(int __4);_E5 _H5(int __8);void _G5(_p3* __1,_C5 __2,int __3);void _L5(_53 __1,_e3* __2);_53 _J5(_53 __1);void _I5(_J3 __1,_e3* __2);void _N5(_E5* this,_D5 __5);void _O5(_e3* this,_e3 __5);void _K5();_53 _M5(_53 __1,_53 __2);int _l1;int _m1;int _n1;_T4 _o1;_U4 _p1;_a3 _q1;_o3 _r1;_o3 _s1;_93 _t1;_93 _u1;_93 _v1;_93 _w1;_93 _x1;_x4 _u;uint8_t* _y1="\n    No options are available for this command";uint8_t* _z1="\n    -i, --input     Specify the input file name\n    -o, --output    Specify the output file name\n    -cg, --gcc     Use GCC as a compiler\n    -cm, --msvc    Use MSVC as a compiler\n    -cc, --clang   use Clang as a compiler\n    -ct, --tcc     Use TinyCC as a compiler";_E5 _02;typedef struct _23{int t;union{}u;}_23;typedef struct _53{uint8_t* buf;int len;}_53;typedef struct _93{uint8_t* buf;int len;int cap;}_93;typedef struct _J3{_53 name;_53 data;}_J3;typedef struct _M3{int t;union{}u;}_M3;typedef struct _P3{_M3 kind;int index;_53 value;}_P3;typedef struct _R3{int t;union{}u;}_R3;typedef struct _U3{_P3* buf;int len;int cap;}_U3;typedef struct _a3{_Z3* buf;int len;int cap;}_a3;typedef struct _Y3{_a3 parts;int index;}_Y3;typedef struct _e3{_d3* buf;int len;int cap;}_e3;typedef struct _Z3{uint8_t pub;int scope;_53 name;_e3 gens;}_Z3;typedef struct _f3{_Y3 path;_e3 args;int index;}_f3;typedef struct _g3{_53 name;_d3* value;}_g3;typedef struct _h3{_d3* cond;_e3 body;}_h3;typedef struct _i3{_e3 body;}_i3;typedef struct _k3{int t;union{struct{_Y3 thing;}Some;}u;}_k3;typedef struct _l3{int t;union{struct{_d3* thing;}Some;}u;}_l3;typedef struct _m3{_h3* buf;int len;int cap;}_m3;typedef struct _n3{int t;union{struct{_i3 thing;}Some;}u;}_n3;typedef struct _o3{_53* buf;int len;int cap;}_o3;typedef struct _p3{int t;union{struct{_53 thing;}Some;}u;}_p3;typedef struct _j3{int t;union{struct{_Y3 path;_e3 args;_e3 body;}TagDef;struct{_e3 body;}Block;struct{_Y3 path;_e3 body;}Mod;struct{_Y3 path;_k3 alias;}Use;struct{_Y3 _type;_53 name;}Field;struct{_53 name;}TypeField;struct{_Y3 path;_e3 fields;_e3 body;}Comp;struct{_Y3 path;_e3 opts;_e3 body;}Sum;struct{_Y3 path;_e3 body;}Trait;struct{_Y3 _trait;_k3 target;_e3 body;}Def;struct{_k3 ret_type;_Y3 path;_e3 args;_e3 body;}ProcDef;struct{_k3 _type;_Y3 path;_l3 value;}VarDef;struct{_k3 _type;_53 name;_l3 value;}LocalVarDef;struct{_Y3 path;_e3 args;}ProcCall;struct{_Y3 path;}VarUse;struct{_53 value;}StringLit;struct{_53 value;}CharLit;struct{_53 value;}IntLit;struct{_53 value;}FloatLit;struct{_e3 body;}LocalBlock;struct{_h3 _if;_m3 _elif;_n3 _else;}If;struct{_e3 body;}Loop;struct{_d3* cond;_e3 body;}While;struct{_53 iter;_l3 iter_value;_d3* cond;_d3* _next;_e3 body;}For;struct{_o3 vars;_d3* iter;_e3 body;}Each;struct{_d3* value;_e3 cases;}Match;struct{_e3 values;_e3 body;}Case;struct{_p3 label;_l3 value;}Ret;struct{_53 label;}Next;struct{_53 label;}Jump;struct{_p3 label;_d3* value;}Try;struct{_d3* value;_M3 kind;}UnaryOp;struct{_d3* lhs;_d3* rhs;_M3 kind;}BinaryOp;struct{_d3* cond;_d3* valueA;_d3* valueB;}TernaryOp;}u;}_j3;typedef struct _q3{_f3* buf;int len;int cap;}_q3;typedef struct _d3{_j3 kind;_q3 tags;_p3 label;}_d3;typedef struct _P4{_d3 expr;_Y3 path;_53 name;}_P4;typedef struct _Q4{uint8_t is_mod;_Y3 path;_Y3 alias;}_Q4;typedef struct _R4{int t;union{}u;}_R4;typedef struct _S4{_P4* buf;int len;int cap;}_S4;typedef struct _T4{_S4* buf;int len;int cap;}_T4;typedef struct _U4{_Q4* buf;int len;int cap;}_U4;typedef struct _a4{int t;union{struct{_f3 thing;}Some;}u;}_a4;typedef struct _w4{_53 name;_d3 expr;}_w4;typedef struct _x4{_w4* buf;int len;int cap;}_x4;typedef struct _A5{int t;union{}u;}_A5;typedef struct _C5{_53* buf;int len;}_C5;typedef struct _E5{_D5* buf;int len;int cap;}_E5;typedef struct _D5{_J3 file;_e3 exprs;}_D5;double _13(){return ((double)clock())/CLOCKS_PER_SEC;};void _33(_23 __1){if(__1.t==0){printf("\033[35m");}else if(__1.t==1){printf("\033[32m");}else if(__1.t==2){printf("\033[0;31m");}};void _43(){printf("\033[0m");};_53 _63(int __1){return (_53){.buf=malloc(sizeof(uint8_t)*(__1+1)),.len=__1,};};_53 _73(uint8_t* __1){int __2=strlen(__1)+1;uint8_t* __3=malloc(sizeof(uint8_t)*__2);memcpy(__3,__1,sizeof(uint8_t)*__2);return (_53){.buf=__3,.len=__2-1,};};_93 _83(_53* this){return (_93){.buf=(*this).buf,.len=(*this).len,.cap=(*this).len,};};_93 _A3(int __1){return (_93){.buf=malloc(sizeof(uint8_t)*__1),.len=0,.cap=__1,};};_93 _B3(uint8_t* __1){int __2=strlen(__1)+1;uint8_t* __3=malloc((sizeof(uint8_t)*__2)*2);memcpy(__3,__1,sizeof(uint8_t)*__2);return (_93){.buf=__3,.len=__2-1,.cap=__2*2,};};void _C3(_93* this,uint8_t __1){(((*this).buf)[((*this).len)])=__1;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}(((*this).buf)[((*this).len)])='\0';};void _D3(_93* this,uint8_t __1){((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memmove(((*this).buf)+1,(*this).buf,sizeof(uint8_t)*((*this).len));(((*this).buf)[0])=__1;};void _E3(_93* this,_53 __1){if((__1.len)==0){return;}int __2=(*this).len;((*this).len)+=(__1.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memcpy(((*this).buf)+__2,__1.buf,sizeof(uint8_t)*((__1.len)+1));};void _F3(_93* this,uint8_t* __1){int __2=strlen(__1);if(__2==0){return;}int __3=(*this).len;((*this).len)+=__2;while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memcpy(((*this).buf)+__3,__1,sizeof(uint8_t)*(__2+1));};void _G3(_93* this,_53 __1){if((__1.len)==0){return;}int __2=(*this).len;((*this).len)+=(__1.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memmove(((*this).buf)+(__1.len),(*this).buf,sizeof(uint8_t)*(__2+1));memcpy((*this).buf,__1.buf,sizeof(uint8_t)*(__1.len));};_53 _H3(_93* this){return (_53){.buf=(*this).buf,.len=(*this).len,};};void _I3(uint8_t* __1,...){va_list __2;va_start(__2,__1);_33((_23){.t=2});printf("error:");_43();printf(" ");vprintf(__1,__2);printf("\n");exit(1);va_end(__2);};void _K3(_J3* this,int __1,uint8_t* __2,...){va_list __3;va_start(__3,__2);int __4=1;int __5=1;for(int __6=0;__6<__1;__6+=1){if(((((*this).data).buf)[__6])=='\n'){__4+=1;__5=1;}else{__5+=1;}}printf("%s:%i:%i: ",((*this).name).buf,__4,__5);_33((_23){.t=2});printf("error:");_43();printf(" ");vprintf(__2,__3);printf("\n");_L3((*this).data,__4,__5);exit(1);va_end(__3);};void _L3(_53 __1,int __2,int __3){printf(" %i | ",__2);int __4=2;int __5=__2;while(__5!=0){__4+=1;__5/=10;}int __6=1;for(int __7=0;__7<(__1.len);__7+=1){uint8_t __8=(__1.buf)[__7];if(__8=='\n'){__6+=1;if(__6>__2){goto ret_l;}}else if(__6==__2){putchar(__8);}l:}ret_l:putchar('\n');for(int __7=0;__7<__4;__7+=1){putchar(' ');}putchar('|');for(int __7=0;__7<__3;__7+=1){putchar(' ');}_33((_23){.t=2});putchar('^');_43();putchar('\n');};int _N3(_M3 __1){if(__1.t==14||__1.t==23||__1.t==27){return 5;}else if(__1.t==7||__1.t==8||__1.t==12||__1.t==16||__1.t==20||__1.t==21||__1.t==22||__1.t==25||__1.t==29||__1.t==30){return 4;}else if(__1.t==9||__1.t==10||__1.t==11||__1.t==13||__1.t==15||__1.t==17||__1.t==24||__1.t==28||__1.t==31){return 3;}else if(__1.t==19||__1.t==26||__1.t==32||__1.t==49||__1.t==51||__1.t==55||__1.t==57||__1.t==59||__1.t==61||__1.t==63||__1.t==65||__1.t==67){return 2;}else if(__1.t==33||__1.t==34||__1.t==35||__1.t==36||__1.t==37||__1.t==38||__1.t==39||__1.t==40||__1.t==41||__1.t==42||__1.t==43||__1.t==44||__1.t==45||__1.t==46||__1.t==47||__1.t==48||__1.t==50||__1.t==52||__1.t==53||__1.t==54||__1.t==56||__1.t==58||__1.t==60||__1.t==62||__1.t==64||__1.t==66){return 1;}};uint8_t* _O3(_M3 __1){if(__1.t==1){return "EMPTY";}else if(__1.t==2){return "IDENT";}else if(__1.t==3){return "STRING_LIT";}else if(__1.t==4){return "CHAR_LIT";}else if(__1.t==5){return "INT_LIT";}else if(__1.t==6){return "FLOAT_LIT";}else if(__1.t==7){return "THIS";}else if(__1.t==8){return "TYPE";}else if(__1.t==9){return "TAG";}else if(__1.t==10){return "MOD";}else if(__1.t==11){return "USE";}else if(__1.t==12){return "COMP";}else if(__1.t==13){return "SUM";}else if(__1.t==14){return "TRAIT";}else if(__1.t==15){return "DEF";}else if(__1.t==16){return "PROC";}else if(__1.t==17){return "VAR";}else if(__1.t==19){return "IF";}else if(__1.t==20){return "ELIF";}else if(__1.t==21){return "ELSE";}else if(__1.t==22){return "LOOP";}else if(__1.t==23){return "WHILE";}else if(__1.t==24){return "FOR";}else if(__1.t==25){return "EACH";}else if(__1.t==26){return "IN";}else if(__1.t==27){return "MATCH";}else if(__1.t==28){return "RET";}else if(__1.t==29){return "NEXT";}else if(__1.t==30){return "JUMP";}else if(__1.t==31){return "TRY";}else if(__1.t==32){return "AS";}else if(__1.t==33){return "SEMICOLON";}else if(__1.t==34){return "COLON";}else if(__1.t==35){return "COMMA";}else if(__1.t==36){return "DOT";}else if(__1.t==37){return "QUESTION_MARK";}else if(__1.t==38){return "TILDE";}else if(__1.t==39){return "HASH";}else if(__1.t==40){return "LEFT_PAREN";}else if(__1.t==41){return "RIGHT_PAREN";}else if(__1.t==42){return "LEFT_BRACE";}else if(__1.t==43){return "RIGHT_BRACE";}else if(__1.t==44){return "LEFT_BRACKET";}else if(__1.t==45){return "RIGHT_BRACKET";}else if(__1.t==46){return "DEREF";}else if(__1.t==47){return "ADDRESS";}else if(__1.t==48){return "ASSIGN";}else if(__1.t==49){return "EQUAL";}else if(__1.t==50){return "NOT";}else if(__1.t==51){return "NOT_EQUAL";}else if(__1.t==52){return "AND";}else if(__1.t==53){return "OR";}else if(__1.t==54){return "LESS";}else if(__1.t==55){return "LESS_EQUAL";}else if(__1.t==56){return "GREATER";}else if(__1.t==57){return "GREATER_EQUAL";}else if(__1.t==58){return "ADD";}else if(__1.t==59){return "ADD_ASSIGN";}else if(__1.t==60){return "SUBTRACT";}else if(__1.t==61){return "SUBTRACT_ASSIGN";}else if(__1.t==62){return "MULTIPLY";}else if(__1.t==63){return "MULTIPLY_ASSIGN";}else if(__1.t==64){return "DIVIDE";}else if(__1.t==65){return "DIVIDE_ASSIGN";}else if(__1.t==66){return "MODULO";}else if(__1.t==67){return "MODULO_ASSIGN";}};void _Q3(_J3 __1,int __2,_93* __3,uint8_t __4,_R3 __5){if(((__5.t)==1)&&(((*__3).len)==4)){_K3((&__1),__2,"too many characters in character literal");}_C3(__3,__4);(((*__3).buf)[((*__3).len)])='\0';};_M3 _S3(uint8_t* __1){if(strcmp(__1,"tag")==0){return (_M3){.t=9};}else if(strcmp(__1,"mod")==0){return (_M3){.t=10};}else if(strcmp(__1,"use")==0){return (_M3){.t=11};}else if(strcmp(__1,"comp")==0){return (_M3){.t=12};}else if(strcmp(__1,"sum")==0){return (_M3){.t=13};}else if(strcmp(__1,"trait")==0){return (_M3){.t=14};}else if(strcmp(__1,"def")==0){return (_M3){.t=15};}else if(strcmp(__1,"proc")==0){return (_M3){.t=16};}else if(strcmp(__1,"var")==0){return (_M3){.t=17};}else if(strcmp(__1,"this")==0){return (_M3){.t=7};}else if(strcmp(__1,"type")==0){return (_M3){.t=8};}else if(strcmp(__1,"if")==0){return (_M3){.t=19};}else if(strcmp(__1,"elif")==0){return (_M3){.t=20};}else if(strcmp(__1,"else")==0){return (_M3){.t=21};}else if(strcmp(__1,"loop")==0){return (_M3){.t=22};}else if(strcmp(__1,"while")==0){return (_M3){.t=23};}else if(strcmp(__1,"for")==0){return (_M3){.t=24};}else if(strcmp(__1,"each")==0){return (_M3){.t=25};}else if(strcmp(__1,"in")==0){return (_M3){.t=26};}else if(strcmp(__1,"match")==0){return (_M3){.t=27};}else if(strcmp(__1,"ret")==0){return (_M3){.t=28};}else if(strcmp(__1,"next")==0){return (_M3){.t=29};}else if(strcmp(__1,"jump")==0){return (_M3){.t=30};}else if(strcmp(__1,"try")==0){return (_M3){.t=31};}else if(strcmp(__1,"as")==0){return (_M3){.t=32};}return (_M3){.t=1};};_U3 _V3(int __3){return (_U3){.buf=malloc(sizeof(_P3)*__3),.len=0,.cap=__3,};};void _W3(_U3* this,_P3 __B){(((*this).buf)[((*this).len)])=__B;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_P3)*((*this).cap));}};_U3 _T3(_J3 __1){_U3 __2=_V3(32);uint8_t __3=0;_R3 __4=(_R3){.t=0};_93 __5=_A3(8);((__5.buf)[(__5.len)])='\0';for(int __6=0;__6<=((__1.data).len);__6+=1){uint8_t __7=((__1.data).buf)[__6];if(((((__7=='`')&&((__4.t)!=1))&&((__4.t)!=2))&&((__4.t)!=3))&&((__4.t)!=4)){__3=1;goto l;}if(__3){if(__7=='\n'){__3=0;}goto l;}_M3 __8=(_M3){.t=0};if((__4.t)==3){__4=(_R3){.t=1};}else if((__4.t)==4){__4=(_R3){.t=2};}if(((__4.t)==1)||((__4.t)==2)){if(__7==0){if((__4.t)==1){_K3((&__1),__6-1,"expected end of char literal");}else{_K3((&__1),__6-1,"expected end of string literal");}}else if(((__4.t)==1)&&(__7==39)){}else if(((__4.t)==2)&&(__7=='"')){}else{if(__7==92){__7=(((__1.data).buf)[(__6+=1)]);if(__7=='0'){__7=8;}else if(__7=='b'){__7=8;}else if(__7=='f'){__7=12;}else if(__7=='n'){__7=10;}else if(__7=='r'){__7=13;}else if(__7=='t'){__7=9;}else if(__7=='v'){__7=11;}else if(__7==92){__7=92;}else if(__7==39){__7=39;}else if(__7=='"'){__7='"';}else{_K3((&__1),__6-1,"unrecognized character escape sequence");}}_Q3(__1,__6,(&__5),__7,__4);goto l;}}if((__7==0)||isspace(__7)){__8=(_M3){.t=1};}else{if(__7==39){if((__4.t)==1){__8=(_M3){.t=4};__4=(_R3){.t=0};}else{__8=(_M3){.t=1};__4=(_R3){.t=3};}}else if(__7=='"'){if((__4.t)==2){__8=(_M3){.t=3};__4=(_R3){.t=0};}else{__8=(_M3){.t=1};__4=(_R3){.t=4};}}else if(__7==';'){__8=(_M3){.t=33};}else if(__7==':'){__8=(_M3){.t=34};}else if(__7==','){__8=(_M3){.t=35};}else if(__7=='.'){uint8_t __9=((__1.data).buf)[(__6+1)];if((((__4.t)!=7)||(__9=='_'))||isalpha(__9)){__8=(_M3){.t=36};}}else if(__7=='?'){__8=(_M3){.t=37};}else if(__7=='~'){__8=(_M3){.t=38};}else if(__7=='#'){__8=(_M3){.t=39};}else if(__7=='('){__8=(_M3){.t=40};}else if(__7==')'){__8=(_M3){.t=41};}else if(__7=='{'){__8=(_M3){.t=42};}else if(__7=='}'){__8=(_M3){.t=43};}else if(__7=='['){__8=(_M3){.t=44};}else if(__7==']'){__8=(_M3){.t=45};}else if(__7=='@'){__8=(_M3){.t=46};}else if(__7=='$'){__8=(_M3){.t=47};}else if(__7=='&'){__8=(_M3){.t=52};}else if(__7=='|'){__8=(_M3){.t=53};}else if(__7=='='){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=49};__6+=1;}else{__8=(_M3){.t=48};}}else if(__7=='!'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=51};__6+=1;}else{__8=(_M3){.t=50};}}else if(__7=='<'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=55};__6+=1;}else{__8=(_M3){.t=54};}}else if(__7=='>'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=57};__6+=1;}else{__8=(_M3){.t=56};}}else if(__7=='+'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=59};__6+=1;}else{__8=(_M3){.t=58};}}else if(__7=='-'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=61};__6+=1;}else{__8=(_M3){.t=60};}}else if(__7=='*'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=63};__6+=1;}else{__8=(_M3){.t=62};}}else if(__7=='/'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=65};__6+=1;}else{__8=(_M3){.t=64};}}else if(__7=='%'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_M3){.t=67};__6+=1;}else{__8=(_M3){.t=66};}}}ret_ll:if(__8.t==0){if((((__7=='_')||(__7=='.'))||(__7==':'))||isalnum(__7)){if(((__5.len)==0)&&isdigit(__7)){__4=(_R3){.t=7};}else if(((__4.t)==7)||((__4.t)==8)){if((__7=='.')&&((__4.t)==7)){__4=(_R3){.t=8};}else if((__7=='_')||isdigit(__7)){}else{_K3((&__1),__6-(__5.len),"invalid identifier name starting with a digit");}}if((((__4.t)!=7)&&((__4.t)!=8))||(__7!='_')){_Q3(__1,__6,(&__5),__7,__4);}}else{_K3((&__1),__6,"unexpected symbol %c",__7);}}else if(1){if((__5.len)>0){if(__8.t==3||__8.t==4){}else if(1){_M3 __9=_S3(__5.buf);if(__9.t==1){_P3 __A;if((__4.t)==7){(__A.kind)=(_M3){.t=5};}else if((__4.t)==8){(__A.kind)=(_M3){.t=6};if(((__5.buf)[((__5.len)-1)])=='.'){_K3((&__1),__6-1,"expected a value after the decimal point");}}else{(__A.kind)=(_M3){.t=2};}(__A.index)=(__6-(__5.len));(__A.value)=_H3((&__5));_W3((&__2),__A);}else if(1){_P3 __A=(_P3){.kind=__9,.index=__6-_N3(__9),};_W3((&__2),__A);}__5=_A3(8);((__5.buf)[(__5.len)])='\0';__4=(_R3){.t=0};}}if(__8.t==1){}else if(1){_P3 __9=(_P3){.kind=__8,};if(__8.t==3||__8.t==4){(__9.value)=_H3((&__5));(__9.index)=(__6-(__5.len));__5=_A3(8);((__5.buf)[(__5.len)])='\0';}else if(1){(__9.index)=((__6-_N3(__8))+1);}_W3((&__2),__9);}}l:}ret_l:_P3 __6;if((__2.len)>0){__6=((__2.buf)[((__2.len)-1)]);if(__6.kind.t==2){(__6.index)=((__6.index)+((__6.value).len));}else if(1){(__6.index)=((__6.index)+_N3(__6.kind));}}else{(__6.index)=0;}(__6.kind)=(_M3){.t=1};_W3((&__2),__6);return __2;};void _X3(_U3 __1){printf("Tokens:\n");for(int __2=0;__2<(__1.len);__2+=1){_M3 __3=((__1.buf)[__2]).kind;printf("  ");_33((_23){.t=0});printf("%s",_O3(__3));_43();if(__3.t==2||__3.t==3||__3.t==4||__3.t==5||__3.t==6){printf("(%s)",((__1.buf)[__2]).value);}printf("\n");}printf("\n");};_a3 _c3(int __2){return (_a3){.buf=malloc(sizeof(_Z3)*__2),.len=0,.cap=__2,};};_Y3 _b3(_Y3* this){_a3 __1=_c3(((*this).parts).len);(__1.len)=(((*this).parts).len);for(int __2=0;__2<(__1.len);__2+=1){((__1.buf)[__2])=((((*this).parts).buf)[__2]);}return (_Y3){.parts=__1,.index=(*this).index,};};_e3 _s3(int __5){return (_e3){.buf=malloc(sizeof(_d3)*__5),.len=0,.cap=__5,};};void _t3(_e3* this,_d3 __5){(((*this).buf)[((*this).len)])=__5;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_d3)*((*this).cap));}};_e3 _r3(_J3 __1,_U3 __2){int __3=0;_e3 __4=_s3(16);for(;;){if(((__2.buf)[__3]).kind.t==1){return __4;}_t3((&__4),_u3(__1,__2,(&__3)));if(((__2.buf)[__3]).kind.t==33){}else if(((__2.buf)[__3]).kind.t==1){return __4;}else if(1){_K3((&__1),((__2.buf)[__3]).index,"unexpected token after last expr");}__3+=1;}};_e3 _v3(_J3 __1,_U3 __2,int* __3,uint8_t __4){_e3 __5=_s3(4);for(;;){if(((((__2.buf)[(*__3)]).kind).t)==43){(*__3)+=1;return __5;}_d3 __6;if(__4){__6=_w3(__1,__2,__3,0,0);}else{__6=_u3(__1,__2,__3);}_t3((&__5),__6);if(((__2.buf)[(*__3)]).kind.t==33){}else if(((__2.buf)[(*__3)]).kind.t==43){(*__3)+=1;return __5;}else if(1){_K3((&__1),((__2.buf)[(*__3)]).index,"unexpected token after last expr");}(*__3)+=1;}};_e3 _x3(_J3 __1,_U3 __2,int* __3,uint8_t __4){_e3 __5=_s3(4);for(;;){if(((((__2.buf)[(*__3)]).kind).t)==41){(*__3)+=1;return __5;}_d3 __6;if(__4){__6=_w3(__1,__2,__3,0,0);}else{__6=_u3(__1,__2,__3);}_t3((&__5),__6);if(((__2.buf)[(*__3)]).kind.t==35){}else if(((__2.buf)[(*__3)]).kind.t==41){(*__3)+=1;return __5;}else if(1){_K3((&__1),((__2.buf)[(*__3)]).index,"unexpected token after last expr");}(*__3)+=1;}};_P3 _y3(_J3 __1,_U3 __2,int* __3,_M3 __4,uint8_t* __5){_P3 __6=(__2.buf)[(*__3)];if(__6.kind.t==__4.t){}else if(1){_K3((&__1),__6.index,__5);}(*__3)+=1;return __6;};uint8_t _z3(_U3 __1,int* __2,_M3 __3){if(((__1.buf)[(*__2)]).kind.t==__3.t){(*__2)+=1;return 1;}else if(1){return 0;}};_d3* _34(_d3 __B){_d3* __C=malloc(sizeof(_d3));(*__C)=__B;return __C;};_m3 _44(int __C){return (_m3){.buf=malloc(sizeof(_h3)*__C),.len=0,.cap=__C,};};void _54(_m3* this,_h3 __C){(((*this).buf)[((*this).len)])=__C;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_h3)*((*this).cap));}};_o3 _64(int __9){return (_o3){.buf=malloc(sizeof(_53)*__9),.len=0,.cap=__9,};};void _74(_o3* this,_53 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_53)*((*this).cap));}};_53 _84(_p3* this){if((*this).t==0){_53 __9=(*this).u.Some.thing;return __9;}else if((*this).t==1){_I3("unwrap failed");}};_d3 _w3(_J3 __1,_U3 __2,int* __3,int __4,uint8_t __5){_d3 __6;(__6.kind)=(_j3){.t=0};(__6.label)=_04(__1,__2,__3,1);(__6.tags)=_14(__1,__2,__3);_P3 __7=(__2.buf)[(*__3)];if(__7.kind.t==60||__7.kind.t==50){}else if(__7.kind.t==40){(*__3)+=1;__6=_w3(__1,__2,__3,0,0);_y3(__1,__2,__3,(_M3){.t=41},"expected ')' after '('");}else if(__7.kind.t==2){_Y3 __8=_24(__1,__2,__3);if(_z3(__2,__3,(_M3){.t=40})){_e3 __9=_s3(4);for(;;){if(_z3(__2,__3,(_M3){.t=41})){goto ret_ll;}_t3((&__9),_w3(__1,__2,__3,0,0));if(_z3(__2,__3,(_M3){.t=35})==0){_y3(__1,__2,__3,(_M3){.t=41},"expected ')' after last argument");goto ret_ll;}ll:}ret_ll:(__6.kind)=(_j3){.t=14,.u={.ProcCall={.path=__8,.args=__9,}}};goto ret_l;}if(_z3(__2,__3,(_M3){.t=2})){_53 __9=((__2.buf)[((*__3)-1)]).value;_l3 __A=(_l3){.t=1};if(_z3(__2,__3,(_M3){.t=48})){__A=(_l3){.t=0,.u={.Some={.thing=_34(_w3(__1,__2,__3,0,0)),}}};}(__6.kind)=(_j3){.t=13,.u={.LocalVarDef={._type=(_k3){.t=0,.u={.Some={.thing=__8,}}},.name=__9,.value=__A,}}};goto ret_l;}(__6.kind)=(_j3){.t=15,.u={.VarUse={.path=__8,}}};}else if(__7.kind.t==17){(*__3)+=1;_53 __8=_y3(__1,__2,__3,(_M3){.t=2},"expected identifier after 'var' keyword").value;_l3 __9=(_l3){.t=1};if(_z3(__2,__3,(_M3){.t=48})){__9=(_l3){.t=0,.u={.Some={.thing=_34(_w3(__1,__2,__3,0,0)),}}};}(__6.kind)=(_j3){.t=13,.u={.LocalVarDef={._type=(_k3){.t=1},.name=__8,.value=__9,}}};}else if(__7.kind.t==3){(__6.kind)=(_j3){.t=16,.u={.StringLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==4){(__6.kind)=(_j3){.t=17,.u={.CharLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==5){(__6.kind)=(_j3){.t=18,.u={.IntLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==6){(__6.kind)=(_j3){.t=19,.u={.FloatLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==7){(__6.kind)=(_j3){.t=20};(*__3)+=1;}else if(__7.kind.t==8){(*__3)+=1;(__6.kind)=(_j3){.t=6,.u={.TypeField={.name=_y3(__1,__2,__3,(_M3){.t=2},"expected field name after 'type'").value,}}};}else if(__7.kind.t==42){(*__3)+=1;_e3 __8=_v3(__1,__2,__3,1);(__6.kind)=(_j3){.t=21,.u={.LocalBlock={.body=__8,}}};}else if(__7.kind.t==19){(*__3)+=1;_d3* __8=_34(_w3(__1,__2,__3,0,0));_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'if' condition");_e3 __9=_v3(__1,__2,__3,1);_h3 __A=(_h3){.cond=__8,.body=__9,};_m3 __B=_44(1);while(_z3(__2,__3,(_M3){.t=20})){__8=_34(_w3(__1,__2,__3,0,0));_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'elif' condition");__9=_v3(__1,__2,__3,1);_54((&__B),(_h3){.cond=__8,.body=__9,});}_n3 __C=(_n3){.t=1};if(_z3(__2,__3,(_M3){.t=21})){_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'else' keyword");_e3 __D=_v3(__1,__2,__3,1);__C=(_n3){.t=0,.u={.Some={.thing=(_i3){.body=__9,},}}};}(__6.kind)=(_j3){.t=22,.u={.If={._if=__A,._elif=__B,._else=__C,}}};}else if(__7.kind.t==22){(*__3)+=1;_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'loop' keyword");_e3 __8=_v3(__1,__2,__3,1);(__6.kind)=(_j3){.t=23,.u={.Loop={.body=__8,}}};}else if(__7.kind.t==23){(*__3)+=1;_d3* __8=_34(_w3(__1,__2,__3,0,0));_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'while' condition");_e3 __9=_v3(__1,__2,__3,1);(__6.kind)=(_j3){.t=24,.u={.While={.cond=__8,.body=__9,}}};}else if(__7.kind.t==24){(*__3)+=1;_53 __8=_y3(__1,__2,__3,(_M3){.t=2},"expected 'for' iterator name").value;_l3 __9=(_l3){.t=1};if(_z3(__2,__3,(_M3){.t=48})){__9=(_l3){.t=0,.u={.Some={.thing=_34(_w3(__1,__2,__3,0,0)),}}};}_y3(__1,__2,__3,(_M3){.t=35},"expected a ',' after 'for' iterator name");_d3* __A=_34(_w3(__1,__2,__3,0,0));_y3(__1,__2,__3,(_M3){.t=35},"expected a ',' after 'for' condition");_d3* __B=_34(_w3(__1,__2,__3,0,0));_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'for' next");_e3 __C=_v3(__1,__2,__3,1);(__6.kind)=(_j3){.t=25,.u={.For={.iter=__8,.iter_value=__9,.cond=__A,._next=__B,.body=__C,}}};}else if(__7.kind.t==25){(*__3)+=1;_o3 __8=_64(2);while(_z3(__2,__3,(_M3){.t=2})){_74((&__8),((__2.buf)[((*__3)-1)]).value);_z3(__2,__3,(_M3){.t=35});}if((__8.len)==0){_K3((&__1),((__2.buf)[((*__3)-1)]).index,"expected sex");}_y3(__1,__2,__3,(_M3){.t=26},"expected 'in' keyword after 'each' variables");_d3* __9=_34(_w3(__1,__2,__3,0,0));_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'each' iterator");_e3 __A=_v3(__1,__2,__3,1);(__6.kind)=(_j3){.t=26,.u={.Each={.vars=__8,.iter=__9,.body=__A,}}};}else if(__7.kind.t==27){(*__3)+=1;_d3* __8=_34(_w3(__1,__2,__3,0,0));_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'match' value");_e3 __9=_s3(4);for(;;){if(_z3(__2,__3,(_M3){.t=43})){(__6.kind)=(_j3){.t=27,.u={.Match={.value=__8,.cases=__9,}}};goto ret_l;}_e3 __A=_s3(2);for(;;){if(_z3(__2,__3,(_M3){.t=42})){goto b;}_t3((&__A),_w3(__1,__2,__3,0,0));if(_z3(__2,__3,(_M3){.t=35})==0){goto ret_llll;}llll:}ret_llll:_y3(__1,__2,__3,(_M3){.t=42},"expected '{' after 'match' case value");while(0){b:}ret_b:_e3 __B=_v3(__1,__2,__3,1);_t3((&__9),(_d3){.kind=(_j3){.t=28,.u={.Case={.values=__A,.body=__B,}}},.tags=(_q3){.len=0,},.label=(_p3){.t=1},});if(_z3(__2,__3,(_M3){.t=35})==0){goto ret_lll;}lll:}ret_lll:_y3(__1,__2,__3,(_M3){.t=43},"expected '}' after 'match' body");(__6.kind)=(_j3){.t=27,.u={.Match={.value=__8,.cases=__9,}}};}else if(__7.kind.t==28){(*__3)+=1;_p3 __8=_04(__1,__2,__3,1);_d3 __9=_w3(__1,__2,__3,0,1);if(__9.kind.t==0){(__6.kind)=(_j3){.t=29,.u={.Ret={.label=__8,.value=(_l3){.t=1},}}};}else if(1){(__6.kind)=(_j3){.t=29,.u={.Ret={.label=__8,.value=(_l3){.t=0,.u={.Some={.thing=_34(__9),}}},}}};}}else if(__7.kind.t==29){(*__3)+=1;_p3 __8=_04(__1,__2,__3,0);(__6.kind)=(_j3){.t=30,.u={.Next={.label=_84((&__8)),}}};}else if(__7.kind.t==30){(*__3)+=1;_p3 __8=_04(__1,__2,__3,0);(__6.kind)=(_j3){.t=31,.u={.Jump={.label=_84((&__8)),}}};}else if(__7.kind.t==31){(*__3)+=1;_p3 __8=_04(__1,__2,__3,1);_d3* __9=_34(_w3(__1,__2,__3,0,0));(__6.kind)=(_j3){.t=32,.u={.Try={.label=__8,.value=__9,}}};}else if(1){if(__5){(__6.kind)=(_j3){.t=0};return __6;}else{_K3((&__1),__7.index,"expected a local expression");}}ret_l:for(;;){int __8=0;__7=((__2.buf)[(*__3)]);if(__7.kind.t==37){(*__3)+=1;_d3 __9=_w3(__1,__2,__3,0,0);_y3(__1,__2,__3,(_M3){.t=35},"expected ',' after first conditional value");_d3 __A=_w3(__1,__2,__3,0,0);__6=(_d3){.kind=(_j3){.t=35,.u={.TernaryOp={.cond=_34(__6),.valueA=_34(__9),.valueB=_34(__A),}}},.tags=(_q3){.len=0,},.label=(_p3){.t=1},};goto ret_o;}else if(__7.kind.t==48||__7.kind.t==59||__7.kind.t==61||__7.kind.t==63||__7.kind.t==65||__7.kind.t==67){__8=7;}else if(__7.kind.t==32){__8=6;}else if(__7.kind.t==56){if(__4==-1){return __6;}__8=5;}else if(__7.kind.t==54||__7.kind.t==52||__7.kind.t==53||__7.kind.t==55||__7.kind.t==57||__7.kind.t==49||__7.kind.t==51){__8=5;}else if(__7.kind.t==58){__8=4;}else if(__7.kind.t==62||__7.kind.t==64||__7.kind.t==66){__8=3;}else if(__7.kind.t==60||__7.kind.t==50){if((((__7.kind).t)==60)&&(((__6.kind).t)!=0)){__8=4;goto ret_m;}if((__4==0)||(2<=__4)){(*__3)+=1;__6=(_d3){.kind=(_j3){.t=33,.u={.UnaryOp={.value=_34(_w3(__1,__2,__3,2,0)),.kind=__7.kind,}}},.tags=(_q3){.len=0,},.label=(_p3){.t=1},};goto o;}goto ret_o;}else if(__7.kind.t==46||__7.kind.t==47){__8=2;}else if(__7.kind.t==44){if(__4==1){goto ret_o;}(*__3)+=1;goto e;}else if(__7.kind.t==36){__8=1;}ret_m:if(__8==2){if((__4==0)||(__8<__4)){(*__3)+=1;__6=(_d3){.kind=(_j3){.t=33,.u={.UnaryOp={.value=_34(__6),.kind=__7.kind,}}},.tags=(_q3){.len=0,},.label=(_p3){.t=1},};goto o;}goto ret_o;}if((__8==0)||(((__4!=0)&&(__4!=6))&&(__8>=__4))){goto ret_o;}(*__3)+=1;while(0){e:}ret_e:(__6.kind)=(_j3){.t=34,.u={.BinaryOp={.lhs=_34(__6),.rhs=_34(_w3(__1,__2,__3,__8,0)),.kind=__7.kind,}}};if(__7.kind.t==44){_y3(__1,__2,__3,(_M3){.t=45},"expected ']' after '['");}else if(__7.kind.t==58){if(__6.kind.t==34){_d3* __9=__6.kind.u.BinaryOp.lhs;_d3* __A=__6.kind.u.BinaryOp.rhs;if((*__9).kind.t==16){_53 __B=(*__9).kind.u.StringLit.value;if((*__A).kind.t==16){_53 __C=(*__A).kind.u.StringLit.value;_93 __D=_83((&__B));_E3((&__D),__C);free(__C.buf);(__6.kind)=(_j3){.t=16,.u={.StringLit={.value=_H3((&__D)),}}};}}}}o:}ret_o:return __6;};_d3 _u3(_J3 __1,_U3 __2,int* __3){_d3 __4;(__4.label)=_04(__1,__2,__3,1);(__4.tags)=_14(__1,__2,__3);_P3 __5=(__2.buf)[(*__3)];if(__5.kind.t==9){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_y3(__1,__2,__3,(_M3){.t=40},"expected '(' after 'tag' path");_e3 __7=_94(__1,__2,__3);_e3 __8;if(_z3(__2,__3,(_M3){.t=42})){__8=_v3(__1,__2,__3,1);}else{(__8.len)=0;}(__4.kind)=(_j3){.t=1,.u={.TagDef={.path=__6,.args=__7,.body=__8,}}};}else if(__5.kind.t==42){(*__3)+=1;(__4.kind)=(_j3){.t=2,.u={.Block={.body=_v3(__1,__2,__3,0),}}};}else if(__5.kind.t==10){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_e3 __7;if(_z3(__2,__3,(_M3){.t=42})){__7=_v3(__1,__2,__3,0);}else{(__7.len)=0;}(__4.kind)=(_j3){.t=3,.u={.Mod={.path=__6,.body=__7,}}};}else if(__5.kind.t==11){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_k3 __7=(_k3){.t=1};if(_z3(__2,__3,(_M3){.t=32})){__7=(_k3){.t=0,.u={.Some={.thing=_24(__1,__2,__3),}}};}(__4.kind)=(_j3){.t=4,.u={.Use={.path=__6,.alias=__7,}}};}else if(__5.kind.t==12){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_y3(__1,__2,__3,(_M3){.t=40},"expected '(' after 'comp' path");_e3 __7=_94(__1,__2,__3);_e3 __8;if(_z3(__2,__3,(_M3){.t=42})){__8=_v3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_j3){.t=7,.u={.Comp={.path=__6,.fields=__7,.body=__8,}}};}else if(__5.kind.t==13){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_y3(__1,__2,__3,(_M3){.t=40},"expected '(' after 'enum' path");_e3 __7=_x3(__1,__2,__3,0);_e3 __8;if(_z3(__2,__3,(_M3){.t=42})){__8=_v3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_j3){.t=8,.u={.Sum={.path=__6,.opts=__7,.body=__8,}}};}else if(__5.kind.t==14){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_e3 __7;if(_z3(__2,__3,(_M3){.t=42})){__7=_v3(__1,__2,__3,0);}else{(__7.len)=0;}(__4.kind)=(_j3){.t=9,.u={.Trait={.path=__6,.body=__7,}}};}else if(__5.kind.t==15){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_k3 __7=(_k3){.t=1};if(_z3(__2,__3,(_M3){.t=24})){__7=(_k3){.t=0,.u={.Some={.thing=_24(__1,__2,__3),}}};}_e3 __8;if(_z3(__2,__3,(_M3){.t=42})){__8=_v3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_j3){.t=10,.u={.Def={._trait=__6,.target=__7,.body=__8,}}};}else if(__5.kind.t==16){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_y3(__1,__2,__3,(_M3){.t=40},"expected '(' after the procedure path");_e3 __7=_94(__1,__2,__3);_e3 __8;if(_z3(__2,__3,(_M3){.t=42})){__8=_v3(__1,__2,__3,1);}else{(__8.len)=0;}(__4.kind)=(_j3){.t=11,.u={.ProcDef={.ret_type=(_k3){.t=1},.path=__6,.args=__7,.body=__8,}}};}else if(__5.kind.t==17){(*__3)+=1;_Y3 __6=_24(__1,__2,__3);_l3 __7=(_l3){.t=1};if(_z3(__2,__3,(_M3){.t=48})){__7=(_l3){.t=0,.u={.Some={.thing=_34(_w3(__1,__2,__3,0,0)),}}};}(__4.kind)=(_j3){.t=12,.u={.VarDef={._type=(_k3){.t=1},.path=__6,.value=__7,}}};}else if(__5.kind.t==2){int __6=(*__3);_Y3 __7=_24(__1,__2,__3);if(((__2.buf)[(*__3)]).kind.t==2){_Y3 __8=_24(__1,__2,__3);__5=((__2.buf)[(*__3)]);if(__5.kind.t==40){(*__3)+=1;_e3 __9=_94(__1,__2,__3);_e3 __A;if(_z3(__2,__3,(_M3){.t=42})){__A=_v3(__1,__2,__3,1);}else{(__A.len)=0;}(__4.kind)=(_j3){.t=11,.u={.ProcDef={.ret_type=(_k3){.t=0,.u={.Some={.thing=__7,}}},.path=__8,.args=__9,.body=__A,}}};}else if(1){_l3 __9=(_l3){.t=1};if(_z3(__2,__3,(_M3){.t=48})){__9=(_l3){.t=0,.u={.Some={.thing=_34(_w3(__1,__2,__3,0,0)),}}};}(__4.kind)=(_j3){.t=12,.u={.VarDef={._type=(_k3){.t=0,.u={.Some={.thing=__7,}}},.path=__8,.value=__9,}}};}}else if(1){(*__3)=__6;__4=_w3(__1,__2,__3,0,1);if(((__4.kind).t)==0){_K3((&__1),__5.index,"expected a expression");}}}else if(1){__4=_w3(__1,__2,__3,0,1);if(((__4.kind).t)==0){_K3((&__1),__5.index,"expected a expression");}}return __4;};_p3 _04(_J3 __1,_U3 __2,int* __3,uint8_t __4){if(__4&&(_z3(__2,__3,(_M3){.t=38})==0)){return (_p3){.t=1};}else if(__4==0){_y3(__1,__2,__3,(_M3){.t=38},"expected a label");}return (_p3){.t=0,.u={.Some={.thing=_y3(__1,__2,__3,(_M3){.t=2},"expected identifier after label declaration").value,}}};};_q3 _A4(int __5){return (_q3){.buf=malloc(sizeof(_f3)*__5),.len=0,.cap=__5,};};void _B4(_q3* this,_f3 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_f3)*((*this).cap));}};_q3 _14(_J3 __1,_U3 __2,int* __3){_q3 __4=_A4(2);for(;;){if(((__2.buf)[(*__3)]).kind.t==39){int __5=((__2.buf)[(*__3)]).index;_P3 __6=(__2.buf)[((*__3)+=1)];if(__6.kind.t==2){_Y3 __7=_24(__1,__2,__3);_e3 __8=_s3(2);__6=((__2.buf)[(*__3)]);if(__6.kind.t==40){(*__3)+=1;for(;;){__6=((__2.buf)[(*__3)]);if(_z3(__2,__3,(_M3){.t=41})){goto ret_ll;}_t3((&__8),_w3(__1,__2,__3,0,0));if(_z3(__2,__3,(_M3){.t=35})){goto ll;}else{_y3(__1,__2,__3,(_M3){.t=41},"expected ')' after last tag arg");goto ret_ll;}ll:}ret_ll:}_B4((&__4),(_f3){.path=__7,.args=__8,.index=__5,});goto l;}else if(1){_K3((&__1),__6.index,"expected a path after tag declaration");}}else if(1){goto ret_l;}l:}ret_l:return __4;};_Y3 _24(_J3 __1,_U3 __2,int* __3){if(((__2.buf)[(*__3)]).kind.t==2){return _C4(__1,__2,__3);}else if(1){_K3((&__1),((__2.buf)[(*__3)]).index,"expected a path");}};void _D4(_a3* this,_Z3 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_Z3)*((*this).cap));}};_Y3 _C4(_J3 __1,_U3 __2,int* __3){int __4=(*__3);_a3 __5=_c3(2);uint8_t __6=0;for(;;){_P3 __7=(__2.buf)[(*__3)];if(__6){if(__7.kind.t==34){__6=0;}else if(1){goto ret_l;}}else{if(__7.kind.t==2){_Z3 __8=(_Z3){.name=__7.value,.gens=_s3(2),};if(((__2.buf)[((*__3)+1)]).kind.t==54){int __9=(*__3);(*__3)+=2;for(;;){if(((((__2.buf)[(*__3)]).kind).t)==56){goto ret_ll;}_d3 __A=_w3(__1,__2,__3,-1,1);if(((__A.kind).t)==0){(*__3)=__9;((__8.gens).len)=0;goto ret_ll;}_t3((&(__8.gens)),__A);if(_z3(__2,__3,(_M3){.t=35})==0){_y3(__1,__2,__3,(_M3){.t=56},"expected '>' after last generic");(*__3)-=1;goto ret_ll;}ll:}ret_ll:}_D4((&__5),__8);__6=1;}else if(1){if((__5.len)>0){_K3((&__1),__7.index,"expected identifier after ':'");}else{goto ret_l;}}}(*__3)+=1;l:}ret_l:return (_Y3){.parts=__5,.index=((__2.buf)[__4]).index,};};_e3 _94(_J3 __1,_U3 __2,int* __3){_e3 __4=_s3(2);for(;;){if(_z3(__2,__3,(_M3){.t=41})){return __4;}_d3 __5=(_d3){.kind=(_j3){.t=5,.u={.Field={._type=_24(__1,__2,__3),.name=_y3(__1,__2,__3,(_M3){.t=2},"expected field name in 'comp' definition").value,}}},.tags=(_q3){.len=0,},.label=(_p3){.t=1},};_t3((&__4),__5);if(_z3(__2,__3,(_M3){.t=35})==0){goto ret_l;}l:}ret_l:_y3(__1,__2,__3,(_M3){.t=41},"expected ')' after last field");return __4;};void _E4(_e3 __1){printf("Exprs:");_F4(__1,0);putchar('\n');};void _F4(_e3 __1,int __2){for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_G4(__2);_H4((__1.buf)[__3],__2);}putchar('\n');};void _I4(_e3 __1,int __2,uint8_t* __3,uint8_t __4){if((__1.len)>0){if(__4){printf(", ");}printf("%s = [",__3);_F4(__1,__2+1);_G4(__2);putchar(']');}};void _H4(_d3 __1,int __2){_33((_23){.t=1});printf("%s",_J4(__1.kind));_43();putchar('(');if(__1.label.t==0){_53 __3=__1.label.u.Some.thing;printf("label = %s, ",__3.buf);}_K4(__1.tags,__2);if(((__1.tags).len)!=0){printf(", ");}if(__1.kind.t==1){_Y3 __3=__1.kind.u.TagDef.path;_e3 __4=__1.kind.u.TagDef.args;_e3 __5=__1.kind.u.TagDef.body;printf("path = ");_L4(__3,__2);_I4(__4,__2,"args",1);_I4(__5,__2,"body",1);}else if(__1.kind.t==2){_e3 __3=__1.kind.u.Block.body;_I4(__3,__2,"body",0);}else if(__1.kind.t==3){_Y3 __3=__1.kind.u.Mod.path;_e3 __4=__1.kind.u.Mod.body;printf("path = ");_L4(__3,__2);_I4(__4,__2,"body",1);}else if(__1.kind.t==4){_Y3 __3=__1.kind.u.Use.path;_k3 __4=__1.kind.u.Use.alias;printf("path = ");_L4(__3,__2);if(__4.t==0){_Y3 __5=__4.u.Some.thing;printf(", alias = ");_L4(__5,__2);}}else if(__1.kind.t==5){_Y3 __3=__1.kind.u.Field._type;_53 __4=__1.kind.u.Field.name;printf("type = ");_L4(__3,__2);printf(", name = %s",__4.buf);}else if(__1.kind.t==6){_53 __3=__1.kind.u.TypeField.name;printf("name = %s",__3.buf);}else if(__1.kind.t==7){_Y3 __3=__1.kind.u.Comp.path;_e3 __4=__1.kind.u.Comp.fields;_e3 __5=__1.kind.u.Comp.body;printf("path = ");_L4(__3,__2);_I4(__4,__2,"fields",1);_I4(__5,__2,"body",1);}else if(__1.kind.t==8){_Y3 __3=__1.kind.u.Sum.path;_e3 __4=__1.kind.u.Sum.opts;_e3 __5=__1.kind.u.Sum.body;printf("path = ");_L4(__3,__2);_I4(__4,__2,"opts",1);_I4(__5,__2,"body",1);}else if(__1.kind.t==9){_Y3 __3=__1.kind.u.Trait.path;_e3 __4=__1.kind.u.Trait.body;printf("path = ");_L4(__3,__2);_I4(__4,__2,"body",1);}else if(__1.kind.t==10){_Y3 __3=__1.kind.u.Def._trait;_k3 __4=__1.kind.u.Def.target;_e3 __5=__1.kind.u.Def.body;printf("trait = ");_L4(__3,__2);if(__4.t==0){_Y3 __6=__4.u.Some.thing;printf(", target = ");_L4(__6,__2);}_I4(__5,__2,"body",1);}else if(__1.kind.t==11){_k3 __3=__1.kind.u.ProcDef.ret_type;_Y3 __4=__1.kind.u.ProcDef.path;_e3 __5=__1.kind.u.ProcDef.args;_e3 __6=__1.kind.u.ProcDef.body;if(__3.t==0){_Y3 __7=__3.u.Some.thing;printf("ret_type = ");_L4(__7,__2);printf(", ");}printf("path = ");_L4(__4,__2);_I4(__5,__2,"args",1);_I4(__6,__2,"body",1);}else if(__1.kind.t==12){_k3 __3=__1.kind.u.VarDef._type;_Y3 __4=__1.kind.u.VarDef.path;_l3 __5=__1.kind.u.VarDef.value;if(__3.t==0){_Y3 __6=__3.u.Some.thing;printf("type = ");_L4(__6,__2);printf(", ");}printf("path = ");_L4(__4,__2);if(__5.t==0){_d3* __6=__5.u.Some.thing;printf(", value = ");_H4((*__6),__2);}}else if(__1.kind.t==13){_k3 __3=__1.kind.u.LocalVarDef._type;_53 __4=__1.kind.u.LocalVarDef.name;_l3 __5=__1.kind.u.LocalVarDef.value;if(__3.t==0){_Y3 __6=__3.u.Some.thing;printf("type = ");_L4(__6,__2);printf(", ");}printf("name = %s",__4);if(__5.t==0){_d3* __6=__5.u.Some.thing;printf(", value = ");_H4((*__6),__2);}}else if(__1.kind.t==14){_Y3 __3=__1.kind.u.ProcCall.path;_e3 __4=__1.kind.u.ProcCall.args;printf("path = ");_L4(__3,__2);_I4(__4,__2,"args",1);}else if(__1.kind.t==15){_Y3 __3=__1.kind.u.VarUse.path;printf("path = ");_L4(__3,__2);}else if(__1.kind.t==16){_53 __3=__1.kind.u.StringLit.value;printf("%s",__3);}else if(__1.kind.t==17){_53 __3=__1.kind.u.CharLit.value;printf("%s",__3);}else if(__1.kind.t==18){_53 __3=__1.kind.u.IntLit.value;printf("%s",__3);}else if(__1.kind.t==19){_53 __3=__1.kind.u.FloatLit.value;printf("%s",__3);}else if(__1.kind.t==20){}else if(__1.kind.t==21){_e3 __3=__1.kind.u.LocalBlock.body;_I4(__3,__2,"body",0);}else if(__1.kind.t==22){_h3 __3=__1.kind.u.If._if;_m3 __4=__1.kind.u.If._elif;_n3 __5=__1.kind.u.If._else;printf("if = ");_M4(__3,__2);_N4(__4,__2);if(__5.t==0){_i3 __6=__5.u.Some.thing;printf(", else = ");_O4(__6,__2);}}else if(__1.kind.t==23){_e3 __3=__1.kind.u.Loop.body;_I4(__3,__2,"body",0);}else if(__1.kind.t==24){_d3* __3=__1.kind.u.While.cond;_e3 __4=__1.kind.u.While.body;_H4((*__3),__2);_I4(__4,__2,"body",1);}else if(__1.kind.t==25){_53 __3=__1.kind.u.For.iter;_l3 __4=__1.kind.u.For.iter_value;_d3* __5=__1.kind.u.For.cond;_d3* __6=__1.kind.u.For._next;_e3 __7=__1.kind.u.For.body;printf("iter = %s",__3);if(__4.t==0){_d3* __8=__4.u.Some.thing;printf(", iter_value = ");_H4((*__8),__2);}printf(", cond = ");_H4((*__5),__2);printf(", next = ");_H4((*__6),__2);_I4(__7,__2,"body",1);}else if(__1.kind.t==26){_o3 __3=__1.kind.u.Each.vars;_d3* __4=__1.kind.u.Each.iter;_e3 __5=__1.kind.u.Each.body;printf("vars = [");for(int __6=0;__6<(__3.len);__6+=1){if(__6!=0){printf(", ");}printf("%s",(__3.buf)[__6]);}printf("], iter = ");_H4((*__4),__2);_I4(__5,__2,"body",1);}else if(__1.kind.t==27){_d3* __3=__1.kind.u.Match.value;_e3 __4=__1.kind.u.Match.cases;printf("value = ");_H4((*__3),__2);_I4(__4,__2,"cases",1);}else if(__1.kind.t==28){_e3 __3=__1.kind.u.Case.values;_e3 __4=__1.kind.u.Case.body;_I4(__3,__2,"values",0);_I4(__4,__2,"body",1);}else if(__1.kind.t==29){_p3 __3=__1.kind.u.Ret.label;_l3 __4=__1.kind.u.Ret.value;if(__3.t==0){_53 __5=__3.u.Some.thing;printf("label = %s",__5.buf);}if(__4.t==0){_d3* __5=__4.u.Some.thing;printf(", value = ");_H4((*__5),__2);}}else if(__1.kind.t==30){_53 __3=__1.kind.u.Next.label;printf("label = %s, ",__3.buf);}else if(__1.kind.t==31){_53 __3=__1.kind.u.Jump.label;printf("label = %s, ",__3.buf);}else if(__1.kind.t==32){_p3 __3=__1.kind.u.Try.label;_d3* __4=__1.kind.u.Try.value;if(__3.t==0){_53 __5=__3.u.Some.thing;printf("label = %s, ",__5.buf);}printf("value = ");_H4((*__4),__2);}else if(__1.kind.t==33){_d3* __3=__1.kind.u.UnaryOp.value;_M3 __4=__1.kind.u.UnaryOp.kind;_H4((*__3),__2);}else if(__1.kind.t==34){_d3* __3=__1.kind.u.BinaryOp.lhs;_d3* __4=__1.kind.u.BinaryOp.rhs;_M3 __5=__1.kind.u.BinaryOp.kind;printf("lhs = ");_H4((*__3),__2);printf(", rhs = ");_H4((*__4),__2);}else if(__1.kind.t==35){_d3* __3=__1.kind.u.TernaryOp.cond;_d3* __4=__1.kind.u.TernaryOp.valueA;_d3* __5=__1.kind.u.TernaryOp.valueB;printf("cond = ");_H4((*__3),__2);printf(", valueA = ");_H4((*__4),__2);printf(", valueB = ");_H4((*__5),__2);}putchar(')');};void _L4(_Y3 __1,int __2){_33((_23){.t=1});printf("PATH");_43();putchar('(');for(int __3=0;__3<((__1.parts).len);__3+=1){_Z3 __4=((__1.parts).buf)[__3];if(__3!=0){printf(", ");}printf("pub = %i, scope = %i, name = %s",__4.pub,__4.scope,(__4.name).buf);if(((__4.gens).len)>0){printf(", gens = [");for(int __5=0;__5<((__4.gens).len);__5+=1){putchar('\n');_G4(__2+1);_H4(((__4.gens).buf)[__5],__2+1);}putchar('\n');_G4(__2);putchar(']');}}putchar(')');};void _K4(_q3 __1,int __2){if((__1.len)>0){printf("tags = [");for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_G4(__2+1);_33((_23){.t=1});printf("TAG");_43();printf("(path = ");_L4(((__1.buf)[__3]).path,__2+1);_I4(((__1.buf)[__3]).args,__2+1,"args",1);putchar(')');}putchar('\n');_G4(__2);putchar(']');}};void _M4(_h3 __1,int __2){_33((_23){.t=1});printf("IF_BRANCH");_43();printf("(cond = ");_H4((*(__1.cond)),__2);_I4(__1.body,__2,"body",1);};void _N4(_m3 __1,int __2){if((__1.len)>0){printf(", elif = [");for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_G4(__2+1);_M4((__1.buf)[__3],__2+1);}putchar('\n');_G4(__2);putchar(']');}};void _O4(_i3 __1,int __2){_33((_23){.t=1});printf("ELSE_BRANCH");_43();putchar('(');_I4(__1.body,__2,"body",0);putchar(')');};uint8_t* _J4(_j3 __1){if(__1.t==1){return "TAG_DEF";}else if(__1.t==2){return "BLOCK";}else if(__1.t==3){return "MOD";}else if(__1.t==4){return "USE";}else if(__1.t==5){return "FIELD";}else if(__1.t==6){return "TYPE_FIELD";}else if(__1.t==7){return "COMP";}else if(__1.t==8){return "ENUM";}else if(__1.t==9){return "TRAIT";}else if(__1.t==10){return "DEF";}else if(__1.t==11){return "PROC_DEF";}else if(__1.t==12){return "VAR_DEF";}else if(__1.t==13){return "LOCAL_VAR_DEF";}else if(__1.t==14){return "PROC_CALL";}else if(__1.t==15){return "VAR_USE";}else if(__1.t==16){return "STRING_LIT";}else if(__1.t==17){return "CHAR_LIT";}else if(__1.t==18){return "INT_LIT";}else if(__1.t==19){return "FLOAT_LIT";}else if(__1.t==20){return "THIS_LIT";}else if(__1.t==21){return "LOCAL_BLOCK";}else if(__1.t==22){return "IF";}else if(__1.t==23){return "LOOP";}else if(__1.t==24){return "WHILE";}else if(__1.t==25){return "FOR";}else if(__1.t==26){return "EACH";}else if(__1.t==27){return "MATCH";}else if(__1.t==28){return "CASE";}else if(__1.t==29){return "RET";}else if(__1.t==30){return "NEXT";}else if(__1.t==31){return "JUMP";}else if(__1.t==32){return "TRY";}else if(__1.t==33){return "UNARY_OP";}else if(__1.t==34){return "BINARY_OP";}else if(__1.t==35){return "TERNARY_OP";}};void _G4(int __1){for(int __2=0;__2<=__1;__2+=1){printf("  ");}};_T4 _W4(int __1){return (_T4){.buf=malloc(sizeof(_S4)*__1),.len=0,.cap=__1,};};_U4 _X4(int __1){return (_U4){.buf=malloc(sizeof(_Q4)*__1),.len=0,.cap=__1,};};void _V4(){_l1=1;_n1=0;_o1=_W4(4);_p1=_X4(4);_q1=_c3(4);_r1=_64(8);};void _Y4(_J3 __1,_e3 __2){_l1+=1;for(int __3=0;__3<(__2.len);__3+=1){_Z4(__1,(&((__2.buf)[__3])));}_l1-=1;};void _d4(_a3* this,_a3 __9){if((__9.len)==0){return;}int __A=(*this).len;((*this).len)+=(__9.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_Z3)*((*this).cap));}memcpy(((*this).buf)+__A,__9.buf,sizeof(_Z3)*(__9.len));};void _e4(_a3* this,_a3 __A){if((__A.len)==0){return;}int __B=(*this).len;((*this).len)+=(__A.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_Z3)*((*this).cap));}memmove(((*this).buf)+(__A.len),(*this).buf,sizeof(_Z3)*__B);memcpy((*this).buf,__A.buf,sizeof(_Z3)*(__A.len));};void _f4(_U4* this,_Q4 __A){(((*this).buf)[((*this).len)])=__A;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_Q4)*((*this).cap));}};void _Z4(_J3 __1,_d3* __2){_a4 __3=(_a4){.t=1};_a4 __4=(_a4){.t=1};for(int __5=0;__5<(((*__2).tags).len);__5+=1){_f3 __6=(((*__2).tags).buf)[__5];if(_b4(__6.path,"pub")){if((__3.t)!=1){_K3((&__1),__6.index,"only one #pub is allowed per path");}__3=(_a4){.t=0,.u={.Some={.thing=__6,}}};}else if(_b4(__6.path,"bind")){if((__4.t)!=1){_K3((&__1),__6.index,"only one #bind is allowed per path");}__4=(_a4){.t=0,.u={.Some={.thing=__6,}}};}}_Y3* __5;if((*__2).kind.t==2){_e3 __6=(*__2).kind.u.Block.body;_Y4(__1,__6);return;}else if((*__2).kind.t==3){_Y3* __6=&((*__2).kind.u.Mod.path);_e3 __7=(*__2).kind.u.Mod.body;_c4(__3,(*__6),_l1);_a3 __8=_b3((&(_Y3){.parts=_q1,})).parts;_d4((&_q1),(*__6).parts);_Y3 __9=_b3(__6);_e4((&((*__6).parts)),__8);_Y4(__1,__7);(_q1.len)=(__8.len);if((__8.len)>0){_f4((&_p1),(_Q4){.is_mod=1,.path=_b3(__6),.alias=__9,});}__5=__6;}else if((*__2).kind.t==4){_Y3 __6=(*__2).kind.u.Use.path;_k3 __7=(*__2).kind.u.Use.alias;_Y3 __8;if(__7.t==0){_Y3 __9=__7.u.Some.thing;__8=__9;}else if(1){__8=(_Y3){.parts=_c3(1),.index=__6.index,};_D4((&(__8.parts)),((__6.parts).buf)[(((__6.parts).len)-1)]);}if(_g4(__6,__8,0)==0){_f4((&_p1),(_Q4){.is_mod=0,.path=_b3((&__6)),.alias=_b3((&__8)),});}return;}else if((*__2).kind.t==7){_Y3* __6=&((*__2).kind.u.Comp.path);_e3 __7=(*__2).kind.u.Comp.fields;_e3 __8=(*__2).kind.u.Comp.body;_c4(__3,(*__6),_l1);_a3 __9=_b3((&(_Y3){.parts=_q1,})).parts;_d4((&_q1),(*__6).parts);_Y3 __A=_b3(__6);_e4((&((*__6).parts)),__9);_Y4(__1,__7);_Y4(__1,__8);(_q1.len)=(__9.len);if((__9.len)>0){_f4((&_p1),(_Q4){.is_mod=0,.path=_b3(__6),.alias=__A,});}__5=__6;}else if((*__2).kind.t==8){_Y3* __6=&((*__2).kind.u.Sum.path);_e3 __7=(*__2).kind.u.Sum.opts;_e3 __8=(*__2).kind.u.Sum.body;_c4(__3,(*__6),_l1);_a3 __9=_b3((&(_Y3){.parts=_q1,})).parts;_d4((&_q1),(*__6).parts);_Y3 __A=_b3(__6);_e4((&((*__6).parts)),__9);_Y4(__1,__7);_Y4(__1,__8);(_q1.len)=(__9.len);if((__9.len)>0){_f4((&_p1),(_Q4){.is_mod=0,.path=_b3(__6),.alias=__A,});}__5=__6;}else if((*__2).kind.t==10){_Y3 __6=(*__2).kind.u.Def._trait;_e3 __7=(*__2).kind.u.Def.body;_c4(__3,__6,_l1);int __8=_q1.len;_d4((&_q1),__6.parts);_Y4(__1,__7);(_q1.len)=__8;}else if((*__2).kind.t==11){_Y3* __6=&((*__2).kind.u.ProcDef.path);_c4(__3,(*__6),_l1);_Y3 __7=_b3(__6);_e4((&((*__6).parts)),_q1);if((_q1.len)>0){_f4((&_p1),(_Q4){.is_mod=0,.path=_b3(__6),.alias=__7,});}__5=__6;}else if((*__2).kind.t==12){_k3 __6=(*__2).kind.u.VarDef._type;_Y3* __7=&((*__2).kind.u.VarDef.path);_c4(__3,(*__7),_l1);_Y3 __8=_b3(__7);_e4((&((*__7).parts)),_q1);if((_q1.len)>0){_f4((&_p1),(_Q4){.is_mod=0,.path=_b3(__7),.alias=__8,});}__5=__7;}else if(1){return;}if(__3.t==0){_f3 __6=__3.u.Some.thing;if((*__2).kind.t==3||(*__2).kind.t==7||(*__2).kind.t==8||(*__2).kind.t==10||(*__2).kind.t==11||(*__2).kind.t==12){}else if(1){_K3((&__1),__6.index,"#pub cannot be applied to this expr");}}uint8_t __6=_h4((*__5));if(__4.t==0){_f3 __7=__4.u.Some.thing;if((*__2).kind.t==7||(*__2).kind.t==8||(*__2).kind.t==11||(*__2).kind.t==12){if(__6){_K3((&__1),__7.index,"#bind cannot be applied to generic expressions");}}else if(1){_K3((&__1),__7.index,"#bind cannot be applied to this expression");}}if((*__2).kind.t==7||(*__2).kind.t==8||(*__2).kind.t==11||(*__2).kind.t==12){if((((*__5).parts).len)<=(_o1.len)){if(_i4((*__5))){_K3((&__1),(*__5).index,"path already defined");}}if(__4.t==0){_f3 __7=__4.u.Some.thing;if((*__2).kind.t==7||(*__2).kind.t==8||(*__2).kind.t==11||(*__2).kind.t==12){if(((__7.args).len)!=1){_K3((&__1),__7.index,"#bind requires one argument of type string");}if((((__7.args).buf)[0]).kind.t==16){_53 __8=(((__7.args).buf)[0]).kind.u.StringLit.value;_j4((*__2),(*__5),__8);}else if(1){_K3((&__1),__7.index,"#bind requires one argument of type string");}}}else if(__4.t==1){_k4((*__2),(*__5),0);}}};void _l4(_J3 __1,_e3 __2,uint8_t __3){_m1+=1;int __4=_r1.len;for(int __5=0;__5<(__2.len);__5+=1){_m4(__1,(&((__2.buf)[__5])));}_m1-=1;if(__3){(_r1.len)=__4;}};void _m4(_J3 __1,_d3* __2){if((*__2).kind.t==2){_e3 __3=(*__2).kind.u.Block.body;_l4(__1,__3,0);}else if((*__2).kind.t==3){_Y3 __3=(*__2).kind.u.Mod.path;_e3 __4=(*__2).kind.u.Mod.body;(_q1.len)=0;_d4((&_q1),__3.parts);_l4(__1,__4,0);(_q1.len)=0;}else if((*__2).kind.t==4){_Y3* __3=&((*__2).kind.u.Use.path);_n4(__3);_o4(__1,(*__3),(_R4){.t=3});}else if((*__2).kind.t==5){_Y3* __3=&((*__2).kind.u.Field._type);_53 __4=(*__2).kind.u.Field.name;_n4(__3);_o4(__1,(*__3),(_R4){.t=1});}else if((*__2).kind.t==7){_Y3 __3=(*__2).kind.u.Comp.path;_e3 __4=(*__2).kind.u.Comp.fields;_e3 __5=(*__2).kind.u.Comp.body;_l4(__1,__4,0);(_q1.len)=0;_d4((&_q1),__3.parts);_l4(__1,__5,0);(_q1.len)=0;}else if((*__2).kind.t==8){_Y3 __3=(*__2).kind.u.Sum.path;_e3 __4=(*__2).kind.u.Sum.opts;_e3 __5=(*__2).kind.u.Sum.body;(_q1.len)=0;_d4((&_q1),__3.parts);_l4(__1,__5,0);(_q1.len)=0;}else if((*__2).kind.t==9){_Y3 __3=(*__2).kind.u.Trait.path;_e3 __4=(*__2).kind.u.Trait.body;_l4(__1,__4,0);}else if((*__2).kind.t==10){_Y3* __3=&((*__2).kind.u.Def._trait);_k3* __4=&((*__2).kind.u.Def.target);_e3 __5=(*__2).kind.u.Def.body;_n4(__3);_o4(__1,(*__3),(_R4){.t=1});if((*__4).t==0){_Y3* __6=&((*__4).u.Some.thing);_n4(__6);_o4(__1,(*__6),(_R4){.t=1});}_l4(__1,__5,0);}else if((*__2).kind.t==11){_k3 __3=(*__2).kind.u.ProcDef.ret_type;_Y3 __4=(*__2).kind.u.ProcDef.path;_e3 __5=(*__2).kind.u.ProcDef.args;_e3 __6=(*__2).kind.u.ProcDef.body;if(__3.t==0){_Y3* __7=&(__3.u.Some.thing);_n4(__7);_o4(__1,(*__7),(_R4){.t=1});}_l4(__1,__5,0);_l4(__1,__6,1);}else if((*__2).kind.t==12){_k3* __3=&((*__2).kind.u.VarDef._type);_Y3 __4=(*__2).kind.u.VarDef.path;_l3* __5=&((*__2).kind.u.VarDef.value);if((*__3).t==0){_Y3* __6=&((*__3).u.Some.thing);_n4(__6);_o4(__1,(*__6),(_R4){.t=1});}if((*__5).t==0){_d3* __6=(*__5).u.Some.thing;_m4(__1,__6);}}else if((*__2).kind.t==13){_k3* __3=&((*__2).kind.u.LocalVarDef._type);_53 __4=(*__2).kind.u.LocalVarDef.name;_l3* __5=&((*__2).kind.u.LocalVarDef.value);if((*__3).t==0){_Y3* __6=&((*__3).u.Some.thing);_n4(__6);_o4(__1,(*__6),(_R4){.t=1});}_74((&_r1),__4);if((*__5).t==0){_d3* __6=(*__5).u.Some.thing;_m4(__1,__6);}}else if((*__2).kind.t==14){_Y3* __3=&((*__2).kind.u.ProcCall.path);_e3 __4=(*__2).kind.u.ProcCall.args;_n4(__3);_o4(__1,(*__3),(_R4){.t=2});_l4(__1,__4,0);}else if((*__2).kind.t==15){_Y3* __3=&((*__2).kind.u.VarUse.path);_n4(__3);_o4(__1,(*__3),(_R4){.t=0});}else if((*__2).kind.t==21){_e3 __3=(*__2).kind.u.LocalBlock.body;_l4(__1,__3,1);}else if((*__2).kind.t==22){_h3 __3=(*__2).kind.u.If._if;_m3 __4=(*__2).kind.u.If._elif;_n3 __5=(*__2).kind.u.If._else;_m4(__1,__3.cond);_l4(__1,__3.body,1);for(int __6=0;__6<(__4.len);__6+=1){_m4(__1,((__4.buf)[__6]).cond);_l4(__1,((__4.buf)[__6]).body,1);}if(__5.t==0){_i3 __6=__5.u.Some.thing;_l4(__1,__6.body,1);}}else if((*__2).kind.t==23){_e3 __3=(*__2).kind.u.Loop.body;_l4(__1,__3,1);}else if((*__2).kind.t==24){_d3* __3=(*__2).kind.u.While.cond;_e3 __4=(*__2).kind.u.While.body;_m4(__1,__3);_l4(__1,__4,1);}else if((*__2).kind.t==25){_53 __3=(*__2).kind.u.For.iter;_l3 __4=(*__2).kind.u.For.iter_value;_d3* __5=(*__2).kind.u.For.cond;_d3* __6=(*__2).kind.u.For._next;_e3 __7=(*__2).kind.u.For.body;int __8=_r1.len;_74((&_r1),__3);if(__4.t==0){_d3* __9=__4.u.Some.thing;_m4(__1,__9);}_m4(__1,__5);_m4(__1,__6);_l4(__1,__7,0);(_r1.len)=__8;}else if((*__2).kind.t==26){_o3 __3=(*__2).kind.u.Each.vars;_d3* __4=(*__2).kind.u.Each.iter;_e3 __5=(*__2).kind.u.Each.body;_m4(__1,__4);_l4(__1,__5,1);}else if((*__2).kind.t==27){_d3* __3=(*__2).kind.u.Match.value;_e3 __4=(*__2).kind.u.Match.cases;_m4(__1,__3);_l4(__1,__4,0);}else if((*__2).kind.t==28){_e3 __3=(*__2).kind.u.Case.values;_e3 __4=(*__2).kind.u.Case.body;_l4(__1,__4,1);}else if((*__2).kind.t==29){_p3 __3=(*__2).kind.u.Ret.label;_l3 __4=(*__2).kind.u.Ret.value;if(__4.t==0){_d3* __5=__4.u.Some.thing;_m4(__1,__5);}}else if((*__2).kind.t==32){_p3 __3=(*__2).kind.u.Try.label;_d3* __4=(*__2).kind.u.Try.value;_m4(__1,__4);}else if((*__2).kind.t==33){_d3* __3=(*__2).kind.u.UnaryOp.value;_M3 __4=(*__2).kind.u.UnaryOp.kind;_m4(__1,__3);}else if((*__2).kind.t==34){_d3* __3=(*__2).kind.u.BinaryOp.lhs;_d3* __4=(*__2).kind.u.BinaryOp.rhs;_M3 __5=(*__2).kind.u.BinaryOp.kind;_m4(__1,__3);_m4(__1,__4);}else if((*__2).kind.t==35){_d3* __3=(*__2).kind.u.TernaryOp.cond;_d3* __4=(*__2).kind.u.TernaryOp.valueA;_d3* __5=(*__2).kind.u.TernaryOp.valueB;_m4(__1,__3);_m4(__1,__4);_m4(__1,__5);}};uint8_t _i4(_Y3 __1){if(((__1.parts).len)<=(_o1.len)){_S4 __2=(_o1.buf)[(((__1.parts).len)-1)];for(int __3=0;__3<(__2.len);__3+=1){if(_g4(__1,((__2.buf)[__3]).path,0)){return 1;}}}return 0;};uint8_t _h4(_Y3 __1){for(int __2=0;__2<((__1.parts).len);__2+=1){if((((((__1.parts).buf)[__2]).gens).len)>0){return 1;}}return 0;};void _p4(_Y3 __1,int __2){for(int __3=0;__3<((__1.parts).len);__3+=1){((((__1.parts).buf)[__3]).scope)=__2;}};void _c4(_a4 __1,_Y3 __2,int __3){uint8_t __4=(__1.t)!=1;for(int __5=0;__5<((__2.parts).len);__5+=1){if(__4){((((__2.parts).buf)[__5]).pub)=1;}((((__2.parts).buf)[__5]).scope)=__3;}};_Z3 _q4(_a3* this){_Z3 __4=((*this).buf)[0];((*this).len)-=1;memmove((*this).buf,((*this).buf)+1,sizeof(_Z3)*((*this).len));return __4;};void _n4(_Y3* __1){for(int __2=0;__2<(((*__1).parts).len);__2+=1){for(int __3=0;__3<((((((*__1).parts).buf)[__2]).gens).len);__3+=1){if((((((((*__1).parts).buf)[__2]).gens).buf)[__3]).kind.t==15){_Y3* __4=&((((((((*__1).parts).buf)[__2]).gens).buf)[__3]).kind.u.VarUse.path);_n4(__4);}}}for(;;){for(int __2=0;__2<(_p1.len);__2+=1){if(((_p1.buf)[__2]).is_mod){if((((*__1).parts).len)>=(((((_p1.buf)[__2]).alias).parts).len)){for(int __3=0;__3<(((((_p1.buf)[__2]).alias).parts).len);__3+=1){if(strcmp((((((((_p1.buf)[__2]).alias).parts).buf)[__3]).name).buf,(((((*__1).parts).buf)[__3]).name).buf)!=0){goto ll;}}for(int __3=0;__3<(((((_p1.buf)[__2]).alias).parts).len);__3+=1){_q4((&((*__1).parts)));}_e4((&((*__1).parts)),(((_p1.buf)[__2]).path).parts);goto l;}}else if(_g4((*__1),((_p1.buf)[__2]).alias,1)){(((*__1).parts).len)=0;_d4((&((*__1).parts)),(((_p1.buf)[__2]).path).parts);}ll:}ret_ll:return;l:}ret_l:};void _o4(_J3 __1,_Y3 __2,_R4 __3){if((((((__2.parts).len)==1)&&(((((__2.parts).buf)[0]).gens).len))==0)&&(((__3.t)==3)||((__3.t)==0))){for(int __4=0;__4<(_r1.len);__4+=1){if(strcmp(((((__2.parts).buf)[0]).name).buf,((_r1.buf)[__4]).buf)==0){return;}}}if(((__2.parts).len)<=(_o1.len)){_S4 __4=(_o1.buf)[(((__2.parts).len)-1)];for(int __5=0;__5<(__4.len);__5+=1){_Y3 __6=((__4.buf)[__5]).path;if(_g4(__2,__6,0)){if((__3.t)!=3){if((__3.t)==0){if((((((__4.buf)[__5]).expr).kind).t)!=12){_K3((&__1),__2.index,"expected a variable");}}else if((__3.t)==1){if(((((((__4.buf)[__5]).expr).kind).t)!=7)&&((((((__4.buf)[__5]).expr).kind).t)!=8)){_K3((&__1),__2.index,"expected a type");}}else if((__3.t)==2){if((((((__4.buf)[__5]).expr).kind).t)!=11){_K3((&__1),__2.index,"expected a subroutine");}}}uint8_t __7=((_q1.len)>0)&&(strcmp(((((__6.parts).buf)[0]).name).buf,(((_q1.buf)[0]).name).buf)==0);for(int __8=1;__5<((__2.parts).len);__5+=1){if((__5<(_q1.len))&&(strcmp(((((__6.parts).buf)[__5]).name).buf,(((_q1.buf)[__5]).name).buf)==0)){goto l;}if(__7){while(((((__6.parts).buf)[__5]).scope)==_m1){__5+=1;}__7=0;__5-=1;goto l;}if((((__6.parts).buf)[__5]).pub){goto l;}_K3((&__1),__2.index,"path is not public or in current scope");l:}ret_l:return;}}}_K3((&__1),__2.index,"path not defined");};void _r4(_T4* this,_S4 __4){(((*this).buf)[((*this).len)])=__4;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_S4)*((*this).cap));}};_S4 _s4(int __4){return (_S4){.buf=malloc(sizeof(_P4)*__4),.len=0,.cap=__4,};};void _u4(_S4* this,_P4 __6){(((*this).buf)[((*this).len)])=__6;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_P4)*((*this).cap));}};_53 _k4(_d3 __1,_Y3 __2,uint8_t __3){while(((__2.parts).len)>(_o1.len)){_r4((&_o1),_s4(16));}_93 __4=_t4(_n1+=1,0);_53 __5=_H3((&__4));_u4((&((_o1.buf)[(((__2.parts).len)-1)])),(_P4){.expr=__1,.path=__2,.name=__5,});return __5;};_93 _t4(int __1,uint8_t __2){_93 __3=_A3(4);_C3((&__3),'_');if(__2){_C3((&__3),'_');}while(__1>0){int __4=__1%62;if(__4<10){__4+=48;}else if(__4<36){__4+=55;}else{__4+=61;}_C3((&__3),__4);__1/=62;}return __3;};uint8_t _b4(_Y3 __1,uint8_t* __2){return (((__1.parts).len)==1)&&(strcmp(((((__1.parts).buf)[0]).name).buf,__2)==0);};uint8_t _g4(_Y3 __1,_Y3 __2,uint8_t __3){if(((__1.parts).len)!=((__2.parts).len)){return 0;}for(int __4=0;__4<((__1.parts).len);__4+=1){_Z3 __5=((__1.parts).buf)[__4];_Z3 __6=((__2.parts).buf)[__4];if(strcmp((__5.name).buf,(__6.name).buf)==0){if((__3==0)||_v4(__5.gens,__6.gens)){goto l;}}return 0;l:}ret_l:return 1;};uint8_t _v4(_e3 __1,_e3 __2){if((__1.len)!=(__2.len)){return 0;}for(int __3=0;__3<(__1.len);__3+=1){if(((__1.buf)[__3]).kind.t==15){_Y3 __4=((__1.buf)[__3]).kind.u.VarUse.path;if(((__2.buf)[__3]).kind.t==15){_Y3 __5=((__2.buf)[__3]).kind.u.VarUse.path;if(_g4(__4,__5,1)==0){return 0;}}else if(1){return 0;}}else if(1){return 0;}}return 1;};void _j4(_d3 __1,_Y3 __2,_53 __3){while(((__2.parts).len)>(_o1.len)){_r4((&_o1),_s4(16));}_u4((&((_o1.buf)[(((__2.parts).len)-1)])),(_P4){.expr=__1,.path=__2,.name=__3,});};_x4 _z4(int __3){return (_x4){.buf=malloc(sizeof(_w4)*__3),.len=0,.cap=__3,};};void _y4(_53 __1,_e3 __2){_s1=_64(4);_t1=_A3(256);_u1=_A3(256);_v1=_A3(512);_w1=_A3(1024);_x1=_A3(1024);_u=_z4(4);_05(0,__2,0,0,0);((_t1.buf)[(_t1.len)])='\0';((_u1.buf)[(_u1.len)])='\0';((_v1.buf)[(_v1.len)])='\0';((_w1.buf)[(_w1.len)])='\0';((_x1.buf)[(_x1.len)])='\0';FILE* __3=fopen(__1.buf,"w");for(int __4=0;__4<(_s1.len);__4+=1){fprintf(__3,"#include %c%s%c\n",34,((_s1.buf)[__4]).buf,34);}fprintf(__3,"%s",_t1.buf);fprintf(__3,"%s",_u1.buf);fprintf(__3,"%s",_v1.buf);fprintf(__3,"%s",_w1.buf);fprintf(__3,"%s",_x1.buf);fclose(__3);};void _05(_93* __1,_e3 __2,uint8_t __3,uint8_t __4,uint8_t __5){int __6=_r1.len;for(int __7=0;__7<(__2.len);__7+=1){uint8_t __8=(__7+1)==(__2.len);_15(__1,(__2.buf)[__7],__8,__3,0);if(__4&&(__8==0)){_C3(__1,',');}}if(__5){(_r1.len)=__6;}};_Y3 _55(_k3* this){if((*this).t==0){_Y3 __A=(*this).u.Some.thing;return __A;}else if((*this).t==1){_I3("unwrap failed");}};void _15(_93* __1,_d3 __2,uint8_t __3,uint8_t __4,int __5){for(int __6=0;__6<((__2.tags).len);__6+=1){if(_b4((((__2.tags).buf)[__6]).path,"os")){if(((((((__2.tags).buf)[__6]).args).buf)[0]).kind.t==16){_53 __7=((((((__2.tags).buf)[__6]).args).buf)[0]).kind.u.StringLit.value;
#if defined _WIN32
if(strcmp(__7.buf,"win")!=0){return;}
#elif defined __linux__
if(strcmp(__7.buf,"linux")!=0){return;}
#elif defined __APPLE__
if(strcmp(__7.buf,"mac")!=0){return;}
#endif
printf("");}}else if(_b4((((__2.tags).buf)[__6]).path,"req")){if(((((((__2.tags).buf)[__6]).args).buf)[0]).kind.t==16){_53 __7=((((((__2.tags).buf)[__6]).args).buf)[0]).kind.u.StringLit.value;_25(__7);}}else if(_b4((((__2.tags).buf)[__6]).path,"raw")){if(((((((__2.tags).buf)[__6]).args).buf)[0]).kind.t==16){_53 __7=((((((__2.tags).buf)[__6]).args).buf)[0]).kind.u.StringLit.value;_C3(__1,'\n');_E3(__1,__7);_C3(__1,'\n');}}else if(_b4((((__2.tags).buf)[__6]).path,"bind")){return;}}if(__2.label.t==0){_53 __6=__2.label.u.Some.thing;_E3(__1,__6);_C3(__1,':');}if(__2.kind.t==2){_e3 __6=__2.kind.u.Block.body;_05(__1,__6,0,0,0);}else if(__2.kind.t==3){_Y3 __6=__2.kind.u.Mod.path;_e3 __7=__2.kind.u.Mod.body;_05(__1,__7,0,0,0);}else if(__2.kind.t==5){_Y3 __6=__2.kind.u.Field._type;_53 __7=__2.kind.u.Field.name;_p3 __8=_35(__6,0);_E3(__1,_84((&__8)));_C3(__1,' ');if(__4){_E3(__1,__7);}else{if(strcmp(__7.buf,"this")==0){_F3(__1,"this");}else{_E3(__1,_45(__7));}}if(__4){_C3(__1,';');}else if(__3==0){_C3(__1,',');}}else if(__2.kind.t==7){_Y3 __6=__2.kind.u.Comp.path;_e3 __7=__2.kind.u.Comp.fields;_e3 __8=__2.kind.u.Comp.body;uint8_t __9=_h4(__6);if(((_u.len)==0)&&__9){return;}_p3 __A=_35(__6,__9);if(__9&&((__A.t)==1)){return;}_53 __B=_84((&__A));_F3((&_t1),"typedef struct ");_E3((&_t1),__B);_C3((&_t1),' ');_E3((&_t1),__B);_C3((&_t1),';');_93 __C=_A3(128);_F3((&__C),"typedef struct ");_E3((&__C),__B);_C3((&__C),'{');_05((&__C),__7,1,0,0);_C3((&__C),'}');_E3((&__C),__B);_C3((&__C),';');_E3((&_w1),_H3((&__C)));free(__C.buf);_05(__1,__8,1,0,1);}else if(__2.kind.t==8){_Y3 __6=__2.kind.u.Sum.path;_e3 __7=__2.kind.u.Sum.opts;_e3 __8=__2.kind.u.Sum.body;uint8_t __9=_h4(__6);if(((_u.len)==0)&&__9){return;}_p3 __A=_35(__6,__9);if(__9&&((__A.t)==1)){return;}_53 __B=_84((&__A));_F3((&_t1),"typedef struct ");_E3((&_t1),__B);_C3((&_t1),' ');_E3((&_t1),__B);_C3((&_t1),';');_93 __C=_A3(256);_05((&__C),__7,0,0,0);_F3((&__C),"typedef struct ");_E3((&__C),__B);_C3((&__C),'{');_F3((&__C),"int t;union{");for(int __D=0;__D<(__7.len);__D+=1){_Y3 __E;if(((__7.buf)[__D]).kind.t==7){_Y3 __F=((__7.buf)[__D]).kind.u.Comp.path;_e3 __G=((__7.buf)[__D]).kind.u.Comp.fields;_e3 __H=((__7.buf)[__D]).kind.u.Comp.body;__6=__F;}else if(((__7.buf)[__D]).kind.t==8){_Y3 __F=((__7.buf)[__D]).kind.u.Sum.path;_e3 __G=((__7.buf)[__D]).kind.u.Sum.opts;_e3 __H=((__7.buf)[__D]).kind.u.Sum.body;__6=__F;}else if(((__7.buf)[__D]).kind.t==15){_Y3 __F=((__7.buf)[__D]).kind.u.VarUse.path;__6=__F;}_p3 __F=_35(__6,0);_E3((&__C),_84((&__F)));_C3((&__C),' ');_E3((&__C),__B);_C3((&__C),';');}_F3((&__C),"}u;}");_E3((&__C),__B);_C3((&__C),';');_E3((&_w1),_H3((&__C)));free(__C.buf);_05(__1,__8,1,0,1);}else if(__2.kind.t==9){_Y3 __6=__2.kind.u.Trait.path;_e3 __7=__2.kind.u.Trait.body;}else if(__2.kind.t==10){_Y3 __6=__2.kind.u.Def._trait;_k3 __7=__2.kind.u.Def.target;_e3 __8=__2.kind.u.Def.body;_05(__1,__8,0,0,0);}else if(__2.kind.t==11){_k3 __6=__2.kind.u.ProcDef.ret_type;_Y3 __7=__2.kind.u.ProcDef.path;_e3 __8=__2.kind.u.ProcDef.args;_e3 __9=__2.kind.u.ProcDef.body;int __A=_r1.len;uint8_t __B=_h4(__7);if(((_u.len)==0)&&__B){return;}_p3 __C=_35(__7,__B);if(__B&&((__C.t)==1)){return;}_53 __D=_84((&__C));_93 __E=_A3(256);if(__6.t==0){_Y3 __F=__6.u.Some.thing;_p3 __G=_35(__F,0);_E3((&__E),_84((&__G)));_C3((&__E),' ');}else if(__6.t==1){_F3((&__E),"void ");}_E3((&__E),__D);_C3((&__E),'(');uint8_t __F=0;uint8_t __G=0;for(int __H=0;__H<((__2.tags).len);__H+=1){if(_b4((((__2.tags).buf)[__H]).path,"self")){__F=1;}else if(_b4((((__2.tags).buf)[__H]).path,"rest")){__G=1;_25(_73("stdarg.h"));}}if(__F){_e3 __H=_s3((__8.len)+1);memcpy((__H.buf)+1,__8.buf,sizeof(_d3)*(__8.len));(__H.len)=((__8.len)+1);_Y3 __I=(_Y3){.parts=_c3(2),};_e3 __J=_s3(1);((__7.parts).len)-=1;_t3((&__J),(_d3){.kind=(_j3){.t=15,.u={.VarUse={.path=__7,}}},});((__7.parts).len)+=1;(((__I.parts).buf)[0])=(_Z3){.name=_73("ptr"),.gens=__J,};((__I.parts).len)=1;((__H.buf)[0])=(_d3){.kind=(_j3){.t=5,.u={.Field={._type=__I,.name=_73("this"),}}},.tags=(_q3){.len=0,},.label=(_p3){.t=1},};_05((&__E),__H,0,0,0);}else{_05((&__E),__8,0,0,0);}if(__G){_F3((&__E),",...");}_E3((&_u1),_H3((&__E)));_F3((&_u1),");");_F3((&__E),"){");_05((&__E),__9,1,0,1);_F3((&__E),"};");_E3((&_x1),_H3((&__E)));free(__E.buf);(_r1.len)=__A;}else if(__2.kind.t==12){_k3 __6=__2.kind.u.VarDef._type;_Y3 __7=__2.kind.u.VarDef.path;_l3 __8=__2.kind.u.VarDef.value;_Y3 __9=_55((&__6));_p3 __A=_35(__9,0);_E3((&_v1),_84((&__A)));_C3((&_v1),' ');_p3 __B=_35(__7,0);_E3((&_v1),_84((&__B)));if(__8.t==0){_d3* __C=__8.u.Some.thing;_C3((&_v1),'=');_15((&_v1),(*__C),0,0,0);}_C3((&_v1),';');}else if(__2.kind.t==13){_k3 __6=__2.kind.u.LocalVarDef._type;_53 __7=__2.kind.u.LocalVarDef.name;_l3 __8=__2.kind.u.LocalVarDef.value;_Y3 __9=_55((&__6));_p3 __A=_35(__9,0);_E3(__1,_84((&__A)));_C3(__1,' ');_E3(__1,_45(__7));if(__8.t==0){_d3* __B=__8.u.Some.thing;_C3(__1,'=');_15(__1,(*__B),0,0,0);}_C3(__1,';');}else if(__2.kind.t==14){_Y3 __6=__2.kind.u.ProcCall.path;_e3 __7=__2.kind.u.ProcCall.args;if(((((((__6.parts).len)==2)&&((((((__6.parts).buf)[0]).gens).len)==0))&&((((((__6.parts).buf)[1]).gens).len)==1))&&(strcmp(((((__6.parts).buf)[0]).name).buf,"mem")==0))&&(strcmp(((((__6.parts).buf)[1]).name).buf,"size")==0)){_F3(__1,"sizeof(");if(((((((__6.parts).buf)[1]).gens).buf)[0]).kind.t==15){_Y3 __8=((((((__6.parts).buf)[1]).gens).buf)[0]).kind.u.VarUse.path;_p3 __9=_35(__8,0);_E3(__1,_84((&__9)));}_C3(__1,')');}else{_p3 __8=_35(__6,0);_E3(__1,_84((&__8)));_C3(__1,'(');_05(__1,__7,0,1,0);_C3(__1,')');}if(__4){_C3(__1,';');}}else if(__2.kind.t==15){_Y3 __6=__2.kind.u.VarUse.path;_p3 __7=_35(__6,0);_E3(__1,_84((&__7)));if(__4){_C3(__1,';');}}else if(__2.kind.t==16){_53 __6=__2.kind.u.StringLit.value;_C3(__1,'"');_E3(__1,__6);_C3(__1,'"');}else if(__2.kind.t==17){_53 __6=__2.kind.u.CharLit.value;_C3(__1,39);_E3(__1,__6);_C3(__1,39);}else if(__2.kind.t==18){_53 __6=__2.kind.u.IntLit.value;_E3(__1,__6);}else if(__2.kind.t==19){_53 __6=__2.kind.u.FloatLit.value;_E3(__1,__6);}else if(__2.kind.t==20){_F3(__1,"(*this)");}else if(__2.kind.t==21){_e3 __6=__2.kind.u.LocalBlock.body;_C3(__1,'{');_05(__1,__6,1,0,1);_C3(__1,'}');}else if(__2.kind.t==22){_h3 __6=__2.kind.u.If._if;_m3 __7=__2.kind.u.If._elif;_n3 __8=__2.kind.u.If._else;_F3(__1,"if(");_15(__1,(*(__6.cond)),0,0,0);_F3(__1,"){");_05(__1,__6.body,1,0,1);_C3(__1,'}');for(int __9=0;__9<(__7.len);__9+=1){_F3(__1,"else if(");_15(__1,(*(((__7.buf)[__9]).cond)),0,0,0);_F3(__1,"){");_05(__1,((__7.buf)[__9]).body,1,0,1);_C3(__1,'}');}if(__8.t==0){_i3 __9=__8.u.Some.thing;_F3(__1,"else{");_05(__1,__9.body,1,0,1);_C3(__1,'}');}}else if(__2.kind.t==23){_e3 __6=__2.kind.u.Loop.body;_F3(__1,"for(;;){");_05(__1,__6,1,0,1);if(__2.label.t==0){_53 __7=__2.label.u.Some.thing;_F3(__1,"__");_E3(__1,__7);_C3(__1,':');}_C3(__1,'}');}else if(__2.kind.t==24){_d3* __6=__2.kind.u.While.cond;_e3 __7=__2.kind.u.While.body;_F3(__1,"while(");_15(__1,(*__6),0,0,0);_F3(__1,"){");_05(__1,__7,1,0,1);if(__2.label.t==0){_53 __8=__2.label.u.Some.thing;_F3(__1,"__");_E3(__1,__8);_C3(__1,':');}_C3(__1,'}');}else if(__2.kind.t==25){_53 __6=__2.kind.u.For.iter;_l3 __7=__2.kind.u.For.iter_value;_d3* __8=__2.kind.u.For.cond;_d3* __9=__2.kind.u.For._next;_e3 __A=__2.kind.u.For.body;int __B=_r1.len;_F3(__1,"for(int ");_E3(__1,_45(__6));if(__7.t==0){_d3* __C=__7.u.Some.thing;_C3(__1,'=');_15(__1,(*__C),0,0,0);}_C3(__1,';');_15(__1,(*__8),0,0,0);_C3(__1,';');_15(__1,(*__9),0,0,0);_F3(__1,"){");if(__2.label.t==0){_53 __C=__2.label.u.Some.thing;_F3(__1,"__");_E3(__1,__C);_C3(__1,':');}_05(__1,__A,1,0,0);_C3(__1,'}');(_r1.len)=__B;}else if(__2.kind.t==26){_o3 __6=__2.kind.u.Each.vars;_d3* __7=__2.kind.u.Each.iter;_e3 __8=__2.kind.u.Each.body;}else if(__2.kind.t==27){_d3* __6=__2.kind.u.Match.value;_e3 __7=__2.kind.u.Match.cases;}else if(__2.kind.t==28){_e3 __6=__2.kind.u.Case.values;_e3 __7=__2.kind.u.Case.body;}else if(__2.kind.t==29){_p3 __6=__2.kind.u.Ret.label;_l3 __7=__2.kind.u.Ret.value;if(__6.t==0){_53 __8=__6.u.Some.thing;_F3(__1,"goto __");_E3(__1,__8);}else if(1){_F3(__1,"return");}if(__7.t==0){_d3* __8=__7.u.Some.thing;_C3(__1,' ');_15(__1,(*__8),0,0,0);}_C3(__1,';');}else if(__2.kind.t==30){_53 __6=__2.kind.u.Next.label;_F3(__1,"goto _");_E3(__1,__6);_C3(__1,';');}else if(__2.kind.t==31){_53 __6=__2.kind.u.Jump.label;_F3(__1,"goto ");_E3(__1,__6);_C3(__1,';');}else if(__2.kind.t==32){_p3 __6=__2.kind.u.Try.label;_d3* __7=__2.kind.u.Try.value;}else if(__2.kind.t==33){_d3* __6=__2.kind.u.UnaryOp.value;_M3 __7=__2.kind.u.UnaryOp.kind;_C3(__1,'(');if(__7.t==60){_C3(__1,'-');}else if(__7.t==50){_C3(__1,'!');}else if(__7.t==46){_C3(__1,'*');}else if(__7.t==47){_C3(__1,'&');}_15(__1,(*__6),0,0,__5+1);_C3(__1,')');}else if(__2.kind.t==34){_d3* __6=__2.kind.u.BinaryOp.lhs;_d3* __7=__2.kind.u.BinaryOp.rhs;_M3 __8=__2.kind.u.BinaryOp.kind;if(__5>0){_C3(__1,'(');}if(__8.t==32){_C3(__1,'(');_15(__1,(*__7),0,0,__5+1);_C3(__1,')');_15(__1,(*__6),0,0,__5+1);}else if(1){_15(__1,(*__6),0,0,__5+1);if(__8.t==48){_C3(__1,'=');}else if(__8.t==49){_F3(__1,"==");}else if(__8.t==52){_F3(__1,"&&");}else if(__8.t==53){_F3(__1,"||");}else if(__8.t==54){_C3(__1,'<');}else if(__8.t==55){_F3(__1,"<=");}else if(__8.t==56){_C3(__1,'>');}else if(__8.t==57){_F3(__1,">=");}else if(__8.t==58){_C3(__1,'+');}else if(__8.t==59){_F3(__1,"+=");}else if(__8.t==60){_C3(__1,'-');}else if(__8.t==61){_F3(__1,"-=");}else if(__8.t==62){_C3(__1,'*');}else if(__8.t==63){_F3(__1,"*=");}else if(__8.t==64){_C3(__1,'/');}else if(__8.t==65){_F3(__1,"/=");}else if(__8.t==66){_C3(__1,'%');}else if(__8.t==67){_F3(__1,"%=");}else if(__8.t==51){_F3(__1,"!=");}else if(__8.t==36){_C3(__1,'.');if((*__7).kind.t==15){_Y3 __9=(*__7).kind.u.VarUse.path;_E3(__1,(((__9.parts).buf)[0]).name);}goto ret_m;}else if(__8.t==44){_C3(__1,'[');}_15(__1,(*__7),0,0,__5+1);if(__8.t==44){_C3(__1,']');}}ret_m:if(__5>0){_C3(__1,')');}if(__4>0){_C3(__1,';');}}else if(__2.kind.t==35){_d3* __6=__2.kind.u.TernaryOp.cond;_d3* __7=__2.kind.u.TernaryOp.valueA;_d3* __8=__2.kind.u.TernaryOp.valueB;_15(__1,(*__6),0,0,__5+1);_C3(__1,'?');_15(__1,(*__7),0,0,__5+1);_C3(__1,':');_15(__1,(*__8),0,0,__5+1);}if(__2.label.t==0){_53 __6=__2.label.u.Some.thing;_C3(__1,'_');_E3(__1,__6);_C3(__1,':');}};void _25(_53 __1){for(int __2=0;__2<(_s1.len);__2+=1){if(strcmp(((_s1.buf)[__2]).buf,__1.buf)==0){return;}}_74((&_s1),__1);};_Y3 _65(_Y3 __1){if(((__1.parts).len)==1){for(int __2=0;__2<(_u.len);__2+=1){if(strcmp((((_u.buf)[__2]).name).buf,((((__1.parts).buf)[0]).name).buf)==0){if((((_u.buf)[__2]).expr).kind.t==15){_Y3 __3=(((_u.buf)[__2]).expr).kind.u.VarUse.path;return __3;}}}}_Y3 __2=_b3((&__1));for(int __3=0;__3<((__1.parts).len);__3+=1){_Z3 __4=((__1.parts).buf)[__3];((((__2.parts).buf)[__3]).gens)=_s3((__4.gens).len);(((((__2.parts).buf)[__3]).gens).len)=((__4.gens).len);for(int __5=0;__5<((__4.gens).len);__5+=1){if((((__4.gens).buf)[__5]).kind.t==6){_53 __6=(((__4.gens).buf)[__5]).kind.u.TypeField.name;for(int __7=0;__7<(_u.len);__7+=1){if(strcmp((((_u.buf)[__7]).name).buf,__6.buf)==0){if((((_u.buf)[__7]).expr).kind.t==15){_Y3 __8=(((_u.buf)[__7]).expr).kind.u.VarUse.path;((((((__2.parts).buf)[__3]).gens).buf)[__5])=(_d3){.kind=(_j3){.t=15,.u={.VarUse={.path=__8,}}},};}}}}else if((((__4.gens).buf)[__5]).kind.t==15){_Y3 __6=(((__4.gens).buf)[__5]).kind.u.VarUse.path;((((((__2.parts).buf)[__3]).gens).buf)[__5])=(_d3){.kind=(_j3){.t=15,.u={.VarUse={.path=_65(__6),}}},};}}}return __2;};void _75(_x4* this,_w4 __C){(((*this).buf)[((*this).len)])=__C;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_w4)*((*this).cap));}};_p3 _35(_Y3 __1,uint8_t __2){__1=_65(__1);int __3=0;while(((((((__1.parts).buf)[0]).gens).len)==1)&&_b4(__1,"ptr")){if(((((((__1.parts).buf)[0]).gens).buf)[0]).kind.t==15){_Y3 __4=((((((__1.parts).buf)[0]).gens).buf)[0]).kind.u.VarUse.path;__1=__4;}__3+=1;}for(int __4=0;__4<((__1.parts).len);__4+=1){for(int __5=0;__5<(((((__1.parts).buf)[__4]).gens).len);__5+=1){if(((((((__1.parts).buf)[__4]).gens).buf)[__5]).kind.t==15){_Y3 __6=((((((__1.parts).buf)[__4]).gens).buf)[__5]).kind.u.VarUse.path;_35(__6,0);}}}if((((__1.parts).len)==1)&&((((((__1.parts).buf)[0]).gens).len)==0)){if(strcmp(((((__1.parts).buf)[0]).name).buf,"main")==0){return (_p3){.t=0,.u={.Some={.thing=_73("main"),}}};}for(int __4=(_r1.len)-1;__4>=0;__4-=1){if(strcmp(((((__1.parts).buf)[0]).name).buf,((_r1.buf)[__4]).buf)==0){_93 __5=_t4(__4+1,1);return (_p3){.t=0,.u={.Some={.thing=_H3((&__5)),}}};}}}_S4 __4=(_o1.buf)[(((__1.parts).len)-1)];for(int __5=0;__5<(__4.len);__5+=1){_Y3 __6=((__4.buf)[__5]).path;if(_g4(__1,__6,0)){if(((__2==0)&&(__3==0))&&_h4(__6)){int __7=_u.len;for(int __8=0;__8<((__6.parts).len);__8+=1){_Z3 __9=((__6.parts).buf)[__8];for(int __A=0;__A<(((((__6.parts).buf)[__8]).gens).len);__A+=1){if((((__9.gens).buf)[__A]).kind.t==6){_53 __B=(((__9.gens).buf)[__A]).kind.u.TypeField.name;_75((&_u),(_w4){.name=__B,.expr=(((((__1.parts).buf)[__8]).gens).buf)[__A],});}}}_15(0,((__4.buf)[__5]).expr,0,0,0);(_u.len)=__7;}__4=((_o1.buf)[(((__1.parts).len)-1)]);for(int __7=0;__5<(__4.len);__5+=1){if(_g4(__1,((__4.buf)[__5]).path,1)){if(__2){return (_p3){.t=1};}else{return (_p3){.t=0,.u={.Some={.thing=_85(((__4.buf)[__5]).name,__3),}}};}}}return (_p3){.t=0,.u={.Some={.thing=_85(_k4((_d3){},__1,1),__3),}}};}}};_53 _85(_53 __1,int __2){if(__2==0){return __1;}_93 __3=_A3((__1.len)+__2);_E3((&__3),__1);for(int __4=0;__4<__2;__4+=1){_C3((&__3),'*');}return _H3((&__3));};_53 _45(_53 __1){_74((&_r1),__1);_93 __2=_t4(_r1.len,1);return _H3((&__2));};void _95(uint8_t* __1,uint8_t* __2,uint8_t* __3){printf(__2);printf("\n\nUSAGE:\n    cup ");printf(__1);printf(" [OPTIONS]\n\nOPTIONS:");printf(__3);printf("\n");};_A5 _B5(_C5 __1){if((__1.len)==1){return (_A5){.t=1};}uint8_t __2=0;_93 __3=_A3(16);for(int __4=1;__4<(__1.len);__4+=1){if(__4==4){goto ret_l;}if(((((__1.buf)[__4]).buf)[0])=='-'){if(__2){goto ret_l;}goto l;}__2=1;for(int __5=0;__5<(((__1.buf)[__4]).len);__5+=1){_C3((&__3),(((__1.buf)[__4]).buf)[__5]);}l:}ret_l:uint8_t* __4=__3.buf;if(strcmp(__4,"help")==0){return (_A5){.t=1};}else if(strcmp(__4,"helprun")==0){return (_A5){.t=2};}else if(strcmp(__4,"helpbuild")==0){return (_A5){.t=3};}else if(strcmp(__4,"helpcheck")==0){return (_A5){.t=4};}else if(strcmp(__4,"helpupdate")==0){return (_A5){.t=6};}else if(strcmp(__4,"helpadd")==0){return (_A5){.t=7};}else if(strcmp(__4,"helpremove")==0){return (_A5){.t=8};}else if(strcmp(__4,"helpgendocs")==0){return (_A5){.t=9};}else if(strcmp(__4,"helpgenbinds")==0){return (_A5){.t=10};}else if(strcmp(__4,"helpselfupdate")==0){return (_A5){.t=11};}else if(strcmp(__4,"helpselfinstall")==0){return (_A5){.t=12};}else if(strcmp(__4,"helpselfuninstall")==0){return (_A5){.t=13};}else if(strcmp(__4,"run")==0){return (_A5){.t=14};}else if(strcmp(__4,"build")==0){return (_A5){.t=15};}else if(strcmp(__4,"check")==0){return (_A5){.t=16};}else if(strcmp(__4,"update")==0){return (_A5){.t=18};}else if(strcmp(__4,"add")==0){return (_A5){.t=19};}else if(strcmp(__4,"remove")==0){return (_A5){.t=20};}else if(strcmp(__4,"gendocs")==0){return (_A5){.t=21};}else if(strcmp(__4,"genbinds")==0){return (_A5){.t=22};}else if(strcmp(__4,"selfupdate")==0){return (_A5){.t=23};}else if(strcmp(__4,"selfinstall")==0){return (_A5){.t=24};}else if(strcmp(__4,"selfuninstall")==0){return (_A5){.t=25};}return (_A5){.t=0};};_C5 _F5(int __4){return (_C5){.buf=malloc(sizeof(_53)*__4),.len=__4,};};_E5 _H5(int __8){return (_E5){.buf=malloc(sizeof(_D5)*__8),.len=0,.cap=__8,};};int main(int __1,uint8_t** __2){_C5 __3=_F5(__1);for(int __4=0;__4<(__3.len);__4+=1){((__3.buf)[__4])=_73((*(__2+__4)));}_A5 __4=_B5(__3);if(__4.t==0){_33((_23){.t=2});printf("error: ");_43();printf("no such command: '%s",(__3.buf)[1]);for(int __5=2;__5<__1;__5+=1){printf(" %s",(__3.buf)[__5]);}printf("'\n\nSee 'cup help' for the list of available commands.\n");return 1;}else if(__4.t==14||__4.t==15){goto ret_m;}else if(__4.t==16||__4.t==17||__4.t==18||__4.t==19||__4.t==20||__4.t==21||__4.t==22||__4.t==23||__4.t==24||__4.t==25){return 1;}else if(__4.t==1){printf("Cup Toolkit v0.0.1\n\n");printf("USAGE:\n    cup [COMMAND] [OPTIONS]");printf("\n\nCOMMANDS:");printf("\n    run                  Compile and run the current package");printf("\n    build                Compile the current package");printf("\n    check                Analyze the current package");printf("\n    new [PACKAGE]        Create a new package");printf("\n    update [PACKAGE]     Update given dependency");printf("\n    add [PACKAGE]        Add given dependency");printf("\n    remove [PACKAGE]     Remove given dependency");printf("\n    gen docs             Generate documentation for the current package");printf("\n    gen binds [HEADER]   Generate bindings for a given C header file");printf("\n    self update          Update the Cup Toolkit");printf("\n    self install         Install the Cup Toolkit");printf("\n    self uninstall       Uninstall the Cup Toolkit");printf("\n\nSee 'cup help [COMMAND]' for more info about a specific command and it's available options.\n");return 0;}else if(__4.t==2){_95("run","Compile and run the current package",_z1);return 0;}else if(__4.t==3){_95("build","Compile the current package",_z1);return 0;}else if(__4.t==4){_95("check","Analyze the current package",_y1);return 0;}else if(__4.t==5){_95("new","Create a new package",_y1);return 0;}else if(__4.t==6){_95("update","Update given dependency",_y1);return 0;}else if(__4.t==7){_95("add","Add given dependency",_y1);return 0;}else if(__4.t==8){_95("remove","Remove given dependency",_y1);return 0;}else if(__4.t==9){_95("gen docs","Generate documentation for the current package",_y1);return 0;}else if(__4.t==10){_95("gen binds","Generate bindings for a given C header file",_y1);return 0;}else if(__4.t==11){_95("self update","Update the Cup Toolkit",_y1);return 0;}else if(__4.t==12){_95("self install","Install the Cup Toolkit",_y1);return 0;}else if(__4.t==13){_95("self uninstall","Uninstall the Cup Toolkit",_y1);return 0;}ret_m:_p3 __5=(_p3){.t=1};_p3 __6=(_p3){.t=1};for(int __7=2;__7<(__3.len);__7+=1){if((strcmp(((__3.buf)[__7]).buf,"-i")==0)||(strcmp(((__3.buf)[__7]).buf,"--input")==0)){_G5((&__5),__3,__7+=1);}else if((strcmp(((__3.buf)[__7]).buf,"-o")==0)||(strcmp(((__3.buf)[__7]).buf,"--output")==0)){_G5((&__6),__3,__7+=1);}else{_33((_23){.t=2});printf("error: ");_43();printf("invalid option '%s'\n",((__3.buf)[__7]).buf);return 1;}}if((__5.t)==1){__5=(_p3){.t=0,.u={.Some={.thing=_73("."),}}};}if((__6.t)==1){__6=(_p3){.t=0,.u={.Some={.thing=_73("out.c"),}}};}_e3 __7=_s3(8);_02=_H5(4);_V4();_I5((_J3){.name=_73("core.cup"),.data=_J5(_73("../src/core")),},(&__7));_K5();_L5(_84((&__5)),(&__7));_K5();free(_02.buf);_y4(_84((&__6)),__7);printf("Compilation ");_33((_23){.t=1});printf("successful");_43();printf(" (%.2lfs elapsed)\n",_13());return 0;};void _G5(_p3* __1,_C5 __2,int __3){if((__2.len)>__3){(*__1)=(_p3){.t=0,.u={.Some={.thing=(__2.buf)[__3],}}};}else{_I3("missing value after '%s' option",((__2.buf)[(__3-1)]).buf);}};void _L5(_53 __1,_e3* __2){DIR* __3=opendir(__1.buf);if(__3==0){_I3("no such file or directory: '%s'\n",__1.buf);}struct dirent* __4;for(;;){__4=readdir(__3);if(__4==0){goto ret_d;}if(((*__4).d_type)==DT_DIR){if((strcmp((*__4).d_name,".")==0)||(strcmp((*__4).d_name,"..")==0)){goto d;}_53 __5=_M5(__1,_73((*__4).d_name));_D4((&_q1),(_Z3){.pub=1,.scope=0,.name=(*__4).d_name,.gens=(_e3){.len=0,},});_L5(__5,__2);(_q1.len)-=1;free(__5.buf);}d:}ret_d:rewinddir(__3);for(;;){__4=readdir(__3);if(__4==0){goto ret_f;}if(((*__4).d_type)==DT_REG){_53 __5=_M5(__1,_73((*__4).d_name));_53 __6=_J5(__5);_I5((_J3){.name=__5,.data=__6,},__2);}f:}ret_f:closedir(__3);};_53 _J5(_53 __1){FILE* __2=fopen(__1.buf,"r");fseek(__2,0,SEEK_END);_53 __3=_63(ftell(__2));rewind(__2);fread(__3.buf,__3.len,1,__2);((__3.buf)[(__3.len)])='\0';fclose(__2);return __3;};void _N5(_E5* this,_D5 __5){(((*this).buf)[((*this).len)])=__5;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_D5)*((*this).cap));}};void _O5(_e3* this,_e3 __5){if((__5.len)==0){return;}int __6=(*this).len;((*this).len)+=(__5.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_d3)*((*this).cap));}memcpy(((*this).buf)+__6,__5.buf,sizeof(_d3)*(__5.len));};void _I5(_J3 __1,_e3* __2){printf("Compiling %s:\n",__1.name);_U3 __3=_T3(__1);_e3 __4=_r3(__1,__3);free(__3.buf);_Y4(__1,__4);_N5((&_02),(_D5){.file=__1,.exprs=__4,});_O5(__2,__4);};void _K5(){for(int __1=0;__1<(_02.len);__1+=1){_D5 __2=(_02.buf)[__1];_l4(__2.file,__2.exprs,0);free(((__2.file).name).buf);free(((__2.file).data).buf);}(_02.len)=0;};_53 _M5(_53 __1,_53 __2){_53 __3=_63(((__1.len)+1)+(__2.len));memcpy(__3.buf,__1.buf,sizeof(uint8_t)*(__1.len));((__3.buf)[(__1.len)])='/';memcpy(((__3.buf)+(__1.len))+1,__2.buf,sizeof(uint8_t)*(__2.len));((__3.buf)[(__3.len)])='\0';return __3;};