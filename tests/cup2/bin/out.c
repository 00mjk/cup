#include "stdint.h"
#include "stdlib.h"
#include "string.h"
#include "stdio.h"
#include "stdarg.h"
#include "dirent.h"
#include "ctype.h"
#include "time.h"
typedef struct _f2 _f2;typedef struct _i2 _i2;typedef struct _m2 _m2;typedef struct _w2 _w2;typedef struct _z2 _z2;typedef struct _23 _23;typedef struct _43 _43;typedef struct _83 _83;typedef struct _C3 _C3;typedef struct _E3 _E3;typedef struct _D3 _D3;typedef struct _H3 _H3;typedef struct _I3 _I3;typedef struct _K3 _K3;typedef struct _L3 _L3;typedef struct _M3 _M3;typedef struct _N3 _N3;typedef struct _O3 _O3;typedef struct _P3 _P3;typedef struct _Q3 _Q3;typedef struct _R3 _R3;typedef struct _S3 _S3;typedef struct _T3 _T3;typedef struct _U3 _U3;typedef struct _J3 _J3;typedef struct _V3 _V3;typedef struct _64 _64;typedef struct _74 _74;typedef struct _84 _84;typedef struct _94 _94;typedef struct _A4 _A4;typedef struct _B4 _B4;typedef struct _H4 _H4;typedef struct _c4 _c4;typedef struct _d4 _d4;typedef struct _m4 _m4;typedef struct _o4 _o4;typedef struct _u4 _u4;typedef struct _t4 _t4;double _e2();void _g2(_f2 __1);void _h2();_i2 _j2(int __1);_i2 _k2(uint8_t* __1);_m2 _l2(_i2* this);_m2 _n2(int __1);_m2 _o2(uint8_t* __1);void _p2(_m2* this,uint8_t __1);void _q2(_m2* this,uint8_t __1);void _r2(_m2* this,_i2 __1);void _s2(_m2* this,uint8_t* __1);void _t2(_m2* this,_i2 __1);_i2 _u2(_m2* this);void _v2(uint8_t* __1,...);void _x2(_w2* this,int __1,uint8_t* __2,...);void _y2(_i2 __1,int __2,int __3);int _03(_z2 __1);uint8_t* _13(_z2 __1);void _33(_w2 __1,int __2,_m2* __3,uint8_t __4,_43 __5);_z2 _53(uint8_t* __1);uint8_t _63(_z2 __1);_83 _73(_w2 __1);_83 _93(int __3);void _A3(_83* this,_23 __B);void _B3(_83 __1);_C3 _F3(_C3* this);_E3 _G3(int __2);_K3 _W3(_w2 __1,_83 __2);_K3 _X3(int __5);void _Y3(_K3* this,_J3 __5);_K3 _a3(_w2 __1,_83 __2,int* __3,uint8_t __4);_K3 _c3(_w2 __1,_83 __2,int* __3,uint8_t __4);_23 _d3(_w2 __1,_83 __2,int* __3,_z2 __4,uint8_t* __5);uint8_t _e3(_83 __1,int* __2,_z2 __3);_J3 _b3(_w2 __1,_83 __2,int* __3,int __4,uint8_t __5);_J3* _i3(_J3 __B);_R3 _j3(int __C);void _k3(_R3* this,_M3 __C);_T3 _l3(int __9);void _m3(_T3* this,_i2 __9);_i2 _n3(_U3* this);_J3 _Z3(_w2 __1,_83 __2,int* __3);_U3 _f3(_w2 __1,_83 __2,int* __3,uint8_t __4);_V3 _g3(_w2 __1,_83 __2,int* __3);_V3 _p3(int __5);void _q3(_V3* this,_I3 __9);_C3 _h3(_w2 __1,_83 __2,int* __3);_C3 _r3(_w2 __1,_83 __2,int* __3);_H3 _s3(int __9);void _t3(_H3* this,_C3 __B);void _u3(_E3* this,_D3 __9);_K3 _o3(_w2 __1,_83 __2,int* __3);void _v3(_K3 __1);void _w3(_K3 __1,int __2);void _z3(_K3 __1,int __2,uint8_t* __3,uint8_t __4);void _y3(_J3 __1,int __2);void _24(_C3 __1,int __2);void _14(_V3 __1,int __2);void _34(_M3 __1,int __2);void _44(_R3 __1,int __2);void _54(_N3 __1,int __2);uint8_t* _04(_O3 __1);void _x3(int __1);void _C4();_A4 _D4(int __1);_B4 _E4(int __1);void _F4(_w2 __1,_K3 __2);void _G4(_w2 __1,_J3* __2,int __3);void _K4(_E3* this,_E3 __A);void _L4(_E3* this,_E3 __B);void _M4(_B4* this,_74 __B);void _S4(_w2 __1,_K3 __2);void _T4(_w2 __1,_J3* __2);uint8_t _P4(_C3 __1);uint8_t _O4(_C3 __1);void _J4(_H4 __1,_C3 __2,int __3);void _U4(_C3* __1);_D3 _W4(_E3* this);void _V4(_w2 __1,_C3 __2,_84 __3);_i2 _R4(_J3 __1,_C3 __2,uint8_t __3);void _X4(_A4* this,_94 __4);_94 _Y4(int __4);void _a4(_94* this,_64 __7);_i2 _Z4(int __1,uint8_t __2,int __3);uint8_t _I4(_C3 __1,uint8_t* __2);uint8_t _N4(_C3 __1,_C3 __2,uint8_t __3);uint8_t _b4(_H3 __1,_H3 __2);void _Q4(_J3 __1,_C3 __2,_i2 __3);void _e4(_i2 __1,_K3 __2);void _f4(_m2* __1,_K3 __2,uint8_t __3,uint8_t __4);void _g4(_m2* __1,_J3 __2,uint8_t __3,uint8_t __4,int __5);_C3 _i4(_P3* this);void _h4(_i2 __1);void _j4(_C3 __1);void _k4(_d4* this,_c4 __9);void _l4(uint8_t* __1,uint8_t* __2,uint8_t* __3);_m4 _n4(_o4 __1);int main(int __1,uint8_t** __2);_o4 _p4(int __4);void _q4(_U3* __1,_o4 __2,int __3);void _r4(_i2 __1,_K3* __2);_u4 _v4(int __6);void _w4(_u4* this,_t4 __C);void _x4(_K3* this,_K3 __C);_i2 _s4(_i2 __1,_i2 __2);int _j1;int _k1;_A4 _l1;_B4 _m1;_K3 _n1;_E3 _o1;_T3 _p1;_m2 _q1;_m2 _r1;_m2 _s1;_m2 _t1;_m2 _u1;_d4 _u;uint8_t* _v1="\n    No options are available for this command";uint8_t* _w1="\n    -i, --input     Specify the input file name\n    -o, --output    Specify the output file name\n    -cg, --gcc     Use GCC as a compiler\n    -cm, --msvc    Use MSVC as a compiler\n    -cc, --clang   use Clang as a compiler\n    -ct, --tcc     Use TinyCC as a compiler";typedef struct _f2{int t;union{}u;}_f2;typedef struct _i2{uint8_t* buf;int len;}_i2;typedef struct _m2{uint8_t* buf;int len;int cap;}_m2;typedef struct _w2{_i2 name;_i2 data;}_w2;typedef struct _z2{int t;union{}u;}_z2;typedef struct _23{_z2 kind;int index;_i2 value;}_23;typedef struct _43{int t;union{}u;}_43;typedef struct _83{_23* buf;int len;int cap;}_83;typedef struct _E3{_D3* buf;int len;int cap;}_E3;typedef struct _C3{_E3 parts;int index;}_C3;typedef struct _H3{_C3* buf;int len;int cap;}_H3;typedef struct _D3{uint8_t pub;int scope;_i2 name;_H3 gens;}_D3;typedef struct _K3{_J3* buf;int len;int cap;}_K3;typedef struct _I3{_C3 path;_K3 args;int index;}_I3;typedef struct _L3{_i2 name;_J3* value;}_L3;typedef struct _M3{_J3* cond;_K3 body;}_M3;typedef struct _N3{_K3 body;}_N3;typedef struct _P3{int t;union{struct{_C3 thing;}Some;}u;}_P3;typedef struct _Q3{int t;union{struct{_J3* thing;}Some;}u;}_Q3;typedef struct _R3{_M3* buf;int len;int cap;}_R3;typedef struct _S3{int t;union{struct{_N3 thing;}Some;}u;}_S3;typedef struct _T3{_i2* buf;int len;int cap;}_T3;typedef struct _U3{int t;union{struct{_i2 thing;}Some;}u;}_U3;typedef struct _O3{int t;union{struct{_C3 path;_K3 args;_K3 body;}TagDef;struct{_K3 body;}Block;struct{_C3 path;_K3 body;}Mod;struct{_C3 path;}Use;struct{_C3 _type;_i2 name;}Field;struct{_C3 path;_K3 fields;_K3 body;}Comp;struct{_C3 path;_K3 opts;_K3 body;}Enum;struct{_C3 path;_K3 body;}Prop;struct{_C3 _prop;_P3 target;_K3 body;}Def;struct{_P3 ret_type;_C3 path;_K3 args;_K3 body;}SubDef;struct{_P3 _type;_C3 path;_Q3 value;}VarDef;struct{_P3 _type;_i2 name;_Q3 value;}LocalVarDef;struct{_C3 path;_K3 args;}SubCall;struct{_C3 path;}VarUse;struct{_i2 value;}StringLit;struct{_i2 value;}CharLit;struct{_i2 value;}IntLit;struct{_i2 value;}FloatLit;struct{uint8_t value;}BoolLit;struct{_K3 body;}LocalBlock;struct{_M3 _if;_R3 _elif;_S3 _else;}If;struct{_K3 body;}Loop;struct{_J3* cond;_K3 body;}While;struct{_i2 iter;_Q3 iter_value;_J3* cond;_J3* _next;_K3 body;}For;struct{_T3 vars;_J3* iter;_K3 body;}Each;struct{_J3* value;_K3 cases;}Match;struct{_K3 values;_K3 body;}Case;struct{_J3* value;}Echo;struct{_U3 label;_Q3 value;}Ret;struct{_i2 label;}Next;struct{_i2 label;}Jump;struct{_U3 label;_J3* value;}Try;struct{_J3* value;_z2 kind;}UnaryOp;struct{_J3* lhs;_J3* rhs;_z2 kind;}BinaryOp;struct{_J3* cond;_J3* valueA;_J3* valueB;}TernaryOp;}u;}_O3;typedef struct _V3{_I3* buf;int len;int cap;}_V3;typedef struct _J3{_O3 kind;_V3 tags;_U3 label;}_J3;typedef struct _64{_J3 expr;_C3 path;_i2 name;}_64;typedef struct _74{uint8_t is_mod;_C3 path;_C3 alias;}_74;typedef struct _84{int t;union{}u;}_84;typedef struct _94{_64* buf;int len;int cap;}_94;typedef struct _A4{_94* buf;int len;int cap;}_A4;typedef struct _B4{_74* buf;int len;int cap;}_B4;typedef struct _H4{int t;union{struct{_I3 thing;}Some;}u;}_H4;typedef struct _c4{_i2 name;_C3 path;}_c4;typedef struct _d4{_c4* buf;int len;int cap;}_d4;typedef struct _m4{int t;union{}u;}_m4;typedef struct _o4{_i2* buf;int len;}_o4;typedef struct _u4{_t4* buf;int len;int cap;}_u4;typedef struct _t4{_w2 file;_K3 exprs;}_t4;double _e2(){return ((double)clock())/CLOCKS_PER_SEC;};void _g2(_f2 __1){if(__1.t==0){printf("\033[35m");}else if(__1.t==1){printf("\033[32m");}else if(__1.t==2){printf("\033[0;31m");}};void _h2(){printf("\033[0m");};_i2 _j2(int __1){return (_i2){.buf=malloc(sizeof(uint8_t)*(__1+1)),.len=__1,};};_i2 _k2(uint8_t* __1){int __2=strlen(__1)+1;uint8_t* __3=malloc(sizeof(uint8_t)*__2);memcpy(__3,__1,sizeof(uint8_t)*__2);return (_i2){.buf=__3,.len=__2-1,};};_m2 _l2(_i2* this){return (_m2){.buf=(*this).buf,.len=(*this).len,.cap=(*this).len,};};_m2 _n2(int __1){return (_m2){.buf=malloc(sizeof(uint8_t)*__1),.len=0,.cap=__1,};};_m2 _o2(uint8_t* __1){int __2=strlen(__1)+1;uint8_t* __3=malloc((sizeof(uint8_t)*__2)*2);memcpy(__3,__1,sizeof(uint8_t)*__2);return (_m2){.buf=__3,.len=__2-1,.cap=__2*2,};};void _p2(_m2* this,uint8_t __1){(((*this).buf)[((*this).len)])=__1;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}(((*this).buf)[((*this).len)])='\0';};void _q2(_m2* this,uint8_t __1){((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memmove(((*this).buf)+1,(*this).buf,sizeof(uint8_t)*((*this).len));(((*this).buf)[0])=__1;};void _r2(_m2* this,_i2 __1){if((__1.len)==0){return;}int __2=(*this).len;((*this).len)+=(__1.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memcpy(((*this).buf)+__2,__1.buf,sizeof(uint8_t)*((__1.len)+1));};void _s2(_m2* this,uint8_t* __1){int __2=strlen(__1);if(__2==0){return;}int __3=(*this).len;((*this).len)+=__2;while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memcpy(((*this).buf)+__3,__1,sizeof(uint8_t)*(__2+1));};void _t2(_m2* this,_i2 __1){if((__1.len)==0){return;}int __2=(*this).len;((*this).len)+=(__1.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(uint8_t)*((*this).cap));}memmove(((*this).buf)+(__1.len),(*this).buf,sizeof(uint8_t)*(__2+1));memcpy((*this).buf,__1.buf,sizeof(uint8_t)*(__1.len));};_i2 _u2(_m2* this){return (_i2){.buf=(*this).buf,.len=(*this).len,};};void _v2(uint8_t* __1,...){va_list __2;va_start(__2,__1);_g2((_f2){.t=2});printf("error:");_h2();printf(" ");vprintf(__1,__2);printf("\n");exit(1);va_end(__2);};void _x2(_w2* this,int __1,uint8_t* __2,...){va_list __3;va_start(__3,__2);int __4=1;int __5=1;for(int __6=0;__6<__1;__6+=1){if(((((*this).data).buf)[__6])=='\n'){__4+=1;__5=1;}else{__5+=1;}}printf("%s:%i:%i: ",((*this).name).buf,__4,__5);_g2((_f2){.t=2});printf("error:");_h2();printf(" ");vprintf(__2,__3);printf("\n");_y2((*this).data,__4,__5);exit(1);va_end(__3);};void _y2(_i2 __1,int __2,int __3){printf(" %i | ",__2);int __4=2;int __5=__2;while(__5!=0){__4+=1;__5/=10;}int __6=1;for(int __7=0;__7<(__1.len);__7+=1){uint8_t __8=(__1.buf)[__7];if(__8=='\n'){__6+=1;if(__6>__2){goto ret_l;}}else if(__6==__2){putchar(__8);}l:}ret_l:putchar('\n');for(int __7=0;__7<__4;__7+=1){putchar(' ');}putchar('|');for(int __7=0;__7<__3;__7+=1){putchar(' ');}_g2((_f2){.t=2});putchar('^');_h2();putchar('\n');};int _03(_z2 __1){if(__1.t==8||__1.t==25||__1.t==29){return 5;}else if(__1.t==7||__1.t==9||__1.t==10||__1.t==14||__1.t==15||__1.t==16||__1.t==22||__1.t==23||__1.t==24||__1.t==27||__1.t==30||__1.t==32||__1.t==33){return 4;}else if(__1.t==11||__1.t==12||__1.t==13||__1.t==17||__1.t==18||__1.t==19||__1.t==26||__1.t==31||__1.t==34||__1.t==36){return 3;}else if(__1.t==21||__1.t==28||__1.t==35||__1.t==53||__1.t==55||__1.t==59||__1.t==61||__1.t==63||__1.t==65||__1.t==67||__1.t==69||__1.t==71){return 2;}else if(__1.t==37||__1.t==38||__1.t==39||__1.t==40||__1.t==41||__1.t==42||__1.t==43||__1.t==44||__1.t==45||__1.t==46||__1.t==47||__1.t==48||__1.t==49||__1.t==50||__1.t==51||__1.t==52||__1.t==54||__1.t==56||__1.t==57||__1.t==58||__1.t==60||__1.t==62||__1.t==64||__1.t==66||__1.t==68||__1.t==70){return 1;}};uint8_t* _13(_z2 __1){if(__1.t==1){return "EMPTY";}else if(__1.t==2){return "IDENT";}else if(__1.t==3){return "STRING_LIT";}else if(__1.t==4){return "CHAR_LIT";}else if(__1.t==5){return "INT_LIT";}else if(__1.t==6){return "FLOAT_LIT";}else if(__1.t==7){return "TRUE";}else if(__1.t==8){return "FALSE";}else if(__1.t==9){return "THIS";}else if(__1.t==10){return "TYPE";}else if(__1.t==11){return "TAG";}else if(__1.t==12){return "MOD";}else if(__1.t==13){return "USE";}else if(__1.t==14){return "COMP";}else if(__1.t==15){return "ENUM";}else if(__1.t==16){return "PROP";}else if(__1.t==17){return "DEF";}else if(__1.t==18){return "SUB";}else if(__1.t==19){return "VAR";}else if(__1.t==21){return "IF";}else if(__1.t==22){return "ELIF";}else if(__1.t==23){return "ELSE";}else if(__1.t==24){return "LOOP";}else if(__1.t==25){return "WHILE";}else if(__1.t==26){return "FOR";}else if(__1.t==27){return "EACH";}else if(__1.t==28){return "IN";}else if(__1.t==29){return "MATCH";}else if(__1.t==30){return "ECHO";}else if(__1.t==31){return "RET";}else if(__1.t==32){return "NEXT";}else if(__1.t==33){return "JUMP";}else if(__1.t==34){return "TRY";}else if(__1.t==35){return "AS";}else if(__1.t==36){return "HAS";}else if(__1.t==37){return "SEMICOLON";}else if(__1.t==38){return "COLON";}else if(__1.t==39){return "COMMA";}else if(__1.t==40){return "DOT";}else if(__1.t==41){return "QUESTION_MARK";}else if(__1.t==42){return "TILDE";}else if(__1.t==43){return "HASH";}else if(__1.t==44){return "LEFT_PAREN";}else if(__1.t==45){return "RIGHT_PAREN";}else if(__1.t==46){return "LEFT_BRACE";}else if(__1.t==47){return "RIGHT_BRACE";}else if(__1.t==48){return "LEFT_BRACKET";}else if(__1.t==49){return "RIGHT_BRACKET";}else if(__1.t==50){return "DEREF";}else if(__1.t==51){return "ADDRESS";}else if(__1.t==52){return "ASSIGN";}else if(__1.t==53){return "EQUAL";}else if(__1.t==54){return "NOT";}else if(__1.t==55){return "NOT_EQUAL";}else if(__1.t==56){return "AND";}else if(__1.t==57){return "OR";}else if(__1.t==58){return "LESS";}else if(__1.t==59){return "LESS_EQUAL";}else if(__1.t==60){return "GREATER";}else if(__1.t==61){return "GREATER_EQUAL";}else if(__1.t==62){return "ADD";}else if(__1.t==63){return "ADD_ASSIGN";}else if(__1.t==64){return "SUBTRACT";}else if(__1.t==65){return "SUBTRACT_ASSIGN";}else if(__1.t==66){return "MULTIPLY";}else if(__1.t==67){return "MULTIPLY_ASSIGN";}else if(__1.t==68){return "DIVIDE";}else if(__1.t==69){return "DIVIDE_ASSIGN";}else if(__1.t==70){return "MODULO";}else if(__1.t==71){return "MODULO_ASSIGN";}};void _33(_w2 __1,int __2,_m2* __3,uint8_t __4,_43 __5){if(((__5.t)==1)&&(((*__3).len)==4)){_x2((&__1),__2,"too many characters in character literal");}_p2(__3,__4);(((*__3).buf)[((*__3).len)])='\0';};_z2 _53(uint8_t* __1){if(strcmp(__1,"tag")==0){return (_z2){.t=11};}else if(strcmp(__1,"mod")==0){return (_z2){.t=12};}else if(strcmp(__1,"use")==0){return (_z2){.t=13};}else if(strcmp(__1,"comp")==0){return (_z2){.t=14};}else if(strcmp(__1,"enum")==0){return (_z2){.t=15};}else if(strcmp(__1,"prop")==0){return (_z2){.t=16};}else if(strcmp(__1,"def")==0){return (_z2){.t=17};}else if(strcmp(__1,"sub")==0){return (_z2){.t=18};}else if(strcmp(__1,"var")==0){return (_z2){.t=19};}else if(strcmp(__1,"this")==0){return (_z2){.t=9};}else if(strcmp(__1,"type")==0){return (_z2){.t=10};}else if(strcmp(__1,"true")==0){return (_z2){.t=7};}else if(strcmp(__1,"false")==0){return (_z2){.t=8};}else if(strcmp(__1,"if")==0){return (_z2){.t=21};}else if(strcmp(__1,"elif")==0){return (_z2){.t=22};}else if(strcmp(__1,"else")==0){return (_z2){.t=23};}else if(strcmp(__1,"loop")==0){return (_z2){.t=24};}else if(strcmp(__1,"while")==0){return (_z2){.t=25};}else if(strcmp(__1,"for")==0){return (_z2){.t=26};}else if(strcmp(__1,"each")==0){return (_z2){.t=27};}else if(strcmp(__1,"in")==0){return (_z2){.t=28};}else if(strcmp(__1,"match")==0){return (_z2){.t=29};}else if(strcmp(__1,"echo")==0){return (_z2){.t=30};}else if(strcmp(__1,"ret")==0){return (_z2){.t=31};}else if(strcmp(__1,"next")==0){return (_z2){.t=32};}else if(strcmp(__1,"jump")==0){return (_z2){.t=33};}else if(strcmp(__1,"try")==0){return (_z2){.t=34};}else if(strcmp(__1,"as")==0){return (_z2){.t=35};}else if(strcmp(__1,"has")==0){return (_z2){.t=36};}return (_z2){.t=1};};uint8_t _63(_z2 __1){if(__1.t==44||__1.t==52||__1.t==53||__1.t==55||__1.t==56||__1.t==57||__1.t==58||__1.t==59||__1.t==60||__1.t==61||__1.t==62||__1.t==63||__1.t==64||__1.t==65||__1.t==66||__1.t==67||__1.t==68||__1.t==69||__1.t==70||__1.t==71||__1.t==35||__1.t==36){return 1;}else if(1){return 0;}};_83 _93(int __3){return (_83){.buf=malloc(sizeof(_23)*__3),.len=0,.cap=__3,};};void _A3(_83* this,_23 __B){(((*this).buf)[((*this).len)])=__B;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_23)*((*this).cap));}};_83 _73(_w2 __1){_83 __2=_93(32);uint8_t __3=0;_43 __4=(_43){.t=0};_m2 __5=_n2(8);((__5.buf)[(__5.len)])='\0';for(int __6=0;__6<=((__1.data).len);__6+=1){uint8_t __7=((__1.data).buf)[__6];if(((((__7=='`')&&((__4.t)!=1))&&((__4.t)!=2))&&((__4.t)!=3))&&((__4.t)!=4)){__3=1;goto l;}if(__3){if(__7=='\n'){__3=0;}goto l;}_z2 __8=(_z2){.t=0};if((__4.t)==3){__4=(_43){.t=1};}else if((__4.t)==4){__4=(_43){.t=2};}if(((__4.t)==1)||((__4.t)==2)){if(__7==0){if((__4.t)==1){_x2((&__1),__6-1,"expected end of char literal");}else{_x2((&__1),__6-1,"expected end of string literal");}}else if(((__4.t)==1)&&(__7==39)){}else if(((__4.t)==2)&&(__7=='"')){}else{if(__7==92){__7=(((__1.data).buf)[(__6+=1)]);if(__7=='b'){__7=8;}else if(__7=='f'){__7=12;}else if(__7=='n'){__7=10;}else if(__7=='r'){__7=13;}else if(__7=='t'){__7=9;}else if(__7=='v'){__7=11;}else if(__7==92){__7=92;}else if(__7==39){__7=39;}else if(__7=='"'){__7='"';}else{_x2((&__1),__6-1,"unrecognized character escape sequence");}}_33(__1,__6,(&__5),__7,__4);goto l;}}if((__7==0)||isspace(__7)){__8=(_z2){.t=1};}else{if(__7==39){if((__4.t)==1){__8=(_z2){.t=4};__4=(_43){.t=0};}else{__8=(_z2){.t=1};__4=(_43){.t=3};}}else if(__7=='"'){if((__4.t)==2){__8=(_z2){.t=3};__4=(_43){.t=0};}else{__8=(_z2){.t=1};__4=(_43){.t=4};}}else if(__7==';'){__8=(_z2){.t=37};}else if(__7==':'){__8=(_z2){.t=38};}else if(__7==','){__8=(_z2){.t=39};}else if(__7=='.'){uint8_t __9=((__1.data).buf)[(__6+1)];if((((__4.t)!=7)||(__9=='_'))||isalpha(__9)){__8=(_z2){.t=40};}}else if(__7=='?'){__8=(_z2){.t=41};}else if(__7=='~'){__8=(_z2){.t=42};}else if(__7=='#'){__8=(_z2){.t=43};}else if(__7=='('){__8=(_z2){.t=44};}else if(__7==')'){__8=(_z2){.t=45};}else if(__7=='{'){__8=(_z2){.t=46};}else if(__7=='}'){__8=(_z2){.t=47};}else if(__7=='['){__8=(_z2){.t=48};}else if(__7==']'){__8=(_z2){.t=49};}else if(__7=='@'){__8=(_z2){.t=50};}else if(__7=='$'){__8=(_z2){.t=51};}else if(__7=='&'){__8=(_z2){.t=56};}else if(__7=='|'){__8=(_z2){.t=57};}else if(__7=='='){if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=53};__6+=1;}else{__8=(_z2){.t=52};}}else if(__7=='!'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=55};__6+=1;}else{__8=(_z2){.t=54};}}else if(__7=='<'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=59};__6+=1;}else{__8=(_z2){.t=58};}}else if(__7=='>'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=61};__6+=1;}else{__8=(_z2){.t=60};}}else if(__7=='+'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=63};__6+=1;}else{__8=(_z2){.t=62};}}else if(__7=='-'){if(_63(((__2.buf)[((__2.len)-1)]).kind)&&isdigit(((__1.data).buf)[(__6+1)])){goto ret_ll;}if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=65};__6+=1;}else{__8=(_z2){.t=64};}}else if(__7=='*'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=67};__6+=1;}else{__8=(_z2){.t=66};}}else if(__7=='/'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=69};__6+=1;}else{__8=(_z2){.t=68};}}else if(__7=='%'){if((((__1.data).buf)[(__6+1)])=='='){__8=(_z2){.t=71};__6+=1;}else{__8=(_z2){.t=70};}}}ret_ll:if(__8.t==0){if(((((__7=='-')||(__7=='_'))||(__7=='.'))||(__7==':'))||isalnum(__7)){if((((__5.len)==0)&&isdigit(__7))||(__7=='-')){__4=(_43){.t=7};}else if(((__4.t)==7)||((__4.t)==8)){if((__7=='.')&&((__4.t)==7)){__4=(_43){.t=8};}else if((__7=='_')||isdigit(__7)){}else{_x2((&__1),__6-(__5.len),"invalid identifier name starting with a digit");}}if((((__4.t)!=7)&&((__4.t)!=8))||(__7!='_')){_33(__1,__6,(&__5),__7,__4);}}else{_x2((&__1),__6,"unexpected symbol %c",__7);}}else if(1){if((__5.len)>0){if(__8.t==3||__8.t==4){}else if(1){_z2 __9=_53(__5.buf);if(__9.t==1){_23 __A;if((__4.t)==7){(__A.kind)=(_z2){.t=5};}else if((__4.t)==8){(__A.kind)=(_z2){.t=6};if(((__5.buf)[((__5.len)-1)])=='.'){_x2((&__1),__6-1,"expected a value after the decimal point");}}else{(__A.kind)=(_z2){.t=2};}(__A.index)=(__6-(__5.len));(__A.value)=_u2((&__5));_A3((&__2),__A);}else if(1){_23 __A=(_23){.kind=__9,.index=__6-_03(__9),};_A3((&__2),__A);}__5=_n2(8);((__5.buf)[(__5.len)])='\0';__4=(_43){.t=0};}}if(__8.t==1){}else if(1){_23 __9=(_23){.kind=__8,};if(__8.t==3||__8.t==4){(__9.value)=_u2((&__5));(__9.index)=(__6-(__5.len));__5=_n2(8);((__5.buf)[(__5.len)])='\0';}else if(1){(__9.index)=((__6-_03(__8))+1);}_A3((&__2),__9);}}l:}ret_l:_23 __6;if((__2.len)>0){__6=((__2.buf)[((__2.len)-1)]);if(__6.kind.t==2){(__6.index)=((__6.index)+((__6.value).len));}else if(1){(__6.index)=((__6.index)+_03(__6.kind));}}else{(__6.index)=0;}(__6.kind)=(_z2){.t=1};_A3((&__2),__6);return __2;};void _B3(_83 __1){printf("Tokens:\n");for(int __2=0;__2<(__1.len);__2+=1){_z2 __3=((__1.buf)[__2]).kind;printf("  ");_g2((_f2){.t=0});printf("%s",_13(__3));_h2();if(__3.t==2||__3.t==3||__3.t==4||__3.t==5||__3.t==6){printf("(%s)",((__1.buf)[__2]).value);}printf("\n");}printf("\n");};_E3 _G3(int __2){return (_E3){.buf=malloc(sizeof(_D3)*__2),.len=0,.cap=__2,};};_C3 _F3(_C3* this){_E3 __1=_G3(((*this).parts).len);(__1.len)=(((*this).parts).len);for(int __2=0;__2<(__1.len);__2+=1){((__1.buf)[__2])=((((*this).parts).buf)[__2]);}return (_C3){.parts=__1,.index=(*this).index,};};_K3 _X3(int __5){return (_K3){.buf=malloc(sizeof(_J3)*__5),.len=0,.cap=__5,};};void _Y3(_K3* this,_J3 __5){(((*this).buf)[((*this).len)])=__5;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_J3)*((*this).cap));}};_K3 _W3(_w2 __1,_83 __2){int __3=0;_K3 __4=_X3(16);for(;;){if(((__2.buf)[__3]).kind.t==1){return __4;}_Y3((&__4),_Z3(__1,__2,(&__3)));if(((__2.buf)[__3]).kind.t==37){}else if(((__2.buf)[__3]).kind.t==1){return __4;}else if(1){_x2((&__1),((__2.buf)[__3]).index,"unexpected token after last expr");}__3+=1;}};_K3 _a3(_w2 __1,_83 __2,int* __3,uint8_t __4){_K3 __5=_X3(4);for(;;){if(((((__2.buf)[(*__3)]).kind).t)==47){(*__3)+=1;return __5;}_J3 __6;if(__4){__6=_b3(__1,__2,__3,0,0);}else{__6=_Z3(__1,__2,__3);}_Y3((&__5),__6);if(((__2.buf)[(*__3)]).kind.t==37){}else if(((__2.buf)[(*__3)]).kind.t==47){(*__3)+=1;return __5;}else if(1){_x2((&__1),((__2.buf)[(*__3)]).index,"unexpected token after last expr");}(*__3)+=1;}};_K3 _c3(_w2 __1,_83 __2,int* __3,uint8_t __4){_K3 __5=_X3(4);for(;;){if(((((__2.buf)[(*__3)]).kind).t)==45){(*__3)+=1;return __5;}_J3 __6;if(__4){__6=_b3(__1,__2,__3,0,0);}else{__6=_Z3(__1,__2,__3);}_Y3((&__5),__6);if(((__2.buf)[(*__3)]).kind.t==39){}else if(((__2.buf)[(*__3)]).kind.t==45){(*__3)+=1;return __5;}else if(1){_x2((&__1),((__2.buf)[(*__3)]).index,"unexpected token after last expr");}(*__3)+=1;}};_23 _d3(_w2 __1,_83 __2,int* __3,_z2 __4,uint8_t* __5){_23 __6=(__2.buf)[(*__3)];if(__6.kind.t==__4.t){}else if(1){_x2((&__1),__6.index,__5);}(*__3)+=1;return __6;};uint8_t _e3(_83 __1,int* __2,_z2 __3){if(((__1.buf)[(*__2)]).kind.t==__3.t){(*__2)+=1;return 1;}else if(1){return 0;}};_J3* _i3(_J3 __B){_J3* __C=malloc(sizeof(_J3));(*__C)=__B;return __C;};_R3 _j3(int __C){return (_R3){.buf=malloc(sizeof(_M3)*__C),.len=0,.cap=__C,};};void _k3(_R3* this,_M3 __C){(((*this).buf)[((*this).len)])=__C;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_M3)*((*this).cap));}};_T3 _l3(int __9){return (_T3){.buf=malloc(sizeof(_i2)*__9),.len=0,.cap=__9,};};void _m3(_T3* this,_i2 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_i2)*((*this).cap));}};_i2 _n3(_U3* this){if((*this).t==0){_i2 __9=(*this).u.Some.thing;return __9;}else if((*this).t==1){_v2("unwrap failed");}};_J3 _b3(_w2 __1,_83 __2,int* __3,int __4,uint8_t __5){_J3 __6;(__6.label)=_f3(__1,__2,__3,1);(__6.tags)=_g3(__1,__2,__3);_23 __7=(__2.buf)[(*__3)];if(__7.kind.t==44){(*__3)+=1;__6=_b3(__1,__2,__3,0,0);_d3(__1,__2,__3,(_z2){.t=45},"expected ')' after '('");}else if(__7.kind.t==2){_C3 __8=_h3(__1,__2,__3);if(_e3(__2,__3,(_z2){.t=44})){_K3 __9=_X3(4);for(;;){if(_e3(__2,__3,(_z2){.t=45})){goto ret_ll;}_Y3((&__9),_b3(__1,__2,__3,0,0));if(_e3(__2,__3,(_z2){.t=39})==0){_d3(__1,__2,__3,(_z2){.t=45},"expected ')' after last argument");goto ret_ll;}ll:}ret_ll:(__6.kind)=(_O3){.t=13,.u={.SubCall={.path=__8,.args=__9,}}};goto ret_l;}if(_e3(__2,__3,(_z2){.t=2})){_i2 __9=((__2.buf)[((*__3)-1)]).value;_Q3 __A=(_Q3){.t=1};if(_e3(__2,__3,(_z2){.t=52})){__A=(_Q3){.t=0,.u={.Some={.thing=_i3(_b3(__1,__2,__3,0,0)),}}};}(__6.kind)=(_O3){.t=12,.u={.LocalVarDef={._type=(_P3){.t=0,.u={.Some={.thing=__8,}}},.name=__9,.value=__A,}}};goto ret_l;}(__6.kind)=(_O3){.t=14,.u={.VarUse={.path=__8,}}};}else if(__7.kind.t==19){(*__3)+=1;_i2 __8=_d3(__1,__2,__3,(_z2){.t=2},"expected identifier after 'var' keyword").value;_Q3 __9=(_Q3){.t=1};if(_e3(__2,__3,(_z2){.t=52})){__9=(_Q3){.t=0,.u={.Some={.thing=_i3(_b3(__1,__2,__3,0,0)),}}};}(__6.kind)=(_O3){.t=12,.u={.LocalVarDef={._type=(_P3){.t=1},.name=__8,.value=__9,}}};}else if(__7.kind.t==3){(__6.kind)=(_O3){.t=15,.u={.StringLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==4){(__6.kind)=(_O3){.t=16,.u={.CharLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==5){(__6.kind)=(_O3){.t=17,.u={.IntLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==6){(__6.kind)=(_O3){.t=18,.u={.FloatLit={.value=__7.value,}}};(*__3)+=1;}else if(__7.kind.t==7){(__6.kind)=(_O3){.t=19,.u={.BoolLit={.value=1,}}};(*__3)+=1;}else if(__7.kind.t==8){(__6.kind)=(_O3){.t=19,.u={.BoolLit={.value=0,}}};(*__3)+=1;}else if(__7.kind.t==9){(__6.kind)=(_O3){.t=20};(*__3)+=1;}else if(__7.kind.t==10){(__6.kind)=(_O3){.t=21};(*__3)+=1;}else if(__7.kind.t==46){(*__3)+=1;_K3 __8=_a3(__1,__2,__3,1);(__6.kind)=(_O3){.t=22,.u={.LocalBlock={.body=__8,}}};}else if(__7.kind.t==21){(*__3)+=1;_J3* __8=_i3(_b3(__1,__2,__3,0,0));_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'if' condition");_K3 __9=_a3(__1,__2,__3,1);_M3 __A=(_M3){.cond=__8,.body=__9,};_R3 __B=_j3(1);while(_e3(__2,__3,(_z2){.t=22})){__8=_i3(_b3(__1,__2,__3,0,0));_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'elif' condition");__9=_a3(__1,__2,__3,1);_k3((&__B),(_M3){.cond=__8,.body=__9,});}_S3 __C=(_S3){.t=1};if(_e3(__2,__3,(_z2){.t=23})){_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'else' keyword");_K3 __D=_a3(__1,__2,__3,1);__C=(_S3){.t=0,.u={.Some={.thing=(_N3){.body=__9,},}}};}(__6.kind)=(_O3){.t=23,.u={.If={._if=__A,._elif=__B,._else=__C,}}};}else if(__7.kind.t==24){(*__3)+=1;_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'loop' keyword");_K3 __8=_a3(__1,__2,__3,1);(__6.kind)=(_O3){.t=24,.u={.Loop={.body=__8,}}};}else if(__7.kind.t==25){(*__3)+=1;_J3* __8=_i3(_b3(__1,__2,__3,0,0));_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'while' condition");_K3 __9=_a3(__1,__2,__3,1);(__6.kind)=(_O3){.t=25,.u={.While={.cond=__8,.body=__9,}}};}else if(__7.kind.t==26){(*__3)+=1;_i2 __8=_d3(__1,__2,__3,(_z2){.t=2},"expected 'for' iterator name").value;_Q3 __9=(_Q3){.t=1};if(_e3(__2,__3,(_z2){.t=52})){__9=(_Q3){.t=0,.u={.Some={.thing=_i3(_b3(__1,__2,__3,0,0)),}}};}_d3(__1,__2,__3,(_z2){.t=39},"expected a ',' after 'for' iterator name");_J3* __A=_i3(_b3(__1,__2,__3,0,0));_d3(__1,__2,__3,(_z2){.t=39},"expected a ',' after 'for' condition");_J3* __B=_i3(_b3(__1,__2,__3,0,0));_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'for' next");_K3 __C=_a3(__1,__2,__3,1);(__6.kind)=(_O3){.t=26,.u={.For={.iter=__8,.iter_value=__9,.cond=__A,._next=__B,.body=__C,}}};}else if(__7.kind.t==27){(*__3)+=1;_T3 __8=_l3(2);while(_e3(__2,__3,(_z2){.t=2})){_m3((&__8),((__2.buf)[((*__3)-1)]).value);_e3(__2,__3,(_z2){.t=39});}if((__8.len)==0){_x2((&__1),((__2.buf)[((*__3)-1)]).index,"expected sex");}_d3(__1,__2,__3,(_z2){.t=28},"expected 'in' keyword after 'each' variables");_J3* __9=_i3(_b3(__1,__2,__3,0,0));_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'each' iterator");_K3 __A=_a3(__1,__2,__3,1);(__6.kind)=(_O3){.t=27,.u={.Each={.vars=__8,.iter=__9,.body=__A,}}};}else if(__7.kind.t==29){(*__3)+=1;_J3* __8=_i3(_b3(__1,__2,__3,0,0));_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'match' value");_K3 __9=_X3(4);for(;;){if(_e3(__2,__3,(_z2){.t=47})){(__6.kind)=(_O3){.t=28,.u={.Match={.value=__8,.cases=__9,}}};goto ret_l;}_K3 __A=_X3(2);for(;;){if(_e3(__2,__3,(_z2){.t=46})){goto b;}_Y3((&__A),_b3(__1,__2,__3,0,0));if(_e3(__2,__3,(_z2){.t=39})==0){goto ret_llll;}llll:}ret_llll:_d3(__1,__2,__3,(_z2){.t=46},"expected '{' after 'match' case value");while(0){b:}ret_b:_K3 __B=_a3(__1,__2,__3,1);_Y3((&__9),(_J3){.kind=(_O3){.t=29,.u={.Case={.values=__A,.body=__B,}}},.tags=(_V3){.len=0,},.label=(_U3){.t=1},});if(_e3(__2,__3,(_z2){.t=39})==0){goto ret_lll;}lll:}ret_lll:_d3(__1,__2,__3,(_z2){.t=47},"expected '}' after 'match' body");(__6.kind)=(_O3){.t=28,.u={.Match={.value=__8,.cases=__9,}}};}else if(__7.kind.t==30){(*__3)+=1;_J3* __8=_i3(_b3(__1,__2,__3,0,0));(__6.kind)=(_O3){.t=30,.u={.Echo={.value=__8,}}};}else if(__7.kind.t==31){(*__3)+=1;_U3 __8=_f3(__1,__2,__3,1);_J3 __9=_b3(__1,__2,__3,0,1);if(__9.kind.t==0){(__6.kind)=(_O3){.t=31,.u={.Ret={.label=__8,.value=(_Q3){.t=1},}}};}else if(1){(__6.kind)=(_O3){.t=31,.u={.Ret={.label=__8,.value=(_Q3){.t=0,.u={.Some={.thing=_i3(__9),}}},}}};}}else if(__7.kind.t==32){(*__3)+=1;_U3 __8=_f3(__1,__2,__3,0);(__6.kind)=(_O3){.t=32,.u={.Next={.label=_n3((&__8)),}}};}else if(__7.kind.t==33){(*__3)+=1;_U3 __8=_f3(__1,__2,__3,0);(__6.kind)=(_O3){.t=33,.u={.Jump={.label=_n3((&__8)),}}};}else if(__7.kind.t==34){(*__3)+=1;_U3 __8=_f3(__1,__2,__3,1);_J3* __9=_i3(_b3(__1,__2,__3,0,0));(__6.kind)=(_O3){.t=34,.u={.Try={.label=__8,.value=__9,}}};}else if(1){if(__5){(__6.kind)=(_O3){.t=0};return __6;}else{_x2((&__1),__7.index,"expected a local expression");}}ret_l:for(;;){int __8=0;__7=((__2.buf)[(*__3)]);if(__7.kind.t==41){(*__3)+=1;_J3 __9=_b3(__1,__2,__3,0,0);_d3(__1,__2,__3,(_z2){.t=39},"expected ',' after smth");_J3 __A=_b3(__1,__2,__3,0,0);__6=(_J3){.kind=(_O3){.t=37,.u={.TernaryOp={.cond=_i3(__6),.valueA=_i3(__9),.valueB=_i3(__A),}}},.tags=(_V3){.len=0,},.label=(_U3){.t=1},};goto ret_o;}else if(__7.kind.t==52||__7.kind.t==63||__7.kind.t==65||__7.kind.t==67||__7.kind.t==69||__7.kind.t==71){__8=7;}else if(__7.kind.t==35){__8=6;}else if(__7.kind.t==58||__7.kind.t==56||__7.kind.t==57||__7.kind.t==59||__7.kind.t==60||__7.kind.t==61||__7.kind.t==53||__7.kind.t==55){__8=5;}else if(__7.kind.t==62||__7.kind.t==64){__8=4;}else if(__7.kind.t==66||__7.kind.t==68||__7.kind.t==70){__8=3;}else if(__7.kind.t==54||__7.kind.t==50||__7.kind.t==51){__8=2;}else if(__7.kind.t==48){if(__4==1){goto ret_o;}(*__3)+=1;goto e;}else if(__7.kind.t==40){__8=1;}if(__8==2){if((__4==0)||(__8<__4)){(*__3)+=1;__6=(_J3){.kind=(_O3){.t=35,.u={.UnaryOp={.value=_i3(__6),.kind=__7.kind,}}},.tags=(_V3){.len=0,},.label=(_U3){.t=1},};goto o;}goto ret_o;}if((__8==0)||(((__4!=0)&&(__4!=6))&&(__8>=__4))){goto ret_o;}(*__3)+=1;while(0){e:}ret_e:(__6.kind)=(_O3){.t=36,.u={.BinaryOp={.lhs=_i3(__6),.rhs=_i3(_b3(__1,__2,__3,__8,0)),.kind=__7.kind,}}};if(__7.kind.t==48){_d3(__1,__2,__3,(_z2){.t=49},"expected ']' after '['");}else if(__7.kind.t==62){if(__6.kind.t==36){_J3* __9=__6.kind.u.BinaryOp.lhs;_J3* __A=__6.kind.u.BinaryOp.rhs;if((*__9).kind.t==15){_i2 __B=(*__9).kind.u.StringLit.value;if((*__A).kind.t==15){_i2 __C=(*__A).kind.u.StringLit.value;_m2 __D=_l2((&__B));_r2((&__D),__C);free(__C.buf);(__6.kind)=(_O3){.t=15,.u={.StringLit={.value=_u2((&__D)),}}};}}}}o:}ret_o:return __6;};_J3 _Z3(_w2 __1,_83 __2,int* __3){_J3 __4;(__4.label)=_f3(__1,__2,__3,1);(__4.tags)=_g3(__1,__2,__3);_23 __5=(__2.buf)[(*__3)];if(__5.kind.t==11){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);_d3(__1,__2,__3,(_z2){.t=44},"expected '(' after 'tag' path");_K3 __7=_o3(__1,__2,__3);_K3 __8;if(_e3(__2,__3,(_z2){.t=46})){__8=_a3(__1,__2,__3,1);}else{(__8.len)=0;}(__4.kind)=(_O3){.t=1,.u={.TagDef={.path=__6,.args=__7,.body=__8,}}};}else if(__5.kind.t==46){(*__3)+=1;(__4.kind)=(_O3){.t=2,.u={.Block={.body=_a3(__1,__2,__3,0),}}};}else if(__5.kind.t==12){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);_K3 __7;if(_e3(__2,__3,(_z2){.t=46})){__7=_a3(__1,__2,__3,0);}else{(__7.len)=0;}(__4.kind)=(_O3){.t=3,.u={.Mod={.path=__6,.body=__7,}}};}else if(__5.kind.t==13){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);(__4.kind)=(_O3){.t=4,.u={.Use={.path=__6,}}};}else if(__5.kind.t==14){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);_d3(__1,__2,__3,(_z2){.t=44},"expected '(' after 'comp' path");_K3 __7=_o3(__1,__2,__3);_K3 __8;if(_e3(__2,__3,(_z2){.t=46})){__8=_a3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_O3){.t=6,.u={.Comp={.path=__6,.fields=__7,.body=__8,}}};}else if(__5.kind.t==15){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);_d3(__1,__2,__3,(_z2){.t=44},"expected '(' after 'enum' path");_K3 __7=_c3(__1,__2,__3,0);_K3 __8;if(_e3(__2,__3,(_z2){.t=46})){__8=_a3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_O3){.t=7,.u={.Enum={.path=__6,.opts=__7,.body=__8,}}};}else if(__5.kind.t==16){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);_K3 __7;if(_e3(__2,__3,(_z2){.t=46})){__7=_a3(__1,__2,__3,0);}else{(__7.len)=0;}(__4.kind)=(_O3){.t=8,.u={.Prop={.path=__6,.body=__7,}}};}else if(__5.kind.t==17){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);_P3 __7=(_P3){.t=1};if(_e3(__2,__3,(_z2){.t=39})){__7=(_P3){.t=0,.u={.Some={.thing=_h3(__1,__2,__3),}}};}_K3 __8;if(_e3(__2,__3,(_z2){.t=46})){__8=_a3(__1,__2,__3,0);}else{(__8.len)=0;}(__4.kind)=(_O3){.t=9,.u={.Def={._prop=__6,.target=__7,.body=__8,}}};}else if(__5.kind.t==18){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);_d3(__1,__2,__3,(_z2){.t=44},"expected '(' after 'sub' path");_K3 __7=_o3(__1,__2,__3);_K3 __8;if(_e3(__2,__3,(_z2){.t=46})){__8=_a3(__1,__2,__3,1);}else{(__8.len)=0;}(__4.kind)=(_O3){.t=10,.u={.SubDef={.ret_type=(_P3){.t=1},.path=__6,.args=__7,.body=__8,}}};}else if(__5.kind.t==19){(*__3)+=1;_C3 __6=_h3(__1,__2,__3);_Q3 __7=(_Q3){.t=1};if(_e3(__2,__3,(_z2){.t=52})){__7=(_Q3){.t=0,.u={.Some={.thing=_i3(_b3(__1,__2,__3,0,0)),}}};}(__4.kind)=(_O3){.t=11,.u={.VarDef={._type=(_P3){.t=1},.path=__6,.value=__7,}}};}else if(__5.kind.t==2){int __6=(*__3);_C3 __7=_h3(__1,__2,__3);if(((__2.buf)[(*__3)]).kind.t==2){_C3 __8=_h3(__1,__2,__3);__5=((__2.buf)[(*__3)]);if(__5.kind.t==44){(*__3)+=1;_K3 __9=_o3(__1,__2,__3);_K3 __A;if(_e3(__2,__3,(_z2){.t=46})){__A=_a3(__1,__2,__3,1);}else{(__A.len)=0;}(__4.kind)=(_O3){.t=10,.u={.SubDef={.ret_type=(_P3){.t=0,.u={.Some={.thing=__7,}}},.path=__8,.args=__9,.body=__A,}}};}else if(1){_Q3 __9=(_Q3){.t=1};if(_e3(__2,__3,(_z2){.t=52})){__9=(_Q3){.t=0,.u={.Some={.thing=_i3(_b3(__1,__2,__3,0,0)),}}};}(__4.kind)=(_O3){.t=11,.u={.VarDef={._type=(_P3){.t=0,.u={.Some={.thing=__7,}}},.path=__8,.value=__9,}}};}}else if(1){(*__3)=__6;__4=_b3(__1,__2,__3,0,1);if(((__4.kind).t)==0){_x2((&__1),__5.index,"expected a expression");}}}else if(1){__4=_b3(__1,__2,__3,0,1);if(((__4.kind).t)==0){_x2((&__1),__5.index,"expected a expression");}}return __4;};_U3 _f3(_w2 __1,_83 __2,int* __3,uint8_t __4){if(__4&&(_e3(__2,__3,(_z2){.t=42})==0)){return (_U3){.t=1};}else if(__4==0){_d3(__1,__2,__3,(_z2){.t=42},"expected a label");}return (_U3){.t=0,.u={.Some={.thing=_d3(__1,__2,__3,(_z2){.t=2},"expected identifier after label declaration").value,}}};};_V3 _p3(int __5){return (_V3){.buf=malloc(sizeof(_I3)*__5),.len=0,.cap=__5,};};void _q3(_V3* this,_I3 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_I3)*((*this).cap));}};_V3 _g3(_w2 __1,_83 __2,int* __3){_V3 __4=_p3(2);for(;;){if(((__2.buf)[(*__3)]).kind.t==43){int __5=((__2.buf)[(*__3)]).index;_23 __6=(__2.buf)[((*__3)+=1)];if(__6.kind.t==2){_C3 __7=_h3(__1,__2,__3);_K3 __8=_X3(2);__6=((__2.buf)[(*__3)]);if(__6.kind.t==44){(*__3)+=1;for(;;){__6=((__2.buf)[(*__3)]);if(_e3(__2,__3,(_z2){.t=45})){goto ret_ll;}_Y3((&__8),_b3(__1,__2,__3,0,0));if(_e3(__2,__3,(_z2){.t=39})){goto ll;}else{_d3(__1,__2,__3,(_z2){.t=45},"expected ')' after last tag arg");goto ret_ll;}ll:}ret_ll:}_q3((&__4),(_I3){.path=__7,.args=__8,.index=__5,});goto l;}else if(1){_x2((&__1),__6.index,"expected a path after tag declaration");}}else if(1){goto ret_l;}l:}ret_l:return __4;};_C3 _h3(_w2 __1,_83 __2,int* __3){if(((__2.buf)[(*__3)]).kind.t==2){return _r3(__1,__2,__3);}else if(1){_x2((&__1),((__2.buf)[(*__3)]).index,"expected a path");}};_H3 _s3(int __9){return (_H3){.buf=malloc(sizeof(_C3)*__9),.len=0,.cap=__9,};};void _t3(_H3* this,_C3 __B){(((*this).buf)[((*this).len)])=__B;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_C3)*((*this).cap));}};void _u3(_E3* this,_D3 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_D3)*((*this).cap));}};_C3 _r3(_w2 __1,_83 __2,int* __3){int __4=(*__3);_E3 __5=_G3(2);uint8_t __6=0;for(;;){_23 __7=(__2.buf)[(*__3)];if(__6){if(__7.kind.t==38){__6=0;}else if(1){goto ret_l;}}else{if(__7.kind.t==2){_D3 __8=(_D3){.name=__7.value,.gens=_s3(2),};if(((__2.buf)[((*__3)+1)]).kind.t==58){int __9=(*__3);(*__3)+=2;for(;;){__7=((__2.buf)[(*__3)]);if(__7.kind.t==60){goto ret_ll;}_C3 __A=_r3(__1,__2,__3);if(((__A.parts).len)==0){(*__3)=__9;((__8.gens).len)=0;goto ret_ll;}_t3((&(__8.gens)),__A);_e3(__2,__3,(_z2){.t=39});ll:}ret_ll:}_u3((&__5),__8);__6=1;}else if(1){if((__5.len)>0){_x2((&__1),__7.index,"expected identifier after ':'");}else{goto ret_l;}}}(*__3)+=1;l:}ret_l:return (_C3){.parts=__5,.index=((__2.buf)[__4]).index,};};_K3 _o3(_w2 __1,_83 __2,int* __3){_K3 __4=_X3(2);for(;;){if(_e3(__2,__3,(_z2){.t=45})){return __4;}_J3 __5=(_J3){.kind=(_O3){.t=5,.u={.Field={._type=_h3(__1,__2,__3),.name=_d3(__1,__2,__3,(_z2){.t=2},"expected field name in 'comp' definition").value,}}},.tags=(_V3){.len=0,},.label=(_U3){.t=1},};_Y3((&__4),__5);if(_e3(__2,__3,(_z2){.t=39})==0){goto ret_l;}l:}ret_l:_d3(__1,__2,__3,(_z2){.t=45},"expected ')' after last field");return __4;};void _v3(_K3 __1){printf("Exprs:");_w3(__1,0);putchar('\n');};void _w3(_K3 __1,int __2){for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_x3(__2);_y3((__1.buf)[__3],__2);}putchar('\n');};void _z3(_K3 __1,int __2,uint8_t* __3,uint8_t __4){if((__1.len)>0){if(__4){printf(", ");}printf("%s = [",__3);_w3(__1,__2+1);_x3(__2);putchar(']');}};void _y3(_J3 __1,int __2){_g2((_f2){.t=1});printf("%s",_04(__1.kind));_h2();putchar('(');if(__1.label.t==0){_i2 __3=__1.label.u.Some.thing;printf("label = %s, ",__3.buf);}_14(__1.tags,__2);if(((__1.tags).len)!=0){printf(", ");}if(__1.kind.t==1){_C3 __3=__1.kind.u.TagDef.path;_K3 __4=__1.kind.u.TagDef.args;_K3 __5=__1.kind.u.TagDef.body;printf("path = ");_24(__3,__2);_z3(__4,__2,"args",1);_z3(__5,__2,"body",1);}else if(__1.kind.t==2){_K3 __3=__1.kind.u.Block.body;_z3(__3,__2,"body",0);}else if(__1.kind.t==3){_C3 __3=__1.kind.u.Mod.path;_K3 __4=__1.kind.u.Mod.body;printf("path = ");_24(__3,__2);_z3(__4,__2,"body",1);}else if(__1.kind.t==4){_C3 __3=__1.kind.u.Use.path;printf("path = ");_24(__3,__2);}else if(__1.kind.t==5){_C3 __3=__1.kind.u.Field._type;_i2 __4=__1.kind.u.Field.name;printf("type = ");_24(__3,__2);printf(", name = %s",__4.buf);}else if(__1.kind.t==6){_C3 __3=__1.kind.u.Comp.path;_K3 __4=__1.kind.u.Comp.fields;_K3 __5=__1.kind.u.Comp.body;printf("path = ");_24(__3,__2);_z3(__4,__2,"fields",1);_z3(__5,__2,"body",1);}else if(__1.kind.t==7){_C3 __3=__1.kind.u.Enum.path;_K3 __4=__1.kind.u.Enum.opts;_K3 __5=__1.kind.u.Enum.body;printf("path = ");_24(__3,__2);_z3(__4,__2,"opts",1);_z3(__5,__2,"body",1);}else if(__1.kind.t==8){_C3 __3=__1.kind.u.Prop.path;_K3 __4=__1.kind.u.Prop.body;printf("path = ");_24(__3,__2);_z3(__4,__2,"body",1);}else if(__1.kind.t==9){_C3 __3=__1.kind.u.Def._prop;_P3 __4=__1.kind.u.Def.target;_K3 __5=__1.kind.u.Def.body;printf("prop = ");_24(__3,__2);if(__4.t==0){_C3 __6=__4.u.Some.thing;printf(", target = ");_24(__6,__2);}_z3(__5,__2,"body",1);}else if(__1.kind.t==10){_P3 __3=__1.kind.u.SubDef.ret_type;_C3 __4=__1.kind.u.SubDef.path;_K3 __5=__1.kind.u.SubDef.args;_K3 __6=__1.kind.u.SubDef.body;if(__3.t==0){_C3 __7=__3.u.Some.thing;printf("ret_type = ");_24(__7,__2);printf(", ");}printf("path = ");_24(__4,__2);_z3(__5,__2,"args",1);_z3(__6,__2,"body",1);}else if(__1.kind.t==11){_P3 __3=__1.kind.u.VarDef._type;_C3 __4=__1.kind.u.VarDef.path;_Q3 __5=__1.kind.u.VarDef.value;if(__3.t==0){_C3 __6=__3.u.Some.thing;printf("type = ");_24(__6,__2);printf(", ");}printf("path = ");_24(__4,__2);if(__5.t==0){_J3* __6=__5.u.Some.thing;printf(", value = ");_y3((*__6),__2);}}else if(__1.kind.t==12){_P3 __3=__1.kind.u.LocalVarDef._type;_i2 __4=__1.kind.u.LocalVarDef.name;_Q3 __5=__1.kind.u.LocalVarDef.value;if(__3.t==0){_C3 __6=__3.u.Some.thing;printf("type = ");_24(__6,__2);printf(", ");}printf("name = %s",__4);if(__5.t==0){_J3* __6=__5.u.Some.thing;printf(", value = ");_y3((*__6),__2);}}else if(__1.kind.t==13){_C3 __3=__1.kind.u.SubCall.path;_K3 __4=__1.kind.u.SubCall.args;printf("path = ");_24(__3,__2);_z3(__4,__2,"args",1);}else if(__1.kind.t==14){_C3 __3=__1.kind.u.VarUse.path;printf("path = ");_24(__3,__2);}else if(__1.kind.t==15){_i2 __3=__1.kind.u.StringLit.value;printf("%s",__3);}else if(__1.kind.t==16){_i2 __3=__1.kind.u.CharLit.value;printf("%s",__3);}else if(__1.kind.t==17){_i2 __3=__1.kind.u.IntLit.value;printf("%s",__3);}else if(__1.kind.t==18){_i2 __3=__1.kind.u.FloatLit.value;printf("%s",__3);}else if(__1.kind.t==19){uint8_t __3=__1.kind.u.BoolLit.value;if(__3){printf("true");}else{printf("false");}}else if(__1.kind.t==20){}else if(__1.kind.t==21){}else if(__1.kind.t==22){_K3 __3=__1.kind.u.LocalBlock.body;_z3(__3,__2,"body",0);}else if(__1.kind.t==23){_M3 __3=__1.kind.u.If._if;_R3 __4=__1.kind.u.If._elif;_S3 __5=__1.kind.u.If._else;printf("if = ");_34(__3,__2);_44(__4,__2);if(__5.t==0){_N3 __6=__5.u.Some.thing;printf(", else = ");_54(__6,__2);}}else if(__1.kind.t==24){_K3 __3=__1.kind.u.Loop.body;_z3(__3,__2,"body",0);}else if(__1.kind.t==25){_J3* __3=__1.kind.u.While.cond;_K3 __4=__1.kind.u.While.body;_y3((*__3),__2);_z3(__4,__2,"body",1);}else if(__1.kind.t==26){_i2 __3=__1.kind.u.For.iter;_Q3 __4=__1.kind.u.For.iter_value;_J3* __5=__1.kind.u.For.cond;_J3* __6=__1.kind.u.For._next;_K3 __7=__1.kind.u.For.body;printf("iter = %s",__3);if(__4.t==0){_J3* __8=__4.u.Some.thing;printf(", iter_value = ");_y3((*__8),__2);}printf(", cond = ");_y3((*__5),__2);printf(", next = ");_y3((*__6),__2);_z3(__7,__2,"body",1);}else if(__1.kind.t==27){_T3 __3=__1.kind.u.Each.vars;_J3* __4=__1.kind.u.Each.iter;_K3 __5=__1.kind.u.Each.body;printf("vars = [");for(int __6=0;__6<(__3.len);__6+=1){if(__6!=0){printf(", ");}printf("%s",(__3.buf)[__6]);}printf("], iter = ");_y3((*__4),__2);_z3(__5,__2,"body",1);}else if(__1.kind.t==28){_J3* __3=__1.kind.u.Match.value;_K3 __4=__1.kind.u.Match.cases;printf("value = ");_y3((*__3),__2);_z3(__4,__2,"cases",1);}else if(__1.kind.t==29){_K3 __3=__1.kind.u.Case.values;_K3 __4=__1.kind.u.Case.body;_z3(__3,__2,"values",0);_z3(__4,__2,"body",1);}else if(__1.kind.t==30){_J3* __3=__1.kind.u.Echo.value;printf("value = ");_y3((*__3),__2);}else if(__1.kind.t==31){_U3 __3=__1.kind.u.Ret.label;_Q3 __4=__1.kind.u.Ret.value;if(__3.t==0){_i2 __5=__3.u.Some.thing;printf("label = %s",__5.buf);}if(__4.t==0){_J3* __5=__4.u.Some.thing;printf(", value = ");_y3((*__5),__2);}}else if(__1.kind.t==32){_i2 __3=__1.kind.u.Next.label;printf("label = %s, ",__3.buf);}else if(__1.kind.t==33){_i2 __3=__1.kind.u.Jump.label;printf("label = %s, ",__3.buf);}else if(__1.kind.t==34){_U3 __3=__1.kind.u.Try.label;_J3* __4=__1.kind.u.Try.value;if(__3.t==0){_i2 __5=__3.u.Some.thing;printf("label = %s, ",__5.buf);}printf("value = ");_y3((*__4),__2);}else if(__1.kind.t==35){_J3* __3=__1.kind.u.UnaryOp.value;_z2 __4=__1.kind.u.UnaryOp.kind;_y3((*__3),__2);}else if(__1.kind.t==36){_J3* __3=__1.kind.u.BinaryOp.lhs;_J3* __4=__1.kind.u.BinaryOp.rhs;_z2 __5=__1.kind.u.BinaryOp.kind;printf("lhs = ");_y3((*__3),__2);printf(", rhs = ");_y3((*__4),__2);}else if(__1.kind.t==37){_J3* __3=__1.kind.u.TernaryOp.cond;_J3* __4=__1.kind.u.TernaryOp.valueA;_J3* __5=__1.kind.u.TernaryOp.valueB;printf("cond = ");_y3((*__3),__2);printf(", valueA = ");_y3((*__4),__2);printf(", valueB = ");_y3((*__5),__2);}putchar(')');};void _24(_C3 __1,int __2){_g2((_f2){.t=1});printf("PATH");_h2();putchar('(');for(int __3=0;__3<((__1.parts).len);__3+=1){_D3 __4=((__1.parts).buf)[__3];if(__3!=0){printf(", ");}printf("pub = %i, scope = %i, name = %s",__4.pub,__4.scope,(__4.name).buf);if(((__4.gens).len)>0){printf(", gens = [");for(int __5=0;__5<((__4.gens).len);__5+=1){putchar('\n');_x3(__2+1);_24(((__4.gens).buf)[__5],__2+1);}putchar('\n');_x3(__2);putchar(']');}}putchar(')');};void _14(_V3 __1,int __2){if((__1.len)>0){printf("tags = [");for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_x3(__2+1);_g2((_f2){.t=1});printf("TAG");_h2();printf("(path = ");_24(((__1.buf)[__3]).path,__2+1);_z3(((__1.buf)[__3]).args,__2+1,"args",1);putchar(')');}putchar('\n');_x3(__2);putchar(']');}};void _34(_M3 __1,int __2){_g2((_f2){.t=1});printf("IF_BRANCH");_h2();printf("(cond = ");_y3((*(__1.cond)),__2);_z3(__1.body,__2,"body",1);};void _44(_R3 __1,int __2){if((__1.len)>0){printf(", elif = [");for(int __3=0;__3<(__1.len);__3+=1){putchar('\n');_x3(__2+1);_34((__1.buf)[__3],__2+1);}putchar('\n');_x3(__2);putchar(']');}};void _54(_N3 __1,int __2){_g2((_f2){.t=1});printf("ELSE_BRANCH");_h2();putchar('(');_z3(__1.body,__2,"body",0);putchar(')');};uint8_t* _04(_O3 __1){if(__1.t==1){return "TAG_DEF";}else if(__1.t==2){return "BLOCK";}else if(__1.t==3){return "MOD";}else if(__1.t==4){return "USE";}else if(__1.t==5){return "FIELD";}else if(__1.t==6){return "COMP";}else if(__1.t==7){return "ENUM";}else if(__1.t==8){return "PROP";}else if(__1.t==9){return "DEF";}else if(__1.t==10){return "SUB_DEF";}else if(__1.t==11){return "VAR_DEF";}else if(__1.t==12){return "LOCAL_VAR_DEF";}else if(__1.t==13){return "SUB_CALL";}else if(__1.t==14){return "VAR_USE";}else if(__1.t==15){return "STRING_LIT";}else if(__1.t==16){return "CHAR_LIT";}else if(__1.t==17){return "INT_LIT";}else if(__1.t==18){return "FLOAT_LIT";}else if(__1.t==19){return "BOOL_LIT";}else if(__1.t==20){return "THIS_LIT";}else if(__1.t==21){return "TYPE_LIT";}else if(__1.t==22){return "LOCAL_BLOCK";}else if(__1.t==23){return "IF";}else if(__1.t==24){return "LOOP";}else if(__1.t==25){return "WHILE";}else if(__1.t==26){return "FOR";}else if(__1.t==27){return "EACH";}else if(__1.t==28){return "MATCH";}else if(__1.t==29){return "CASE";}else if(__1.t==30){return "ECHO";}else if(__1.t==31){return "RET";}else if(__1.t==32){return "NEXT";}else if(__1.t==33){return "JUMP";}else if(__1.t==34){return "TRY";}else if(__1.t==35){return "UNARY_OP";}else if(__1.t==36){return "BINARY_OP";}else if(__1.t==37){return "TERNARY_OP";}};void _x3(int __1){for(int __2=0;__2<=__1;__2+=1){printf("  ");}};_A4 _D4(int __1){return (_A4){.buf=malloc(sizeof(_94)*__1),.len=0,.cap=__1,};};_B4 _E4(int __1){return (_B4){.buf=malloc(sizeof(_74)*__1),.len=0,.cap=__1,};};void _C4(){_j1=1;_k1=0;_l1=_D4(4);_m1=_E4(4);_n1=_X3(4);_o1=_G3(4);_u3((&_o1),(_D3){.pub=1,.name=_k2("p"),});};void _F4(_w2 __1,_K3 __2){int __3=_j1+=1;for(int __4=0;__4<(__2.len);__4+=1){_G4(__1,(&((__2.buf)[__4])),__3);}};void _K4(_E3* this,_E3 __A){if((__A.len)==0){return;}int __B=(*this).len;((*this).len)+=(__A.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_D3)*((*this).cap));}memcpy(((*this).buf)+__B,__A.buf,sizeof(_D3)*(__A.len));};void _L4(_E3* this,_E3 __B){if((__B.len)==0){return;}int __C=(*this).len;((*this).len)+=(__B.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_D3)*((*this).cap));}memmove(((*this).buf)+(__B.len),(*this).buf,sizeof(_D3)*__C);memcpy((*this).buf,__B.buf,sizeof(_D3)*(__B.len));};void _M4(_B4* this,_74 __B){(((*this).buf)[((*this).len)])=__B;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_74)*((*this).cap));}};void _G4(_w2 __1,_J3* __2,int __3){_H4 __4=(_H4){.t=1};_H4 __5=(_H4){.t=1};for(int __6=0;__6<(((*__2).tags).len);__6+=1){_I3 __7=(((*__2).tags).buf)[__6];if(_I4(__7.path,"pub")){if((__4.t)!=1){_x2((&__1),__7.index,"only one #pub is allowed per path");}__4=(_H4){.t=0,.u={.Some={.thing=__7,}}};}else if(_I4(__7.path,"bind")){if((__5.t)!=1){_x2((&__1),__7.index,"only one #bind is allowed per path");}__5=(_H4){.t=0,.u={.Some={.thing=__7,}}};}}_C3* __6;if((*__2).kind.t==2){_K3 __7=(*__2).kind.u.Block.body;_F4(__1,__7);return;}else if((*__2).kind.t==3){_C3* __7=&((*__2).kind.u.Mod.path);_K3 __8=(*__2).kind.u.Mod.body;_J4(__4,(*__7),__3);_E3 __9=_F3((&(_C3){.parts=_o1,})).parts;_K4((&_o1),(*__7).parts);_C3 __A=_F3(__7);_L4((&((*__7).parts)),__9);_F4(__1,__8);(_o1.len)=(__9.len);_M4((&_m1),(_74){.is_mod=1,.path=_F3(__7),.alias=__A,});__6=__7;}else if((*__2).kind.t==4){_C3 __7=(*__2).kind.u.Use.path;_C3 __8=(_C3){.parts=_G3(1),.index=__7.index,};_u3((&(__8.parts)),((__7.parts).buf)[(((__7.parts).len)-1)]);if(_N4(__7,__8,0)==0){_M4((&_m1),(_74){.is_mod=0,.path=_F3((&__7)),.alias=_F3((&__8)),});}return;}else if((*__2).kind.t==6){_C3* __7=&((*__2).kind.u.Comp.path);_J4(__4,(*__7),__3);_C3 __8=_F3(__7);_L4((&((*__7).parts)),_o1);_M4((&_m1),(_74){.is_mod=0,.path=_F3(__7),.alias=__8,});__6=__7;}else if((*__2).kind.t==7){_C3* __7=&((*__2).kind.u.Enum.path);_J4(__4,(*__7),__3);_C3 __8=_F3(__7);_L4((&((*__7).parts)),_o1);_M4((&_m1),(_74){.is_mod=0,.path=_F3(__7),.alias=__8,});__6=__7;}else if((*__2).kind.t==9){_C3 __7=(*__2).kind.u.Def._prop;_K3 __8=(*__2).kind.u.Def.body;_J4(__4,__7,__3);int __9=_o1.len;_K4((&_o1),__7.parts);_F4(__1,__8);(_o1.len)=__9;}else if((*__2).kind.t==10){_C3* __7=&((*__2).kind.u.SubDef.path);_J4(__4,(*__7),__3);_C3 __8=_F3(__7);_L4((&((*__7).parts)),_o1);_M4((&_m1),(_74){.is_mod=0,.path=_F3(__7),.alias=__8,});__6=__7;}else if((*__2).kind.t==11){_P3 __7=(*__2).kind.u.VarDef._type;_C3* __8=&((*__2).kind.u.VarDef.path);_J4(__4,(*__8),__3);_C3 __9=_F3(__8);_L4((&((*__8).parts)),_o1);_M4((&_m1),(_74){.is_mod=0,.path=_F3(__8),.alias=__9,});__6=__8;}else if(1){return;}if(__4.t==0){_I3 __7=__4.u.Some.thing;if((*__2).kind.t==3||(*__2).kind.t==6||(*__2).kind.t==7||(*__2).kind.t==9||(*__2).kind.t==10||(*__2).kind.t==11){}else if(1){_x2((&__1),__7.index,"#pub cannot be applied to this expr");}}uint8_t __7=_O4((*__6));if(__5.t==0){_I3 __8=__5.u.Some.thing;if((*__2).kind.t==6||(*__2).kind.t==7||(*__2).kind.t==10||(*__2).kind.t==11){if(__7){_x2((&__1),__8.index,"#bind cannot be applied to generic expressions");}}else if(1){_x2((&__1),__8.index,"#bind cannot be applied to this expression");}}if((*__2).kind.t==6||(*__2).kind.t==7||(*__2).kind.t==10||(*__2).kind.t==11){if((((*__6).parts).len)<=(_l1.len)){if(_P4((*__6))){_x2((&__1),(*__6).index,"path already defined");}}if(__5.t==0){_I3 __8=__5.u.Some.thing;if((*__2).kind.t==6||(*__2).kind.t==7||(*__2).kind.t==10||(*__2).kind.t==11){if(((__8.args).len)!=1){_x2((&__1),__8.index,"#bind requires one argument of type string");}if((((__8.args).buf)[0]).kind.t==15){_i2 __9=(((__8.args).buf)[0]).kind.u.StringLit.value;_Q4((*__2),(*__6),__9);}else if(1){_x2((&__1),__8.index,"#bind requires one argument of type string");}}}else if(__5.t==1){_R4((*__2),(*__6),0);}}};void _S4(_w2 __1,_K3 __2){for(int __3=0;__3<(__2.len);__3+=1){_T4(__1,(&((__2.buf)[__3])));}};void _T4(_w2 __1,_J3* __2){if((*__2).kind.t==2){_K3 __3=(*__2).kind.u.Block.body;_S4(__1,__3);}else if((*__2).kind.t==3){_C3 __3=(*__2).kind.u.Mod.path;_K3 __4=(*__2).kind.u.Mod.body;(_o1.len)=0;_K4((&_o1),__3.parts);_S4(__1,__4);(_o1.len)=0;}else if((*__2).kind.t==4){_C3* __3=&((*__2).kind.u.Use.path);_U4(__3);_V4(__1,(*__3),(_84){.t=3});}else if((*__2).kind.t==5){_C3* __3=&((*__2).kind.u.Field._type);_i2 __4=(*__2).kind.u.Field.name;_U4(__3);_V4(__1,(*__3),(_84){.t=1});}else if((*__2).kind.t==6){_C3 __3=(*__2).kind.u.Comp.path;_K3 __4=(*__2).kind.u.Comp.fields;_K3 __5=(*__2).kind.u.Comp.body;_S4(__1,__4);_S4(__1,__5);}else if((*__2).kind.t==7){_C3 __3=(*__2).kind.u.Enum.path;_K3 __4=(*__2).kind.u.Enum.opts;_K3 __5=(*__2).kind.u.Enum.body;_S4(__1,__5);}else if((*__2).kind.t==8){_C3 __3=(*__2).kind.u.Prop.path;_K3 __4=(*__2).kind.u.Prop.body;_S4(__1,__4);}else if((*__2).kind.t==9){_C3* __3=&((*__2).kind.u.Def._prop);_P3* __4=&((*__2).kind.u.Def.target);_K3 __5=(*__2).kind.u.Def.body;_U4(__3);_V4(__1,(*__3),(_84){.t=1});if((*__4).t==0){_C3* __6=&((*__4).u.Some.thing);_U4(__6);_V4(__1,(*__6),(_84){.t=1});}_S4(__1,__5);}else if((*__2).kind.t==10){_P3 __3=(*__2).kind.u.SubDef.ret_type;_C3 __4=(*__2).kind.u.SubDef.path;_K3 __5=(*__2).kind.u.SubDef.args;_K3 __6=(*__2).kind.u.SubDef.body;if(__3.t==0){_C3* __7=&(__3.u.Some.thing);_U4(__7);_V4(__1,(*__7),(_84){.t=1});}_S4(__1,__5);_S4(__1,__6);}else if((*__2).kind.t==11){_P3* __3=&((*__2).kind.u.VarDef._type);_C3 __4=(*__2).kind.u.VarDef.path;_Q3* __5=&((*__2).kind.u.VarDef.value);if((*__3).t==0){_C3* __6=&((*__3).u.Some.thing);_U4(__6);_V4(__1,(*__6),(_84){.t=1});}if((*__5).t==0){_J3* __6=(*__5).u.Some.thing;_T4(__1,__6);}}else if((*__2).kind.t==12){_P3* __3=&((*__2).kind.u.LocalVarDef._type);_i2 __4=(*__2).kind.u.LocalVarDef.name;_Q3* __5=&((*__2).kind.u.LocalVarDef.value);if((*__3).t==0){_C3* __6=&((*__3).u.Some.thing);_U4(__6);_V4(__1,(*__6),(_84){.t=1});}if((*__5).t==0){_J3* __6=(*__5).u.Some.thing;_T4(__1,__6);}}else if((*__2).kind.t==13){_C3* __3=&((*__2).kind.u.SubCall.path);_K3 __4=(*__2).kind.u.SubCall.args;_U4(__3);_S4(__1,__4);}else if((*__2).kind.t==14){_C3* __3=&((*__2).kind.u.VarUse.path);_U4(__3);_V4(__1,(*__3),(_84){.t=0});}else if((*__2).kind.t==22){_K3 __3=(*__2).kind.u.LocalBlock.body;_S4(__1,__3);}else if((*__2).kind.t==23){_M3 __3=(*__2).kind.u.If._if;_R3 __4=(*__2).kind.u.If._elif;_S3 __5=(*__2).kind.u.If._else;_T4(__1,__3.cond);_S4(__1,__3.body);for(int __6=0;__6<(__4.len);__6+=1){_T4(__1,((__4.buf)[__6]).cond);((__4.buf)[__6]).body;}if(__5.t==0){_N3 __6=__5.u.Some.thing;_S4(__1,__6.body);}}else if((*__2).kind.t==24){_K3 __3=(*__2).kind.u.Loop.body;_S4(__1,__3);}else if((*__2).kind.t==25){_J3* __3=(*__2).kind.u.While.cond;_K3 __4=(*__2).kind.u.While.body;_T4(__1,__3);_S4(__1,__4);}else if((*__2).kind.t==26){_i2 __3=(*__2).kind.u.For.iter;_Q3 __4=(*__2).kind.u.For.iter_value;_J3* __5=(*__2).kind.u.For.cond;_J3* __6=(*__2).kind.u.For._next;_K3 __7=(*__2).kind.u.For.body;if(__4.t==0){_J3* __8=__4.u.Some.thing;_T4(__1,__8);}_T4(__1,__5);_T4(__1,__6);_S4(__1,__7);}else if((*__2).kind.t==27){_T3 __3=(*__2).kind.u.Each.vars;_J3* __4=(*__2).kind.u.Each.iter;_K3 __5=(*__2).kind.u.Each.body;_T4(__1,__4);_S4(__1,__5);}else if((*__2).kind.t==28){_J3* __3=(*__2).kind.u.Match.value;_K3 __4=(*__2).kind.u.Match.cases;_T4(__1,__3);_S4(__1,__4);}else if((*__2).kind.t==29){_K3 __3=(*__2).kind.u.Case.values;_K3 __4=(*__2).kind.u.Case.body;_S4(__1,__4);}else if((*__2).kind.t==30){_J3* __3=(*__2).kind.u.Echo.value;_T4(__1,__3);}else if((*__2).kind.t==31){_U3 __3=(*__2).kind.u.Ret.label;_Q3 __4=(*__2).kind.u.Ret.value;if(__4.t==0){_J3* __5=__4.u.Some.thing;_T4(__1,__5);}}else if((*__2).kind.t==34){_U3 __3=(*__2).kind.u.Try.label;_J3* __4=(*__2).kind.u.Try.value;_T4(__1,__4);}else if((*__2).kind.t==35){_J3* __3=(*__2).kind.u.UnaryOp.value;_z2 __4=(*__2).kind.u.UnaryOp.kind;_T4(__1,__3);}else if((*__2).kind.t==36){_J3* __3=(*__2).kind.u.BinaryOp.lhs;_J3* __4=(*__2).kind.u.BinaryOp.rhs;_z2 __5=(*__2).kind.u.BinaryOp.kind;_T4(__1,__3);_T4(__1,__4);}else if((*__2).kind.t==37){_J3* __3=(*__2).kind.u.TernaryOp.cond;_J3* __4=(*__2).kind.u.TernaryOp.valueA;_J3* __5=(*__2).kind.u.TernaryOp.valueB;_T4(__1,__3);_T4(__1,__4);_T4(__1,__5);}};uint8_t _P4(_C3 __1){if(((__1.parts).len)<=(_l1.len)){_94 __2=(_l1.buf)[(((__1.parts).len)-1)];for(int __3=0;__3<(__2.len);__3+=1){if(_N4(__1,((__2.buf)[__3]).path,0)){return 1;}}}return 0;};uint8_t _O4(_C3 __1){for(int __2=0;__2<((__1.parts).len);__2+=1){if((((((__1.parts).buf)[__2]).gens).len)>0){return 1;}}return 0;};void _J4(_H4 __1,_C3 __2,int __3){uint8_t __4=(__1.t)!=1;for(int __5=0;__5<((__2.parts).len);__5+=1){if(__4){((((__2.parts).buf)[__5]).pub)=1;}((((__2.parts).buf)[__5]).scope)=__3;}};_D3 _W4(_E3* this){_D3 __4=((*this).buf)[0];((*this).len)-=1;memmove((*this).buf,((*this).buf)+1,sizeof(_D3)*((*this).len));return __4;};void _U4(_C3* __1){for(;;){for(int __2=0;__2<(_m1.len);__2+=1){if(((_m1.buf)[__2]).is_mod){if((((*__1).parts).len)>=(((((_m1.buf)[__2]).alias).parts).len)){for(int __3=0;__3<(((((_m1.buf)[__2]).alias).parts).len);__3+=1){if(strcmp((((((((_m1.buf)[__2]).alias).parts).buf)[__3]).name).buf,(((((*__1).parts).buf)[__3]).name).buf)!=0){goto ll;}}for(int __3=0;__3<(((((_m1.buf)[__2]).alias).parts).len);__3+=1){_W4((&((*__1).parts)));}_L4((&((*__1).parts)),(((_m1.buf)[__2]).path).parts);goto l;}}else if(_N4((*__1),((_m1.buf)[__2]).alias,0)){(((*__1).parts).len)=0;_K4((&((*__1).parts)),(((_m1.buf)[__2]).path).parts);}ll:}ret_ll:return;l:}ret_l:};void _V4(_w2 __1,_C3 __2,_84 __3){if(((__2.parts).len)<=(_l1.len)){_94 __4=(_l1.buf)[(((__2.parts).len)-1)];for(int __5=0;__5<(__4.len);__5+=1){_C3 __6=((__4.buf)[__5]).path;if(_N4(__2,__6,0)){if((__3.t)!=3){if((__3.t)==0){if((((((__4.buf)[__5]).expr).kind).t)!=11){_x2((&__1),__2.index,"expected a variable");}}else if((__3.t)==1){if(((((((__4.buf)[__5]).expr).kind).t)!=6)&&((((((__4.buf)[__5]).expr).kind).t)!=7)){_x2((&__1),__2.index,"expected a type");}}else if((__3.t)==2){if((((((__4.buf)[__5]).expr).kind).t)!=10){_x2((&__1),__2.index,"expected a subroutine");}}}uint8_t __7=1;for(int __8=0;__5<((__2.parts).len);__5+=1){if((__5<(_o1.len))&&(strcmp(((((__6.parts).buf)[__5]).name).buf,(((_o1.buf)[__5]).name).buf)==0)){goto l;}if(__7){int __9=(((__2.parts).buf)[__5]).scope;while(((((__6.parts).buf)[__5]).scope)==__9){__5+=1;}__7=0;__5-=1;goto l;}if((((__6.parts).buf)[__5]).pub){goto l;}_x2((&__1),__2.index,"path is not public or in current scope");l:}ret_l:return;}}}_x2((&__1),__2.index,"path not defined");};void _X4(_A4* this,_94 __4){(((*this).buf)[((*this).len)])=__4;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_94)*((*this).cap));}};_94 _Y4(int __4){return (_94){.buf=malloc(sizeof(_64)*__4),.len=0,.cap=__4,};};void _a4(_94* this,_64 __7){(((*this).buf)[((*this).len)])=__7;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_64)*((*this).cap));}};_i2 _R4(_J3 __1,_C3 __2,uint8_t __3){while(((__2.parts).len)>(_l1.len)){_X4((&_l1),_Y4(16));}int __4=0;_C3 __5=__2;while(((((((__5.parts).buf)[0]).gens).len)==1)&&_I4(__5,"ptr")){__5=((((((__5.parts).buf)[0]).gens).buf)[0]);__4+=1;}_i2 __6=_Z4(_k1+=1,0,__4);_a4((&((_l1.buf)[(((__2.parts).len)-1)])),(_64){.expr=__1,.path=__2,.name=__6,});return __6;};_i2 _Z4(int __1,uint8_t __2,int __3){_m2 __4=_n2(4);_p2((&__4),'_');if(__2){_p2((&__4),'_');}while(__1>0){int __5=__1%62;if(__5<10){__5+=48;}else if(__5<36){__5+=55;}else{__5+=61;}_p2((&__4),__5);__1/=62;}for(int __5=0;__5<__3;__5+=1){_p2((&__4),'*');}return _u2((&__4));};uint8_t _I4(_C3 __1,uint8_t* __2){return (((__1.parts).len)==1)&&(strcmp(((((__1.parts).buf)[0]).name).buf,__2)==0);};uint8_t _N4(_C3 __1,_C3 __2,uint8_t __3){if(((__1.parts).len)!=((__2.parts).len)){return 0;}for(int __4=0;__4<((__1.parts).len);__4+=1){_D3 __5=((__1.parts).buf)[__4];_D3 __6=((__2.parts).buf)[__4];if(strcmp((__5.name).buf,(__6.name).buf)==0){if((__3==0)||_b4(__5.gens,__6.gens)){goto l;}}return 0;l:}ret_l:return 1;};uint8_t _b4(_H3 __1,_H3 __2){if((__1.len)!=(__2.len)){return 0;}for(int __3=0;__3<(__1.len);__3+=1){if(_N4((__1.buf)[__3],(__2.buf)[__3],1)==0){return 0;}}return 1;};void _Q4(_J3 __1,_C3 __2,_i2 __3){while(((__2.parts).len)>(_l1.len)){_X4((&_l1),_Y4(16));}_a4((&((_l1.buf)[(((__2.parts).len)-1)])),(_64){.expr=__1,.path=__2,.name=__3,});};void _e4(_i2 __1,_K3 __2){_p1=_l3(4);_q1=_n2(256);_r1=_n2(256);_s1=_n2(512);_t1=_n2(1024);_u1=_n2(1024);_f4((&_s1),__2,0,0);((_q1.buf)[(_q1.len)])='\0';((_r1.buf)[(_r1.len)])='\0';((_s1.buf)[(_s1.len)])='\0';((_t1.buf)[(_t1.len)])='\0';((_u1.buf)[(_u1.len)])='\0';FILE* __3=fopen(__1.buf,"w");for(int __4=0;__4<(_p1.len);__4+=1){fprintf(__3,"#include %c%s%c\n",34,((_p1.buf)[__4]).buf,34);}fprintf(__3,"%s",_q1.buf);fprintf(__3,"%s",_r1.buf);fprintf(__3,"%s",_s1.buf);fprintf(__3,"%s",_t1.buf);fprintf(__3,"%s",_u1.buf);fclose(__3);};void _f4(_m2* __1,_K3 __2,uint8_t __3,uint8_t __4){for(int __5=0;__5<(__2.len);__5+=1){uint8_t __6=(__5+1)==(__2.len);_g4(__1,(__2.buf)[__5],__6,__3,0);if(__4&&(__6==0)){_p2(__1,',');}}};_C3 _i4(_P3* this){if((*this).t==0){_C3 __A=(*this).u.Some.thing;return __A;}else if((*this).t==1){_v2("unwrap failed");}};void _g4(_m2* __1,_J3 __2,uint8_t __3,uint8_t __4,int __5){for(int __6=0;__6<((__2.tags).len);__6+=1){if(_I4((((__2.tags).buf)[__6]).path,"os")){if(((((((__2.tags).buf)[__6]).args).buf)[0]).kind.t==15){_i2 __7=((((((__2.tags).buf)[__6]).args).buf)[0]).kind.u.StringLit.value;
#if defined _WIN32
if(strcmp(__7.buf,"win")!=0){return;}
#elif defined __linux__
if(strcmp(__7.buf,"linux")!=0){return;}
#elif defined __APPLE__
if(strcmp(__7.buf,"mac")!=0){return;}
#endif
printf("");}}else if(_I4((((__2.tags).buf)[__6]).path,"req")){if(((((((__2.tags).buf)[__6]).args).buf)[0]).kind.t==15){_i2 __7=((((((__2.tags).buf)[__6]).args).buf)[0]).kind.u.StringLit.value;_h4(__7);}}else if(_I4((((__2.tags).buf)[__6]).path,"raw")){if(((((((__2.tags).buf)[__6]).args).buf)[0]).kind.t==15){_i2 __7=((((((__2.tags).buf)[__6]).args).buf)[0]).kind.u.StringLit.value;_p2(__1,'\n');_r2(__1,__7);_p2(__1,'\n');}}else if(_I4((((__2.tags).buf)[__6]).path,"bind")){return;}}if(__2.kind.t==2){_K3 __6=__2.kind.u.Block.body;_f4(__1,__6,0,0);}else if(__2.kind.t==3){_C3 __6=__2.kind.u.Mod.path;_K3 __7=__2.kind.u.Mod.body;_f4(__1,__7,0,0);}else if(__2.kind.t==5){_C3 __6=__2.kind.u.Field._type;_i2 __7=__2.kind.u.Field.name;_p2(__1,' ');if(__4){_r2(__1,__7);}else{if(strcmp(__7.buf,"this")==0){_s2(__1,"this");}else{}}if(__4){_p2(__1,';');}else if(__3==0){_p2(__1,',');}}else if(__2.kind.t==6){_C3 __6=__2.kind.u.Comp.path;_K3 __7=__2.kind.u.Comp.fields;_K3 __8=__2.kind.u.Comp.body;_s2((&_q1),"typedef struct ");_p2((&_q1),' ');_p2((&_q1),';');_m2 __9=_n2(128);_s2((&__9),"typedef struct ");_p2((&__9),'{');_f4((&__9),__7,1,0);_p2((&__9),'}');_p2((&__9),';');_r2((&_t1),_u2((&__9)));free(__9.buf);}else if(__2.kind.t==7){_C3 __6=__2.kind.u.Enum.path;_K3 __7=__2.kind.u.Enum.opts;_K3 __8=__2.kind.u.Enum.body;}else if(__2.kind.t==8){_C3 __6=__2.kind.u.Prop.path;_K3 __7=__2.kind.u.Prop.body;}else if(__2.kind.t==9){_C3 __6=__2.kind.u.Def._prop;_P3 __7=__2.kind.u.Def.target;_K3 __8=__2.kind.u.Def.body;_f4(__1,__8,0,0);}else if(__2.kind.t==10){_P3 __6=__2.kind.u.SubDef.ret_type;_C3 __7=__2.kind.u.SubDef.path;_K3 __8=__2.kind.u.SubDef.args;_K3 __9=__2.kind.u.SubDef.body;}else if(__2.kind.t==11){_P3 __6=__2.kind.u.VarDef._type;_C3 __7=__2.kind.u.VarDef.path;_Q3 __8=__2.kind.u.VarDef.value;_C3 __9=_i4((&__6));_p2(__1,' ');if(__8.t==0){_J3* __A=__8.u.Some.thing;_p2(__1,'=');_g4(__1,(*__A),0,0,0);}_p2(__1,';');}else if(__2.kind.t==12){_P3 __6=__2.kind.u.LocalVarDef._type;_i2 __7=__2.kind.u.LocalVarDef.name;_Q3 __8=__2.kind.u.LocalVarDef.value;_C3 __9=_i4((&__6));_p2(__1,' ');if(__8.t==0){_J3* __A=__8.u.Some.thing;_p2(__1,'=');_g4(__1,(*__A),0,0,0);}_p2(__1,';');}else if(__2.kind.t==13){_C3 __6=__2.kind.u.SubCall.path;_K3 __7=__2.kind.u.SubCall.args;if(((((((__6.parts).len)==2)&&((((((__6.parts).buf)[0]).gens).len)==0))&&((((((__6.parts).buf)[1]).gens).len)==1))&&(strcmp(((((__6.parts).buf)[0]).name).buf,"mem")==0))&&(strcmp(((((__6.parts).buf)[1]).name).buf,"size")==0)){_s2(__1,"sizeof(");_p2(__1,')');}else{_p2(__1,'(');_f4(__1,__7,0,1);_p2(__1,')');}if(__4){_p2(__1,';');}}else if(__2.kind.t==14){_C3 __6=__2.kind.u.VarUse.path;if(__4){_p2(__1,';');}}else if(__2.kind.t==15){_i2 __6=__2.kind.u.StringLit.value;_p2(__1,'"');_r2(__1,__6);_p2(__1,'"');}else if(__2.kind.t==16){_i2 __6=__2.kind.u.CharLit.value;_p2(__1,39);_r2(__1,__6);_p2(__1,39);}else if(__2.kind.t==17){_i2 __6=__2.kind.u.IntLit.value;_r2(__1,__6);}else if(__2.kind.t==18){_i2 __6=__2.kind.u.FloatLit.value;_r2(__1,__6);}else if(__2.kind.t==19){uint8_t __6=__2.kind.u.BoolLit.value;if(__6){_p2(__1,'1');}else{_p2(__1,'0');}}else if(__2.kind.t==20){_s2(__1,"(*this)");}else if(__2.kind.t==22){_K3 __6=__2.kind.u.LocalBlock.body;_p2(__1,'{');_f4(__1,__6,1,0);_p2(__1,'}');}else if(__2.kind.t==23){_M3 __6=__2.kind.u.If._if;_R3 __7=__2.kind.u.If._elif;_S3 __8=__2.kind.u.If._else;_s2(__1,"if(");_g4(__1,(*(__6.cond)),0,0,0);_s2(__1,"){");_f4(__1,__6.body,1,0);_p2(__1,'}');for(int __9=0;__9<(__7.len);__9+=1){_s2(__1,"else if(");_g4(__1,(*(((__7.buf)[__9]).cond)),0,0,0);_s2(__1,"){");_f4(__1,((__7.buf)[__9]).body,1,0);_p2(__1,'}');}if(__8.t==0){_N3 __9=__8.u.Some.thing;_s2(__1,"else{");_f4(__1,__9.body,1,0);_p2(__1,'}');}}else if(__2.kind.t==24){_K3 __6=__2.kind.u.Loop.body;if(__2.label.t==0){_i2 __7=__2.label.u.Some.thing;_r2(__1,__7);_p2(__1,':');}_s2(__1,"for(;;){");_f4(__1,__6,1,0);if(__2.label.t==0){_i2 __7=__2.label.u.Some.thing;_p2(__1,'_');_r2(__1,__7);_s2(__1,":}__");_r2(__1,__7);_s2(__1,":}");}else if(1){_p2(__1,'}');}}else if(__2.kind.t==25){_J3* __6=__2.kind.u.While.cond;_K3 __7=__2.kind.u.While.body;if(__2.label.t==0){_i2 __8=__2.label.u.Some.thing;_r2(__1,__8);_p2(__1,':');}_s2(__1,"while(");_g4(__1,(*__6),0,0,0);_s2(__1,"){");_f4(__1,__7,1,0);if(__2.label.t==0){_i2 __8=__2.label.u.Some.thing;_p2(__1,'_');_r2(__1,__8);_s2(__1,":}__");_r2(__1,__8);_s2(__1,":}");}else if(1){_p2(__1,'}');}}else if(__2.kind.t==26){_i2 __6=__2.kind.u.For.iter;_Q3 __7=__2.kind.u.For.iter_value;_J3* __8=__2.kind.u.For.cond;_J3* __9=__2.kind.u.For._next;_K3 __A=__2.kind.u.For.body;_s2(__1,"for(int ");if(__7.t==0){_J3* __B=__7.u.Some.thing;_p2(__1,'=');_g4(__1,(*__B),0,0,0);}_p2(__1,';');_g4(__1,(*__8),0,0,0);_p2(__1,';');_g4(__1,(*__9),0,0,0);_s2(__1,"){");_f4(__1,__A,1,0);if(__2.label.t==0){_i2 __B=__2.label.u.Some.thing;_r2(__1,__B);_p2(__1,':');}_p2(__1,'}');}else if(__2.kind.t==27){_T3 __6=__2.kind.u.Each.vars;_J3* __7=__2.kind.u.Each.iter;_K3 __8=__2.kind.u.Each.body;}else if(__2.kind.t==28){_J3* __6=__2.kind.u.Match.value;_K3 __7=__2.kind.u.Match.cases;}else if(__2.kind.t==29){_K3 __6=__2.kind.u.Case.values;_K3 __7=__2.kind.u.Case.body;}else if(__2.kind.t==30){_J3* __6=__2.kind.u.Echo.value;}else if(__2.kind.t==31){_U3 __6=__2.kind.u.Ret.label;_Q3 __7=__2.kind.u.Ret.value;if(__6.t==0){_i2 __8=__6.u.Some.thing;_s2(__1,"goto __");_r2(__1,__8);}else if(1){_s2(__1,"return");}if(__7.t==0){_J3* __8=__7.u.Some.thing;_p2(__1,' ');_g4(__1,(*__8),0,0,0);}_p2(__1,';');}else if(__2.kind.t==32){_i2 __6=__2.kind.u.Next.label;_s2(__1,"goto _");_r2(__1,__6);_p2(__1,';');}else if(__2.kind.t==33){_i2 __6=__2.kind.u.Jump.label;_s2(__1,"goto ");_r2(__1,__6);_p2(__1,';');}else if(__2.kind.t==34){_U3 __6=__2.kind.u.Try.label;_J3* __7=__2.kind.u.Try.value;}else if(__2.kind.t==35){_J3* __6=__2.kind.u.UnaryOp.value;_z2 __7=__2.kind.u.UnaryOp.kind;_p2(__1,'(');if(__7.t==54){_p2(__1,'!');}else if(__7.t==50){_p2(__1,'*');}else if(__7.t==51){_p2(__1,'&');}_g4(__1,(*__6),0,0,__5+1);_p2(__1,')');}else if(__2.kind.t==36){_J3* __6=__2.kind.u.BinaryOp.lhs;_J3* __7=__2.kind.u.BinaryOp.rhs;_z2 __8=__2.kind.u.BinaryOp.kind;if(__5>0){_p2(__1,'(');}if(__8.t==35){_p2(__1,'(');_g4(__1,(*__7),0,0,__5+1);_p2(__1,')');_g4(__1,(*__6),0,0,__5+1);}else if(1){_g4(__1,(*__6),0,0,__5+1);if(__8.t==52){_p2(__1,'=');}else if(__8.t==53){_s2(__1,"==");}else if(__8.t==56){_s2(__1,"&&");}else if(__8.t==57){_s2(__1,"||");}else if(__8.t==58){_p2(__1,'<');}else if(__8.t==59){_s2(__1,"<=");}else if(__8.t==60){_p2(__1,'>');}else if(__8.t==61){_s2(__1,">=");}else if(__8.t==62){_p2(__1,'+');}else if(__8.t==63){_s2(__1,"+=");}else if(__8.t==64){_p2(__1,'-');}else if(__8.t==65){_s2(__1,"-=");}else if(__8.t==66){_p2(__1,'*');}else if(__8.t==67){_s2(__1,"*=");}else if(__8.t==68){_p2(__1,'/');}else if(__8.t==69){_s2(__1,"/=");}else if(__8.t==70){_p2(__1,'%');}else if(__8.t==71){_s2(__1,"%=");}else if(__8.t==55){_s2(__1,"!=");}else if(__8.t==40){_p2(__1,'.');if((*__7).kind.t==14){}goto ret_m;}else if(__8.t==48){_p2(__1,'[');}_g4(__1,(*__7),0,0,__5+1);if(__8.t==48){_p2(__1,']');}}ret_m:if(__5>0){_p2(__1,')');}if(__4>0){_p2(__1,';');}}else if(__2.kind.t==37){_J3* __6=__2.kind.u.TernaryOp.cond;_J3* __7=__2.kind.u.TernaryOp.valueA;_J3* __8=__2.kind.u.TernaryOp.valueB;_g4(__1,(*__6),0,0,__5+1);_p2(__1,'?');_g4(__1,(*__7),0,0,__5+1);_p2(__1,':');_g4(__1,(*__8),0,0,__5+1);}if(__2.label.t==0){_i2 __6=__2.label.u.Some.thing;_p2(__1,'_');_r2(__1,__6);_p2(__1,':');}};void _h4(_i2 __1){for(int __2=0;__2<(_p1.len);__2+=1){if(strcmp(((_p1.buf)[__2]).buf,__1.buf)==0){return;}}_m3((&_p1),__1);};void _k4(_d4* this,_c4 __9){(((*this).buf)[((*this).len)])=__9;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_c4)*((*this).cap));}};void _j4(_C3 __1){for(int __2=0;__2<((__1.parts).len);__2+=1){for(int __3=0;__3<(((((__1.parts).buf)[__2]).gens).len);__3+=1){_j4((((((__1.parts).buf)[__2]).gens).buf)[__3]);}}_94 __2=(_l1.buf)[(((__1.parts).len)-1)];for(int __3=0;__3<(__2.len);__3+=1){_C3 __4=((__2.buf)[__3]).path;if(_N4(__1,__4,0)){int __5=_u.len;for(int __6=0;__6<((__4.parts).len);__6+=1){_D3 __7=((__4.parts).buf)[__6];for(int __8=0;__8<(((((__4.parts).buf)[__6]).gens).len);__8+=1){_k4((&_u),(_c4){.name=((((((__7.gens).buf)[__8]).parts).buf)[0]).name,.path=(((((__1.parts).buf)[__6]).gens).buf)[__8],});}}_g4(0,((__2.buf)[__3]).expr,0,0,0);(_u.len)=__5;return;}}};void _l4(uint8_t* __1,uint8_t* __2,uint8_t* __3){printf(__2);printf("\n\nUSAGE:\n    cup ");printf(__1);printf(" [OPTIONS]\n\nOPTIONS:");printf(__3);printf("\n");};_m4 _n4(_o4 __1){if((__1.len)==1){return (_m4){.t=1};}uint8_t __2=0;_m2 __3=_n2(16);for(int __4=1;__4<(__1.len);__4+=1){if(__4==4){goto ret_l;}if(((((__1.buf)[__4]).buf)[0])=='-'){if(__2){goto ret_l;}goto l;}__2=1;for(int __5=0;__5<(((__1.buf)[__4]).len);__5+=1){_p2((&__3),(((__1.buf)[__4]).buf)[__5]);}l:}ret_l:uint8_t* __4=__3.buf;if(strcmp(__4,"help")==0){return (_m4){.t=1};}else if(strcmp(__4,"helprun")==0){return (_m4){.t=2};}else if(strcmp(__4,"helpbuild")==0){return (_m4){.t=3};}else if(strcmp(__4,"helpcheck")==0){return (_m4){.t=4};}else if(strcmp(__4,"helpupdate")==0){return (_m4){.t=6};}else if(strcmp(__4,"helpadd")==0){return (_m4){.t=7};}else if(strcmp(__4,"helpremove")==0){return (_m4){.t=8};}else if(strcmp(__4,"helpgendocs")==0){return (_m4){.t=9};}else if(strcmp(__4,"helpgenbinds")==0){return (_m4){.t=10};}else if(strcmp(__4,"helpselfupdate")==0){return (_m4){.t=11};}else if(strcmp(__4,"helpselfinstall")==0){return (_m4){.t=12};}else if(strcmp(__4,"helpselfuninstall")==0){return (_m4){.t=13};}else if(strcmp(__4,"run")==0){return (_m4){.t=14};}else if(strcmp(__4,"build")==0){return (_m4){.t=15};}else if(strcmp(__4,"check")==0){return (_m4){.t=16};}else if(strcmp(__4,"update")==0){return (_m4){.t=18};}else if(strcmp(__4,"add")==0){return (_m4){.t=19};}else if(strcmp(__4,"remove")==0){return (_m4){.t=20};}else if(strcmp(__4,"gendocs")==0){return (_m4){.t=21};}else if(strcmp(__4,"genbinds")==0){return (_m4){.t=22};}else if(strcmp(__4,"selfupdate")==0){return (_m4){.t=23};}else if(strcmp(__4,"selfinstall")==0){return (_m4){.t=24};}else if(strcmp(__4,"selfuninstall")==0){return (_m4){.t=25};}return (_m4){.t=0};};_o4 _p4(int __4){return (_o4){.buf=malloc(sizeof(_i2)*__4),.len=__4,};};int main(int __1,uint8_t** __2){_o4 __3=_p4(__1);for(int __4=0;__4<(__3.len);__4+=1){((__3.buf)[__4])=_k2((*(__2+__4)));}_m4 __4=_n4(__3);if(__4.t==0){_g2((_f2){.t=2});printf("error: ");_h2();printf("no such command: '%s",(__3.buf)[1]);for(int __5=2;__5<__1;__5+=1){printf(" %s",(__3.buf)[__5]);}printf("'\n\nSee 'cup help' for the list of available commands.\n");return 1;}else if(__4.t==14||__4.t==15){goto ret_m;}else if(__4.t==16||__4.t==17||__4.t==18||__4.t==19||__4.t==20||__4.t==21||__4.t==22||__4.t==23||__4.t==24||__4.t==25){return 1;}else if(__4.t==1){printf("Cup Toolkit v0.0.1\n\n");printf("USAGE:\n    cup [COMMAND] [OPTIONS]");printf("\n\nCOMMANDS:");printf("\n    run                  Compile and run the current package");printf("\n    build                Compile the current package");printf("\n    check                Analyze the current package");printf("\n    new [PACKAGE]        Create a new package");printf("\n    update [PACKAGE]     Update given dependency");printf("\n    add [PACKAGE]        Add given dependency");printf("\n    remove [PACKAGE]     Remove given dependency");printf("\n    gen docs             Generate documentation for the current package");printf("\n    gen binds [HEADER]   Generate bindings for a given C header file");printf("\n    self update          Update the Cup Toolkit");printf("\n    self install         Install the Cup Toolkit");printf("\n    self uninstall       Uninstall the Cup Toolkit");printf("\n\nSee 'cup help [COMMAND]' for more info about a specific command and it's available options.\n");return 0;}else if(__4.t==2){_l4("run","Compile and run the current package",_w1);return 0;}else if(__4.t==3){_l4("build","Compile the current package",_w1);return 0;}else if(__4.t==4){_l4("check","Analyze the current package",_v1);return 0;}else if(__4.t==5){_l4("new","Create a new package",_v1);return 0;}else if(__4.t==6){_l4("update","Update given dependency",_v1);return 0;}else if(__4.t==7){_l4("add","Add given dependency",_v1);return 0;}else if(__4.t==8){_l4("remove","Remove given dependency",_v1);return 0;}else if(__4.t==9){_l4("gen docs","Generate documentation for the current package",_v1);return 0;}else if(__4.t==10){_l4("gen binds","Generate bindings for a given C header file",_v1);return 0;}else if(__4.t==11){_l4("self update","Update the Cup Toolkit",_v1);return 0;}else if(__4.t==12){_l4("self install","Install the Cup Toolkit",_v1);return 0;}else if(__4.t==13){_l4("self uninstall","Uninstall the Cup Toolkit",_v1);return 0;}ret_m:_U3 __5=(_U3){.t=1};_U3 __6=(_U3){.t=1};for(int __7=2;__7<(__3.len);__7+=1){if((strcmp(((__3.buf)[__7]).buf,"-i")==0)||(strcmp(((__3.buf)[__7]).buf,"--input")==0)){_q4((&__5),__3,__7+=1);}else if((strcmp(((__3.buf)[__7]).buf,"-o")==0)||(strcmp(((__3.buf)[__7]).buf,"--output")==0)){_q4((&__6),__3,__7+=1);}else{_g2((_f2){.t=2});printf("error: ");_h2();printf("invalid option '%s'\n",((__3.buf)[__7]).buf);return 1;}}if((__5.t)==1){__5=(_U3){.t=0,.u={.Some={.thing=_k2("."),}}};}if((__6.t)==1){__6=(_U3){.t=0,.u={.Some={.thing=_k2("out.c"),}}};}_K3 __7=_X3(8);_C4();_r4(_n3((&__5)),(&__7));_e4(_n3((&__6)),__7);printf("Compilation ");_g2((_f2){.t=1});printf("successful");_h2();printf(" (%.2lfs elapsed)\n",_e2());return 0;};void _q4(_U3* __1,_o4 __2,int __3){if((__2.len)>__3){(*__1)=(_U3){.t=0,.u={.Some={.thing=(__2.buf)[__3],}}};}else{_v2("missing value after '%s' option",((__2.buf)[(__3-1)]).buf);}};_u4 _v4(int __6){return (_u4){.buf=malloc(sizeof(_t4)*__6),.len=0,.cap=__6,};};void _w4(_u4* this,_t4 __C){(((*this).buf)[((*this).len)])=__C;((*this).len)+=1;if(((*this).len)==((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_t4)*((*this).cap));}};void _x4(_K3* this,_K3 __C){if((__C.len)==0){return;}int __D=(*this).len;((*this).len)+=(__C.len);while(((*this).len)>=((*this).cap)){((*this).cap)*=4;((*this).buf)=realloc((*this).buf,sizeof(_J3)*((*this).cap));}memcpy(((*this).buf)+__D,__C.buf,sizeof(_J3)*(__C.len));};void _r4(_i2 __1,_K3* __2){DIR* __3=opendir(__1.buf);if(__3==0){_v2("no such file or directory: '%s'\n",__1.buf);}struct dirent* __4;for(;;){__4=readdir(__3);if(__4==0){goto ret_d;}if(((*__4).d_type)==DT_DIR){if((strcmp((*__4).d_name,".")==0)||(strcmp((*__4).d_name,"..")==0)){goto d;}_i2 __5=_s4(__1,_k2((*__4).d_name));_r4(__5,__2);free(__5.buf);}d:}ret_d:rewinddir(__3);_u4 __5=_v4(4);for(;;){__4=readdir(__3);if(__4==0){goto ret_f;}if(((*__4).d_type)==DT_REG){_i2 __6=_s4(__1,_k2((*__4).d_name));FILE* __7=fopen(__6.buf,"r");fseek(__7,0,SEEK_END);_i2 __8=_j2(ftell(__7));rewind(__7);fread(__8.buf,(__8.len)+1,1,__7);fclose(__7);printf("Compiling %s:\n",__6);_w2 __9=(_w2){.name=__6,.data=__8,};_83 __A=_73(__9);_K3 __B=_W3(__9,__A);free(__A.buf);_F4(__9,__B);_w4((&__5),(_t4){.file=__9,.exprs=__B,});_x4(__2,__B);}f:}ret_f:closedir(__3);for(int __6=0;__6<(__5.len);__6+=1){_t4 __7=(__5.buf)[__6];_S4(__7.file,__7.exprs);_v3(__7.exprs);free(((__7.file).name).buf);free(((__7.file).data).buf);}free(__5.buf);};_i2 _s4(_i2 __1,_i2 __2){_i2 __3=_j2(((__1.len)+1)+(__2.len));memcpy(__3.buf,__1.buf,sizeof(uint8_t)*(__1.len));((__3.buf)[(__1.len)])='/';memcpy(((__3.buf)+(__1.len))+1,__2.buf,sizeof(uint8_t)*(__2.len));((__3.buf)[(__3.len)])='\0';return __3;};